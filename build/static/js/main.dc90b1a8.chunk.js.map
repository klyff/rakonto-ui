{"version":3,"sources":["videoJsPlugins/video-recorder/videojs.record.js","components/suport/CommentThread/EditorWithMentions/MentionsStyles.module.css","videoJsPlugins/videojs-wavesurfer/videojs.wavesurfer.js","components/modals/style.ts","components/modals/ModalBasicLayout.tsx","components/modals/BasicModal/state.ts","components/modals/BasicModal/Component.tsx","components/modals/FormModal/state.ts","components/modals/FormModal/Component.tsx","components/modals/index.tsx","states/mediaQueryState.ts","layout/AuthenticatedLayout/state.ts","states/userState.ts","components/suport/Avatar/style.ts","components/suport/Avatar/index.tsx","layout/AuthenticatedLayout/NavBar/style.ts","api/index.ts","api/services.ts","layout/AuthenticatedLayout/NavBar/SearchInput/index.tsx","layout/AuthenticatedLayout/NavBar/SearchInput/useSuggestionApi.ts","layout/AuthenticatedLayout/NavBar/index.tsx","layout/AuthenticatedLayout/Sidebar/style.ts","layout/AuthenticatedLayout/Sidebar/Menu.tsx","layout/AuthenticatedLayout/Sidebar/index.tsx","states/mediaStatusState.ts","hooks/useMediaStatus.ts","layout/AuthenticatedLayout/index.tsx","layout/PublicLayout/style.ts","layout/PublicLayout/index.tsx","components/forms/SigninForm/schema.ts","components/suport/FormFields/style.ts","components/suport/FormFields/Input.tsx","components/suport/FormFields/TextArea.tsx","components/suport/FormFields/Select.tsx","components/suport/MessageLink/style.ts","components/suport/MessageLink/index.tsx","components/forms/SigninForm/index.tsx","components/forms/ForgotPasswordForm/schema.ts","components/forms/ForgotPasswordForm/index.tsx","components/forms/SignupForm/schema.ts","components/forms/SignupForm/index.tsx","components/suport/LazyImage/style.ts","components/suport/LazyImage/index.tsx","components/suport/StoryCard/style.ts","components/suport/StoryCard/PlaceholderVideo.png","components/suport/StoryCard/PlaceholderAudio.png","hooks/useStoryPreview.ts","components/suport/StoryCard/index.tsx","hooks/useInfiniteScroll.ts","hooks/usePageableRequest.ts","components/contents/style.ts","components/suport/LoadingArea/index.tsx","components/contents/Home/index.tsx","components/contents/Profile/style.ts","components/contents/Profile/Menu.tsx","components/contents/Profile/TabsContent/ChangePassword/schema.ts","components/contents/Profile/TabsContent/ChangePassword/style.ts","components/contents/Profile/TabsContent/ChangePassword/index.tsx","components/contents/Profile/TabsContent/General/schema.ts","components/suport/UploadAvatar/style.ts","components/suport/UploadAvatar/index.tsx","components/contents/Profile/TabsContent/General/style.ts","components/contents/Profile/TabsContent/General/index.tsx","components/contents/Profile/index.tsx","components/contents/Signout/index.tsx","components/contents/ConfirmEmail/schema.ts","components/contents/ConfirmEmail/index.tsx","components/contents/StoryNew/style.ts","components/contents/StoryNew/DropArea/style.ts","components/contents/StoryNew/DropArea/index.tsx","hooks/useCreateStory.ts","components/contents/StoryNew/index.tsx","components/contents/StoryShow/style.ts","components/contents/StoryShow/Menu.tsx","components/suport/VideoJS/style.ts","components/suport/VideoJS/index.tsx","components/suport/Player/VideoJs.tsx","components/suport/Player/style.ts","components/suport/Player/AudioJs.tsx","components/suport/Player/index.tsx","components/suport/CommentThread/CommentEditor/style.ts","components/suport/CommentThread/EditorWithMentions/Entry.tsx","components/suport/CommentThread/EditorWithMentions/index.tsx","components/suport/CommentThread/CommentEditor/index.tsx","components/suport/CommentThread/Comment/style.ts","components/suport/ShowMore/index.tsx","components/suport/CommentThread/Comment/index.tsx","components/suport/CommentThread/index.tsx","components/suport/CommentThread/useCommentApi.ts","components/contents/StoryShow/TabsContent/Info/style.ts","components/contents/StoryShow/TabsContent/Info/index.tsx","components/contents/StoryShow/TabsContent/Links/style.ts","components/contents/StoryShow/TabsContent/Links/LinksList.tsx","components/contents/StoryShow/TabsContent/Links/index.tsx","components/contents/StoryShow/TabsContent/Files/style.ts","components/contents/StoryShow/TabsContent/Files/FilesList.tsx","components/contents/StoryShow/TabsContent/Files/index.tsx","components/contents/StoryShow/TabsContent/Gallery/style.ts","components/suport/ImageViewer/style.ts","components/suport/ImageViewer/index.tsx","components/contents/StoryShow/TabsContent/Gallery/GalleryItem.tsx","components/contents/StoryShow/TabsContent/Gallery/index.tsx","components/contents/StoryShow/TabsContent/People/style.ts","components/contents/StoryShow/TabsContent/People/Peoples.tsx","components/contents/StoryShow/TabsContent/People/index.tsx","components/contents/StoryShow/TabsContent/Timeline/style.ts","components/contents/StoryShow/TabsContent/Timeline/index.tsx","components/contents/StoryShow/TabsContent/Transcript/style.ts","components/contents/StoryShow/TabsContent/Transcript/index.tsx","components/contents/StoryShow/TabsContent/Places/style.ts","components/suport/MapViewer/index.tsx","components/contents/StoryShow/TabsContent/Places/index.tsx","components/contents/StoryShow/RelatedVideos.tsx","components/contents/StoryShow/index.tsx","components/contents/StoryShow/useApiStory.ts","components/contents/StoryDetails/Menu.tsx","components/modals/AddCollectionFormModal/schema.ts","components/suport/CoverDropArea/style.ts","types.ts","components/suport/CoverDropArea/useCoverStatus.ts","components/suport/CoverDropArea/index.tsx","components/suport/CoverDropArea/useCoverApi.ts","components/modals/AddCollectionFormModal/index.tsx","components/modals/AddCollectionFormModal/useCollectionApi.ts","components/contents/StoryDetails/TabsContent/Info/StoryDetailForm/style.ts","components/contents/StoryDetails/TabsContent/Info/StoryDetailForm/index.tsx","components/contents/StoryDetails/TabsContent/Info/StoryDetailForm/useCollectionList.ts","components/contents/StoryDetails/TabsContent/style.ts","components/contents/StoryDetails/TabsContent/Info/style.ts","components/contents/StoryDetails/TabsContent/Info/index.tsx","components/contents/StoryDetails/TabsContent/Transcript/style.ts","components/contents/StoryDetails/TabsContent/Transcript/index.tsx","components/modals/AddEditTimelineFormModal/schema.ts","components/modals/AddEditTimelineFormModal/index.tsx","components/contents/StoryDetails/TabsContent/Timeline/style.ts","components/contents/StoryDetails/TabsContent/Timeline/Ocurrencies.tsx","components/contents/StoryDetails/TabsContent/Timeline/index.tsx","components/contents/StoryDetails/TabsContent/Timeline/useTimelineApi.ts","components/suport/UploadButton/index.tsx","components/contents/StoryDetails/TabsContent/Files/style.ts","components/contents/StoryDetails/TabsContent/Files/FilesList.tsx","components/contents/StoryDetails/TabsContent/Files/index.tsx","components/contents/StoryDetails/TabsContent/Links/style.ts","components/contents/StoryDetails/TabsContent/Links/LinksList.tsx","components/modals/AddEditLinkFormModal/schema.ts","components/modals/AddEditLinkFormModal/index.tsx","components/modals/AddEditLinkFormModal/useLinkApi.ts","components/contents/StoryDetails/TabsContent/Links/index.tsx","components/contents/StoryDetails/TabsContent/Gallery/style.ts","components/contents/StoryDetails/TabsContent/Gallery/GalleryItem.tsx","components/contents/StoryDetails/TabsContent/Gallery/index.tsx","components/contents/StoryDetails/TabsContent/Subtitles/style.ts","components/contents/StoryDetails/TabsContent/Subtitles/SubtitleList.tsx","components/contents/StoryDetails/TabsContent/Subtitles/index.tsx","components/contents/StoryDetails/TabsContent/People/style.ts","components/contents/StoryDetails/TabsContent/People/Peoples.tsx","components/contents/StoryDetails/TabsContent/People/Search.tsx","components/modals/AddEditPersonFormModal/schema.ts","components/modals/AddEditPersonFormModal/index.tsx","components/modals/AddEditPersonFormModal/usePeopleApi.ts","components/contents/StoryDetails/TabsContent/People/index.tsx","components/contents/StoryDetails/TabsContent/People/usePeopleApi.ts","components/modals/AddEditPlaceFormModal/schema.ts","components/modals/AddEditPlaceFormModal/style.ts","components/modals/AddEditPlaceFormModal/Search.tsx","components/modals/AddEditPlaceFormModal/index.tsx","components/contents/StoryDetails/TabsContent/Places/style.ts","components/contents/StoryDetails/TabsContent/Places/PlacesList.tsx","components/contents/StoryDetails/TabsContent/Places/index.tsx","components/contents/StoryDetails/TabsContent/Places/usePlacesApi.ts","components/contents/StoryDetails/TabsContent/Share/style.ts","components/contents/StoryDetails/TabsContent/Share/Whatchers.tsx","components/contents/StoryDetails/TabsContent/Share/schema.ts","components/contents/StoryDetails/TabsContent/Share/index.tsx","components/contents/StoryDetails/PreviewBox/style.ts","components/contents/StoryDetails/PreviewBox/index.tsx","components/contents/StoryDetails/index.tsx","components/contents/StoryDetails/useApiStory.ts","components/contents/Stories/index.tsx","components/suport/CollectionCard/style.ts","components/suport/CollectionCard/PlaceholderCollection.png","components/suport/CollectionCard/index.tsx","components/contents/Collections/style.ts","components/contents/Collections/index.tsx","components/contents/People/style.ts","components/contents/People/Peoples.tsx","components/contents/People/index.tsx","components/contents/Places/style.ts","components/contents/Places/PlacesList.tsx","components/contents/Places/index.tsx","components/contents/Photos/style.ts","components/contents/Photos/GalleryItem.tsx","components/contents/Photos/index.tsx","components/contents/Files/style.ts","components/contents/Files/FilesList.tsx","components/contents/Files/index.tsx","components/contents/Timelines/style.ts","components/contents/Timelines/Ocurrencies.tsx","components/contents/Timelines/index.tsx","components/contents/CollectionsDetails/schema.ts","components/contents/CollectionsDetails/style.ts","components/contents/CollectionsDetails/index.tsx","components/contents/CollectionsDetails/useCollectionApi.ts","components/contents/Error/style.ts","components/contents/Error/Forbidden.tsx","components/contents/Error/NotFound.tsx","components/forms/ChangePasswordForm/schema.ts","components/forms/ChangePasswordForm/index.tsx","components/contents/Recorder/VideoRecorder.tsx","components/contents/Recorder/AudioRecorder.tsx","components/contents/Recorder/style.ts","components/contents/Recorder/index.tsx","Routes.tsx","components/contents/Error/Error.tsx","ResizeObserver.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["factory","self","__WEBPACK_EXTERNAL_MODULE_recordrtc__","__WEBPACK_EXTERNAL_MODULE_video_js__","__webpack_modules__","module","exports","ReferenceError","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","fn","this","args","arguments","apply","err","undefined","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","prototype","__unused_webpack_exports","__webpack_require__","superPropBase","_get","property","receiver","Reflect","get","base","desc","getOwnPropertyDescriptor","call","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","subClass","superClass","create","constructor","obj","__esModule","_typeof","assertThisInitialized","_setPrototypeOf","p","object","hasOwnProperty","Symbol","iterator","__WEBPACK_AMD_DEFINE_RESULT__","addZero","digits","size","isNegative","Number","buffer","toString","slice","Array","join","concat","_interopRequireDefault","default","_classCallCheck2","_createClass2","_get2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_video","_createSuper","Derived","hasNativeReflectConstruct","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","result","Super","NewTarget","Component","getComponent","AnimationDisplay","_Component","_super","imgElement","dom","createEl","el","className","dir","appendChild","registerComponent","_default","_event","Button","CameraButton","_Button","on","player_","START_RECORD","onStart","STOP_RECORD","onStop","off","layoutExclude","event","recorder","record","isProcessing","retrySnapshot","trigger","RETRY","start","removeClass","addClass","controlText","controlText_","DeviceButton","getDevice","_regenerator","_asyncToGenerator2","PictureInPictureToggle","player","options","_this","ENTER_PIP","LEAVE_PIP","_handleClick","mark","_callee","wrap","_context","prev","next","disable","mediaElement","document","pictureInPictureElement","requestPictureInPicture","exitPictureInPicture","t0","ERROR","enable","finish","stop","_x","RecordCanvas","canvasElement","RecordIndicator","attr","localize","show","hide","RecordToggle","isRecording","image","audio","video","animation","screen","maxLength","maxFileSize","displayMilliseconds","formatTime","frameWidth","frameHeight","debug","pip","autoMuteDevice","videoBitRate","videoEngine","videoFrameRate","videoMimeType","videoRecorderType","videoWorkerURL","videoWebAssemblyURL","audioEngine","audioRecorderType","audioMimeType","audioBufferSize","audioSampleRate","audioBitRate","audioChannels","audioWorkerURL","audioWebAssemblyURL","audioBufferUpdate","animationFrameRate","animationQuality","imageOutputType","imageOutputFormat","imageOutputQuality","timeSlice","convertEngine","convertWorkerURL","convertOptions","convertAuto","hotKeys","pluginLibraryOptions","__unused_webpack_module","FFMPEGWASM","FFMPEGJS","TSEBML","CONVERT_PLUGINS","ConvertEngine","_fileUtil","evented","mediaType","data","blobToArrayBuffer","fileObj","now","addFileInfo","name","fileName","keys","downloadBlob","convertedData","getConvertEngine","getVideoEngine","isAudioPluginActive","getAudioEngine","_recordRtc","_convertEngine","_recordEngine","AudioEngineClass","RECORDRTC","LIBVORBISJS","LibVorbisEngine","RECORDERJS","RecorderjsEngine","LAMEJS","LamejsEngine","OPUSRECORDER","OpusRecorderEngine","OPUSMEDIARECORDER","OpusMediaRecorderEngine","VMSG","VmsgEngine","Error","VideoEngineClass","WEBMWASM","WebmWasmEngine","AUDIO_PLUGINS","indexOf","ConvertEngineClass","TsEBMLEngine","FFmpegjsEngine","FFmpegWasmEngine","VIDEO_PLUGINS","RECORD_PLUGINS","RecordEngine","recordedData","URL","revokeObjectURL","dispose","RECORD_COMPLETE","AUDIO_SCREEN","SCREEN_ONLY","ANIMATION","AUDIO_VIDEO","VIDEO_ONLY","AUDIO_ONLY","IMAGE_ONLY","getRecorderMode","isModeEnabled","mode","_recordrtc","_recordMode","RecordRTCEngine","_RecordEngine","stream","inputStream","recorderType","engine","MRecordRTC","disableLogs","mimeType","bufferSize","sampleRate","numberOfAudioChannels","canvas","bitrate","bitRate","quality","frameRate","onTimeStamp","bind","workerPath","webAssemblyPath","addStream","destroy","startRecording","stopRecording","onStopRecording","pauseRecording","resumeRecording","save","audioVideoURL","type","recordType","getRecordType","getBlob","recording","gif","current","all","internal","currentTimestamp","allTimestamps","audioRecorder","gifRecorder","videoRecorder","maxFileSizeReached","getInternalRecorder","MediaStreamRecorder","getArrayOfBlobs","Blob","TIMESTAMP","Event","READY","PLAYING","LOADEDMETADATA","LOADSTART","USERINACTIVE","TIMEUPDATE","DURATIONCHANGE","ENDED","PAUSE","PLAY","DEVICE_READY","DEVICE_ERROR","FINISH_RECORD","PROGRESS_RECORD","ENUMERATE_READY","ENUMERATE_ERROR","AUDIO_BUFFER_UPDATE","AUDIO_OUTPUT_READY","START_CONVERT","FINISH_CONVERT","ENTERPICTUREINPICTURE","LEAVEPICTUREINPICTURE","freeze","which","cameraButton","recordToggle","pictureInPicture","pipToggle","controlBar","playToggle","contentEl","element","srcObject","mozSrcObject","v1","v2","split","k","Math","min","parseInt","isFirefox","isSafari","isChrome","isOpera","isEdge","detectBrowser","_window","navigator","browser","mozGetUserMedia","version","extractVersion","userAgent","minVersion","webkitGetUserMedia","mediaDevices","match","RTCPeerConnection","uastring","expr","pos","opera","_mime","msSaveOrOpenBlob","msSaveBlob","hyperlink","createElement","href","createObjectURL","download","style","body","documentElement","click","dispatchEvent","MouseEvent","view","window","bubbles","cancelable","reader","FileReader","onloadend","onerror","ev","readAsArrayBuffer","dateObj","fileExtension","File","Date","lastModified","getTime","lastModifiedDate","_parseMs","_addZero","seconds","guide","isNaN","Infinity","inputTime","guideTime","hr","hours","minutes","sec","ms","milliseconds","days","day","EXTRACT_TYPE_REGEXP","Mimetypes","exec","toLowerCase","win","g","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","GenStateSuspendedStart","method","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","awrap","async","iter","reverse","pop","skipTempReset","charAt","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","__unused_webpack___webpack_module__","__webpack_exports__","parseMilliseconds","roundTowardsZero","floor","ceil","microseconds","nanoseconds","r","d","__webpack_module_cache__","moduleId","cachedModule","definition","globalThis","prop","register","_videojs","videojs","Record","getPlugin","registerPlugin","_typeof2","_assertThisInitialized2","_animationDisplay","_recordCanvas","_deviceButton","_cameraButton","_recordToggle","_recordIndicator","_pictureInPictureToggle","_hotKeys","_defaults","_formatTime","_browserShim","_compareVersion","_detectBrowser","_engineLoader","Plugin","Player","AUTO","_Plugin","play","retval","techGet_","loadOptions","resetState","setFormatTime","deviceIcon","buildCSSClass","deviceButton","addChild","recordIndicator","recordCanvas","animationDisplay","oldVideoJS","VERSION","onEnterPiPHandler","onEnterPiP","onLeavePiPHandler","onLeavePiP","options_","customUIElements","one","setupUI","newOptions","recordOptions","mergeOptions","plugins","recordImage","recordAudio","recordVideo","recordAnimation","recordScreen","recordTimeSlice","videoFrameWidth","videoFrameHeight","_this2","insertBefore","firstChild","pictureInPictureToggle","remainingTimeDisplay","display","liveDisplay","loop","surfer","wavesurfer","bigPlayButton","setDuration","usingNativeControls_","tech_","el_","controls","removeTechControlsListeners_","progressControl","userActive","handler","userActions","hotkeys","_recording","_processing","destroyed","children","_this3","deviceReadyCallback","onDeviceReady","deviceErrorCallback","onDeviceError","engineStopCallback","onRecordComplete","streamVisibleCallback","onStreamVisible","getDisplayMedia","getUserMedia","microphone","un","setupPlaybackEvents","liveMode","paused","backend","ac","resume","reloadBufferFunction","empty","loadDecodedBuffer","inputBuffer","addEventListener","catch","audioScreenConstraints","screenStream","mic","addTrack","getTracks","code","active","screenOnlyConstraints","_this4","_deviceActive","setCurrentTime","playbackTimeUpdate","EngineClass","engineType","width","height","setup","converter","muted","displayVolumeControl","removeEventListener","load","isDestroyed","deviceErrorCode","_this5","startVideoPreview","captureFrame","muteTracks","createSnapshot","pauseTime","pausedTime","startTime","performance","countDown","setInterval","onCountDown","clearInterval","stopStream","stopDevice","pause","_this6","convert","loadingSpinner","once","streamDuration","showAnimation","hideAnimation","duration","currentTime","streamCurrentTime","getCurrentTime","currentTimeDisplay","lastChild","formattedTime_","textContent","durationDisplay","url","src","saveAs","removeRecording","_this7","devices","startsWith","format","exportImage","drawCanvas","toBlob","mute","getAudioTracks","enabled","getVideoTracks","_this8","blob","displaySnapshot","toDataURL","_this9","detected","track","settings","getSettings","cameraAspectRatio","playerAspectRatio","imagePreviewHeight","imagePreviewWidth","imageXPosition","imageYPosition","ImageCapture","grabFrame","imageBitmap","x","y","getContext","drawImage","_this10","enumerateDevices","enumerateErrorCode","device","deviceId","exact","constraints","errorMessage","_this11","setSinkId","sinkId","customImplementation","volumePanel","require","__WEBPACK_EXTERNAL_MODULE_wavesurfer_js__","_classCallCheck","VOLUMECHANGE","FULLSCREENCHANGE","FINISH","SEEK","REDRAW","AUDIOPROCESS","WAVE_READY","PLAYBACK_FINISH","ABORT","RESIZE","setSource","srcObj","usingPlugin","params","peaks","logType","log","warn","Wavesurfer","wavesurferPluginName","_log2","_middleware","_wavesurfer","_possibleConstructorReturn","_assertThisInitialized","wavesurferClassName","WEBAUDIO","MEDIAELEMENT","_inherits","waveReady","waveFinished","textTracksEnabled","tracks","initialize","mergedOptions","parseOptions","onPlayToggle","onWaveError","onWaveFinish","getActivePlugins","surferReady","onWaveReady","surferProgress","onWaveProgress","surferSeek","onWaveSeek","setVolume","onVolumeChange","onScreenChange","fluid","drawer","wrapper","surferOpts","rect","getBoundingClientRect","originalWidth","originalHeight","controlBarHeight","container","waveformHeight","playerHeight","splitChannels","JSON","stringify","loadBlob","loadPeaks","isArray","requestOptions","responseType","xhr","request","util","fetchFile","response","status","handlePlay","handlePause","volume","getDuration","time","autoplay","message","hasClass","isPlaying","fullscreenDelay","newWidth","newHeight","isFullscreen","redrawWaveform","createDrawer","drawBuffer","progress","getPlayedPercents","use","ModalDescription","styled","SModal","Description","ModalBasicLayout","open","isConfirmation","content","title","onClose","headerProps","buttonProps","positive","icon","color","basic","Header","Content","Actions","onClick","basicModalState","atom","BasicModal","useRecoilState","setOpen","isSuccess","formModalState","initialValues","validationSchema","onSubmit","FormModal","close","submitForm","handleClose","a","Modals","mediaQueryState","isMobile","matchMedia","matches","isTablet","getIsMobile","selector","sidebarState","userState","AvatarWrapper","div","css","borderless","getInitials","splitedName","toUpperCase","Avatar","picture","hasImage","Menu","SMenu","Search","Item","Dropdown","SDropdown","Logo","axios","baseURL","interceptors","config","storageToken","localStorage","getItem","token","parse","headers","Authorization","removeItem","history","location","pathname","reload","api","singup","post","singout","requestPasswordReset","email","getMe","console","updateMe","put","passwordReset","rest","passwordChange","signin","confirmEmail","requestConfirmEmail","searchStories","fill","getStories","page","deleteStory","id","delete","getStory","createStory","file","progressCallback","FormData","append","onUploadProgress","total","loaded","updateStory","publishStory","publish","uploadImage","getImage","getCollections","getCollection","updateCollection","createCollection","deleteCollection","getPersons","q","updatePerson","createPerson","addPersonToStory","personId","removePersonFromStory","uploadFile","storyId","deleteFile","getFiles","getFile","getLink","createLink","deleteLink","getTranscriptions","deleteTranscriptions","updateTranscriptions","createTranscriptions","getGallery","getGalleryItem","createGallery","imageId","deleteGallery","getTimelines","getTimeline","createTimeline","at","toJSON","deleteTimeline","getPlaces","createPlace","deletePlace","searchLocation","address","uploadSubtitle","language","deleteSubtitle","addWatcher","removeWatcher","notifyWatcher","deleteComment","createComment","comment","editComment","search","searchSuggestions","query","SearchInput","useState","suggestions","setSuggestions","loading","setLoading","getSuggestions","useSuggestionApi","useLocation","useHistory","parsedQs","ignoreQueryPrefix","setValue","updateQueryString","useCallback","debounce","text","addQueryPrefix","useEffect","showNoResults","onKeyPress","charCode","placeholder","onResultSelect","onSearchChange","results","map","suggestion","NavBar","showSidebar","setShowsidebar","user","useRecoilValue","Icon","to","position","primary","item","pointing","thumbnail","firstName","lastName","Divider","Pushable","Sidebar","Pusher","matchRouter","as","Link","direction","visible","vertical","mediaStatusState","useMediaStatus","Client","client","setMediaStatusState","useSetRecoilState","configure","webSocketFactory","SockeJS","tokenItem","getToken","onConnect","subscribe","payload","finished","round","activate","deactivate","AuthenticatedLayout","setUser","GridImage","Grid","Column","FormBox","PublicLayout","verticalAlign","stackable","inverted","padded","only","Image","yup","shape","required","password","ErrorMessage","FieldWrapper","InputWrapper","TextAreaWrapper","SelectWrapper","Group","Input","useField","meta","touched","TextArea","Message","SMessage","MessageLink","SigninForm","setErrorMessage","setBasicModalState","handleResend","handleSubmit","setItem","textAlign","schema","isSubmitting","ForgotPasswordForm","confirmation","oneOf","SignupForm","LazyImageWrapper","LazyImage","isLoading","handleLoaded","onLoad","onError","Placeholder","Card","SCard","TextBasicEllipsis","Meta","Extra","sortByRes","b","aNumber","replace","bNumber","useStoryPreview","defaultRes","thumbnails","gifs","alternatives","getThumbnail","index","sort","preview","getGif","autoGeneratedCover","StorieCard","showAutor","story","actions","owner","hover","setHover","iconType","cardProps","onMouseEnter","onMouseLeave","wrapped","rounded","collections","description","ready","published","useInfiniteScroll","hasNextPage","onLoadMore","rootMargin","disabled","delayInMs","useTrackVisibility","ref","rootRef","isVisible","shouldLoadMore","timer","setTimeout","clearTimeout","usePageableRequest","items","setItems","setHasNextPage","setError","setPage","last","loadMore","ContentArea","Layout","LoadingArea","Dimmer","Loader","Home","sentryRef","tablet","mobile","widescreen","computer","largeScreen","StoryCard","ContentBox","tab","onChange","secondary","newPassword","ChangePassword","padding","ButtonUpload","AdvisorWrapper","UploadAvatar","defaultPicture","inputRef","useRef","avatarProgress","setAvatarProgress","mediaStatus","setPicture","label","handleSelected","files","toast","handleRemove","hidden","accept","Progress","percent","General","pictureId","setPictureId","about","setInitialValues","submit","handleUploadPictureChange","setValues","preventDefault","rows","Profile","handleTabChange","isToReplace","stiwchRender","Signout","ConfirmEmail","confirmationToken","setFormModalState","showLoading","setShowLoading","marginBottom","confirm","DropAreaBox","SelectFileButton","defaultProps","HugeButton","DropAreaWrapper","isDragActive","isDragAccept","isDragReject","DropArea","handleDrop","isUploading","useDropzone","noClick","noKeyboard","onDrop","getRootProps","getInputProps","useCreateStory","setProgress","setIsUploading","Index","acceptedFiles","centered","Row","PreviewBox","VideosArea","SContentArea","StoryItem","showMenu","transcript","people","places","timeline","gallery","links","Video","videojsQualitySelector","VideoJS","onReady","videoRef","React","playerRef","videoElement","VideoJsWrapper","_options","subtitlesButton","Audio","AudioJsWrapper","subtitles","media","cover","poster","aspectRatio","subtitle","srclang","sources","reduce","acc","res","alternavite","selected","VideoJs","AudioJs","EditorBox","Entry","mention","theme","parentProps","mentionSuggestionsEntryContainer","mentionSuggestionsEntryContainerLeft","avatar","mentionSuggestionsEntryContainerRight","mentionSuggestionsEntryText","EditorWithMentions","forwardRef","mentions","readOnly","useMemo","mentionPlugin","createMentionPlugin","entityMutability","mentionsStyles","mentionPrefix","supportWhitespace","MentionSuggestions","onOpenChange","_open","defaultSuggestionsFilter","MentionComponent","entryComponent","popoverContainer","editorKey","editorState","CommentEditor","createAction","EditorState","createEmpty","setEditorState","handleSave","convertToRaw","getCurrentContent","_editorState","focus","labelPosition","CommentWrapper","SComment","ShowMore","lines","more","less","anchorClass","expanded","setExpanded","truncated","setTruncated","toggleLines","Truncate","ellipsis","onTruncate","Comment","createWithContent","convertFromRaw","isEditing","setIsEditing","handleDelete","commentId","handleEdit","handleCancel","parentId","isOwner","author","Author","Metadata","formatDistance","parseJSON","updatedAt","addSuffix","Text","Action","CommentThread","initialComments","comments","watchers","localComments","setLocalComments","newComment","filter","useCommentApi","w","threaded","Form","reply","Title","SecondTitle","Info","subTitle","dividing","List","SList","LinksList","relaxed","link","Segment","rel","Links","FilesList","originalName","Files","GridImages","GridItem","ImageBox","Box","Stage","PreviewArea","Footer","SButton","ImageViewer","images","onNextClick","onPrevClick","selectedImage","setSelectedImage","circular","GalleryItem","setSrc","Gallery","galleries","showPreview","setShowPreview","handleShowPreview","Peoples","persons","person","People","OcurrenciesArea","Timeline","ocurrencies","date","formatRelative","EditorWrapper","Transcript","transcription","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","wrapperClassName","editorClassName","toolbarHidden","MapViewer","markers","mapElement","setMap","L","iconUrl","markerIcon","shadowUrl","markerShadow","setView","tileLayer","attribution","maxZoom","tileSize","zoomOffset","accessToken","addTo","marker","Places","place","latitude","longitude","Story","RelatedVideos","stories","StoryShow","useParams","setStory","setIsLoading","useApiStory","galleryEntries","timelineEntries","thumbSrc","Resolutions","LanguageEnum","ButtonRemove","useCoverStatus","coverId","callback","coverProgress","setCoverProgress","coverIdRef","isProcessingCover","setIsProcessingCover","startProcess","connected","CoverDropArea","onIdChange","ButtonLabel","isUploadingCover","setIsUploadingCover","uploadProgress","setUploadProgress","coverInfo","setCoverInfo","upload","getCoverInfo","removeCover","useCoverApi","margin","AddEditLinkFormModal","setCoverId","collection","helpers","resetForm","negative","CollectionArea","StoryDetailForm","collectionList","setCollectionList","fetch","useCollectionList","openModal","setOpenModal","setFieldValue","useFormikContext","Select","AddCollectionFormModal","ColumnForm","ColumnPreview","SaveButtonArea","SLayout","StoryDetails","newValues","watcherShare","SaveButton","refresh","draftToHtml","onEditorStateChange","toolbar","inline","inDropdown","list","AddEditTimelineFormModal","isEdit","AddButton","Ocurrencies","removeOcurrence","ocurrence","addOccurrence","removeOccurrence","timelineId","HandleRemove","ocurrency","UploadButton","multiple","onSelected","UploadButtonArea","ProgressBox","onRemove","progressFiles","setProgressFiles","totalFiles","setTotalFiles","max","prevValue","from","onDeleteClick","SubtitleList","countryOptions","Subtitles","selectedLanguage","setSelectedLanguage","SSearch","SearchItem","span","removePerson","editPerson","personList","resultRenderer","AddEditPersonFormModal","usePeopleApi","setEditPerson","setPersonList","loadingPeopleList","setLoadingPeopleList","addPerson","getPersonList","clearPersonList","handleSearchSelected","addEditPerson","setAddress","locationList","setLocationList","handleSearchChange","display_name","AddEditPlaceFormModal","lat","lon","PlacesList","addPlace","removePlace","placeId","WhatchersContainer","Whatchers","onRemoveWatcher","resendInvite","divided","watcher","Share","handleToogle","checked","Checkbox","toggle","SegmentGroup","StatusBoxWrapper","StatusBox","success","Preview","storyProgress","seStoryProgress","isSaving","setIsSaving","PreviewComponent","Stories","TitleArea","Collections","CollectionCard","FormArea","StoriesArea","CollectionsDetails","setCollection","useCollectionApi","collectionId","initalValues","Wrapper","Subtitle","Forbidden","goBack","NotFound","ChangePasswordForm","ideal","VideoRecorder","getDevices","videoRecorderRef","videoRecorderInstance","versionInfo","getPluginVersion","RecordRTC","playsInline","WaveSurfer","MicrophonePlugin","registerWavesufer","waveColor","progressColor","cursorWidth","msDisplayMax","hideScrollbar","numberOfInputChannels","numberOfOutputChannels","AudioRecorder","audioRef","Recorder","recorderRef","setIsRecording","setFinished","handleVideoRecorderReady","handleSend","AuthenticadeRoutes","path","component","StoryNew","Photos","Timelines","PublicRoutes","Routes","resetErrorBoundary","ResizeObserver","set","handleResize","createBrowserHistory","App","FallbackComponent","onReset","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.dc90b1a8.chunk.js","sourcesContent":["/*!\n * videojs-record\n * @version 4.5.0\n * @see https://github.com/collab-project/videojs-record\n * @copyright 2014-2021 Collab\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"recordrtc\"), require(\"video.js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"VideojsRecord\", [\"recordrtc\", \"video.js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VideojsRecord\"] = factory(require(\"recordrtc\"), require(\"video.js\"));\n\telse\n\t\troot[\"VideojsRecord\"] = factory(root[\"RecordRTC\"], root[\"videojs\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE_recordrtc__, __WEBPACK_EXTERNAL_MODULE_video_js__) {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/assertThisInitialized.js ***!\n  \\**********************************************************************/\n/***/ ((module) => {\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/asyncToGenerator.js ***!\n  \\*****************************************************************/\n/***/ ((module) => {\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/classCallCheck.js ***!\n  \\***************************************************************/\n/***/ ((module) => {\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/createClass.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/createClass.js ***!\n  \\************************************************************/\n/***/ ((module) => {\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/get.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/get.js ***!\n  \\****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar superPropBase = __webpack_require__(/*! ./superPropBase */ \"./node_modules/@babel/runtime/helpers/superPropBase.js\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/getPrototypeOf.js ***!\n  \\***************************************************************/\n/***/ ((module) => {\n\nfunction _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/inherits.js\":\n/*!*********************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/inherits.js ***!\n  \\*********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar setPrototypeOf = __webpack_require__(/*! ./setPrototypeOf */ \"./node_modules/@babel/runtime/helpers/setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/interopRequireDefault.js ***!\n  \\**********************************************************************/\n/***/ ((module) => {\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\":\n/*!**************************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js ***!\n  \\**************************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar _typeof = __webpack_require__(/*! ../helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n\nvar assertThisInitialized = __webpack_require__(/*! ./assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/setPrototypeOf.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/setPrototypeOf.js ***!\n  \\***************************************************************/\n/***/ ((module) => {\n\nfunction _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/superPropBase.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/superPropBase.js ***!\n  \\**************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar getPrototypeOf = __webpack_require__(/*! ./getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/typeof.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!\n  \\*******************************************************/\n/***/ ((module) => {\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/regenerator/index.js\":\n/*!**********************************************************!*\\\n  !*** ./node_modules/@babel/runtime/regenerator/index.js ***!\n  \\**********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nmodule.exports = __webpack_require__(/*! regenerator-runtime */ \"./node_modules/regenerator-runtime/runtime.js\");\n\n\n/***/ }),\n\n/***/ \"./node_modules/add-zero/index.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/add-zero/index.js ***!\n  \\****************************************/\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_RESULT__;(function(exports) {\n\n  'use strict';\n\n  function addZero(value, digits) {\n    digits = digits || 2;\n\n    var isNegative = Number(value) < 0;\n    var buffer = value.toString();\n    var size = 0;\n\n    // Strip minus sign if number is negative\n    if(isNegative) {\n      buffer = buffer.slice(1);\n    }\n\n    size = digits - buffer.length + 1;\n    buffer = new Array(size).join('0').concat(buffer);\n\n    // Adds back minus sign if needed\n    return (isNegative ? '-' : '') + buffer;\n  }\n\n  if(true) {\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return addZero; }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n})(this);\n\n\n/***/ }),\n\n/***/ \"./src/js/controls/animation-display.js\":\n/*!**********************************************!*\\\n  !*** ./src/js/controls/animation-display.js ***!\n  \\**********************************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/get.js\"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \"video.js\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Component = _video.default.getComponent('Component');\n\nvar AnimationDisplay = function (_Component) {\n  (0, _inherits2.default)(AnimationDisplay, _Component);\n\n  var _super = _createSuper(AnimationDisplay);\n\n  function AnimationDisplay() {\n    (0, _classCallCheck2.default)(this, AnimationDisplay);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(AnimationDisplay, [{\n    key: \"createEl\",\n    value: function createEl() {\n      var imgElement = _video.default.dom.createEl('img');\n\n      var el = (0, _get2.default)((0, _getPrototypeOf2.default)(AnimationDisplay.prototype), \"createEl\", this).call(this, 'div', {\n        className: 'vjs-animation-display',\n        dir: 'ltr'\n      });\n      el.appendChild(imgElement);\n      return el;\n    }\n  }]);\n  return AnimationDisplay;\n}(Component);\n\nComponent.registerComponent('AnimationDisplay', AnimationDisplay);\nvar _default = AnimationDisplay;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/controls/camera-button.js\":\n/*!******************************************!*\\\n  !*** ./src/js/controls/camera-button.js ***!\n  \\******************************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/get.js\"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \"video.js\"));\n\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ \"./src/js/event.js\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Button = _video.default.getComponent('Button');\n\nvar Component = _video.default.getComponent('Component');\n\nvar CameraButton = function (_Button) {\n  (0, _inherits2.default)(CameraButton, _Button);\n\n  var _super = _createSuper(CameraButton);\n\n  function CameraButton() {\n    (0, _classCallCheck2.default)(this, CameraButton);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(CameraButton, [{\n    key: \"buildCSSClass\",\n    value: function buildCSSClass() {\n      return 'vjs-camera-button vjs-control vjs-button vjs-icon-photo-camera';\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      (0, _get2.default)((0, _getPrototypeOf2.default)(CameraButton.prototype), \"enable\", this).call(this);\n      this.on(this.player_, _event.default.START_RECORD, this.onStart);\n      this.on(this.player_, _event.default.STOP_RECORD, this.onStop);\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      (0, _get2.default)((0, _getPrototypeOf2.default)(CameraButton.prototype), \"disable\", this).call(this);\n      this.off(this.player_, _event.default.START_RECORD, this.onStart);\n      this.off(this.player_, _event.default.STOP_RECORD, this.onStop);\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.layoutExclude && this.layoutExclude === true) {\n        return;\n      }\n\n      (0, _get2.default)((0, _getPrototypeOf2.default)(CameraButton.prototype), \"show\", this).call(this);\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      var recorder = this.player_.record();\n\n      if (!recorder.isProcessing()) {\n        recorder.start();\n      } else {\n        recorder.retrySnapshot();\n        this.onStop();\n        this.player_.trigger(_event.default.RETRY);\n      }\n    }\n  }, {\n    key: \"onStart\",\n    value: function onStart(event) {\n      this.removeClass('vjs-icon-photo-camera');\n      this.addClass('vjs-icon-replay');\n      this.controlText('Retry');\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop(event) {\n      this.removeClass('vjs-icon-replay');\n      this.addClass('vjs-icon-photo-camera');\n      this.controlText('Image');\n    }\n  }]);\n  return CameraButton;\n}(Button);\n\nCameraButton.prototype.controlText_ = 'Image';\nComponent.registerComponent('CameraButton', CameraButton);\nvar _default = CameraButton;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/controls/device-button.js\":\n/*!******************************************!*\\\n  !*** ./src/js/controls/device-button.js ***!\n  \\******************************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/get.js\"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \"video.js\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Button = _video.default.getComponent('Button');\n\nvar Component = _video.default.getComponent('Component');\n\nvar DeviceButton = function (_Button) {\n  (0, _inherits2.default)(DeviceButton, _Button);\n\n  var _super = _createSuper(DeviceButton);\n\n  function DeviceButton() {\n    (0, _classCallCheck2.default)(this, DeviceButton);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(DeviceButton, [{\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      this.player_.record().getDevice();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.layoutExclude && this.layoutExclude === true) {\n        return;\n      }\n\n      (0, _get2.default)((0, _getPrototypeOf2.default)(DeviceButton.prototype), \"show\", this).call(this);\n    }\n  }]);\n  return DeviceButton;\n}(Button);\n\nDeviceButton.prototype.controlText_ = 'Device';\nComponent.registerComponent('DeviceButton', DeviceButton);\nvar _default = DeviceButton;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/controls/picture-in-picture-toggle.js\":\n/*!******************************************************!*\\\n  !*** ./src/js/controls/picture-in-picture-toggle.js ***!\n  \\******************************************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\"));\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/get.js\"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \"video.js\"));\n\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ \"./src/js/event.js\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Button = _video.default.getComponent('Button');\n\nvar Component = _video.default.getComponent('Component');\n\nvar PictureInPictureToggle = function (_Button) {\n  (0, _inherits2.default)(PictureInPictureToggle, _Button);\n\n  var _super = _createSuper(PictureInPictureToggle);\n\n  function PictureInPictureToggle(player, options) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, PictureInPictureToggle);\n    _this = _super.call(this, player, options);\n\n    _this.on(_this.player_, _event.default.ENTER_PIP, _this.onStart);\n\n    _this.on(_this.player_, _event.default.LEAVE_PIP, _this.onStop);\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(PictureInPictureToggle, [{\n    key: \"buildCSSClass\",\n    value: function buildCSSClass() {\n      return 'vjs-pip-button vjs-control vjs-button vjs-icon-picture-in-picture-start';\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.layoutExclude && this.layoutExclude === true) {\n        return;\n      }\n\n      (0, _get2.default)((0, _getPrototypeOf2.default)(PictureInPictureToggle.prototype), \"show\", this).call(this);\n    }\n  }, {\n    key: \"handleClick\",\n    value: function () {\n      var _handleClick = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee(event) {\n        var recorder;\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                recorder = this.player_.record();\n                this.disable();\n                _context.prev = 2;\n\n                if (!(recorder.mediaElement !== document.pictureInPictureElement)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _context.next = 6;\n                return recorder.mediaElement.requestPictureInPicture();\n\n              case 6:\n                _context.next = 10;\n                break;\n\n              case 8:\n                _context.next = 10;\n                return document.exitPictureInPicture();\n\n              case 10:\n                _context.next = 15;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](2);\n                this.player_.trigger(_event.default.ERROR, _context.t0);\n\n              case 15:\n                _context.prev = 15;\n                this.enable();\n                return _context.finish(15);\n\n              case 18:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 12, 15, 18]]);\n      }));\n\n      function handleClick(_x) {\n        return _handleClick.apply(this, arguments);\n      }\n\n      return handleClick;\n    }()\n  }, {\n    key: \"onStart\",\n    value: function onStart(event) {\n      this.removeClass('vjs-icon-picture-in-picture-start');\n      this.addClass('vjs-icon-picture-in-picture-stop');\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop(event) {\n      this.removeClass('vjs-icon-picture-in-picture-stop');\n      this.addClass('vjs-icon-picture-in-picture-start');\n    }\n  }]);\n  return PictureInPictureToggle;\n}(Button);\n\nPictureInPictureToggle.prototype.controlText_ = 'Picture in Picture';\nComponent.registerComponent('PictureInPictureToggle', PictureInPictureToggle);\nvar _default = PictureInPictureToggle;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/controls/record-canvas.js\":\n/*!******************************************!*\\\n  !*** ./src/js/controls/record-canvas.js ***!\n  \\******************************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/get.js\"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \"video.js\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Component = _video.default.getComponent('Component');\n\nvar RecordCanvas = function (_Component) {\n  (0, _inherits2.default)(RecordCanvas, _Component);\n\n  var _super = _createSuper(RecordCanvas);\n\n  function RecordCanvas() {\n    (0, _classCallCheck2.default)(this, RecordCanvas);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(RecordCanvas, [{\n    key: \"createEl\",\n    value: function createEl() {\n      var canvasElement = _video.default.dom.createEl('canvas');\n\n      var el = (0, _get2.default)((0, _getPrototypeOf2.default)(RecordCanvas.prototype), \"createEl\", this).call(this, 'div', {\n        className: 'vjs-record-canvas',\n        dir: 'ltr'\n      });\n      el.appendChild(canvasElement);\n      return el;\n    }\n  }]);\n  return RecordCanvas;\n}(Component);\n\nComponent.registerComponent('RecordCanvas', RecordCanvas);\nvar _default = RecordCanvas;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/controls/record-indicator.js\":\n/*!*********************************************!*\\\n  !*** ./src/js/controls/record-indicator.js ***!\n  \\*********************************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/get.js\"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \"video.js\"));\n\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ \"./src/js/event.js\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Component = _video.default.getComponent('Component');\n\nvar RecordIndicator = function (_Component) {\n  (0, _inherits2.default)(RecordIndicator, _Component);\n\n  var _super = _createSuper(RecordIndicator);\n\n  function RecordIndicator(player, options) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, RecordIndicator);\n    _this = _super.call(this, player, options);\n\n    _this.enable();\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(RecordIndicator, [{\n    key: \"createEl\",\n    value: function createEl() {\n      var props = {\n        className: 'vjs-record-indicator vjs-control',\n        dir: 'ltr'\n      };\n      var attr = {\n        'data-label': this.localize('REC')\n      };\n      return (0, _get2.default)((0, _getPrototypeOf2.default)(RecordIndicator.prototype), \"createEl\", this).call(this, 'div', props, attr);\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.on(this.player_, _event.default.START_RECORD, this.show);\n      this.on(this.player_, _event.default.STOP_RECORD, this.hide);\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.off(this.player_, _event.default.START_RECORD, this.show);\n      this.off(this.player_, _event.default.STOP_RECORD, this.hide);\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.layoutExclude && this.layoutExclude === true) {\n        return;\n      }\n\n      (0, _get2.default)((0, _getPrototypeOf2.default)(RecordIndicator.prototype), \"show\", this).call(this);\n    }\n  }]);\n  return RecordIndicator;\n}(Component);\n\nComponent.registerComponent('RecordIndicator', RecordIndicator);\nvar _default = RecordIndicator;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/controls/record-toggle.js\":\n/*!******************************************!*\\\n  !*** ./src/js/controls/record-toggle.js ***!\n  \\******************************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/get.js\"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \"video.js\"));\n\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ \"./src/js/event.js\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Button = _video.default.getComponent('Button');\n\nvar Component = _video.default.getComponent('Component');\n\nvar RecordToggle = function (_Button) {\n  (0, _inherits2.default)(RecordToggle, _Button);\n\n  var _super = _createSuper(RecordToggle);\n\n  function RecordToggle() {\n    (0, _classCallCheck2.default)(this, RecordToggle);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(RecordToggle, [{\n    key: \"buildCSSClass\",\n    value: function buildCSSClass() {\n      return 'vjs-record-button vjs-control vjs-button vjs-icon-record-start';\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      (0, _get2.default)((0, _getPrototypeOf2.default)(RecordToggle.prototype), \"enable\", this).call(this);\n      this.on(this.player_, _event.default.START_RECORD, this.onStart);\n      this.on(this.player_, _event.default.STOP_RECORD, this.onStop);\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      (0, _get2.default)((0, _getPrototypeOf2.default)(RecordToggle.prototype), \"disable\", this).call(this);\n      this.off(this.player_, _event.default.START_RECORD, this.onStart);\n      this.off(this.player_, _event.default.STOP_RECORD, this.onStop);\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (this.layoutExclude && this.layoutExclude === true) {\n        return;\n      }\n\n      (0, _get2.default)((0, _getPrototypeOf2.default)(RecordToggle.prototype), \"show\", this).call(this);\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      var recorder = this.player_.record();\n\n      if (!recorder.isRecording()) {\n        recorder.start();\n      } else {\n        recorder.stop();\n      }\n    }\n  }, {\n    key: \"onStart\",\n    value: function onStart(event) {\n      this.removeClass('vjs-icon-record-start');\n      this.addClass('vjs-icon-record-stop');\n      this.controlText('Stop');\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop(event) {\n      this.removeClass('vjs-icon-record-stop');\n      this.addClass('vjs-icon-record-start');\n      this.controlText('Record');\n    }\n  }]);\n  return RecordToggle;\n}(Button);\n\nRecordToggle.prototype.controlText_ = 'Record';\nComponent.registerComponent('RecordToggle', RecordToggle);\nvar _default = RecordToggle;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/defaults.js\":\n/*!****************************!*\\\n  !*** ./src/js/defaults.js ***!\n  \\****************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\nvar pluginDefaultOptions = {\n  image: false,\n  audio: false,\n  video: false,\n  animation: false,\n  screen: false,\n  maxLength: 10,\n  maxFileSize: 0,\n  displayMilliseconds: false,\n  formatTime: undefined,\n  frameWidth: 320,\n  frameHeight: 240,\n  debug: false,\n  pip: false,\n  autoMuteDevice: false,\n  videoBitRate: 1200,\n  videoEngine: 'recordrtc',\n  videoFrameRate: 30,\n  videoMimeType: 'video/webm',\n  videoRecorderType: 'auto',\n  videoWorkerURL: '',\n  videoWebAssemblyURL: '',\n  audioEngine: 'recordrtc',\n  audioRecorderType: 'auto',\n  audioMimeType: 'auto',\n  audioBufferSize: 4096,\n  audioSampleRate: 44100,\n  audioBitRate: 128,\n  audioChannels: 2,\n  audioWorkerURL: '',\n  audioWebAssemblyURL: '',\n  audioBufferUpdate: false,\n  animationFrameRate: 200,\n  animationQuality: 10,\n  imageOutputType: 'dataURL',\n  imageOutputFormat: 'image/png',\n  imageOutputQuality: 0.92,\n  timeSlice: 0,\n  convertEngine: '',\n  convertWorkerURL: '',\n  convertOptions: [],\n  convertAuto: true,\n  hotKeys: false,\n  pluginLibraryOptions: {}\n};\nvar _default = pluginDefaultOptions;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/engine/convert-engine.js\":\n/*!*****************************************!*\\\n  !*** ./src/js/engine/convert-engine.js ***!\n  \\*****************************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.FFMPEGWASM = exports.FFMPEGJS = exports.TSEBML = exports.CONVERT_PLUGINS = exports.ConvertEngine = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \"video.js\"));\n\nvar _fileUtil = __webpack_require__(/*! ../utils/file-util */ \"./src/js/utils/file-util.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Component = _video.default.getComponent('Component');\n\nvar TSEBML = 'ts-ebml';\nexports.TSEBML = TSEBML;\nvar FFMPEGJS = 'ffmpeg.js';\nexports.FFMPEGJS = FFMPEGJS;\nvar FFMPEGWASM = 'ffmpeg.wasm';\nexports.FFMPEGWASM = FFMPEGWASM;\nvar CONVERT_PLUGINS = [TSEBML, FFMPEGJS, FFMPEGWASM];\nexports.CONVERT_PLUGINS = CONVERT_PLUGINS;\n\nvar ConvertEngine = function (_Component) {\n  (0, _inherits2.default)(ConvertEngine, _Component);\n\n  var _super = _createSuper(ConvertEngine);\n\n  function ConvertEngine(player, options) {\n    (0, _classCallCheck2.default)(this, ConvertEngine);\n    options.evented = true;\n    return _super.call(this, player, options);\n  }\n\n  (0, _createClass2.default)(ConvertEngine, [{\n    key: \"setup\",\n    value: function setup(mediaType, debug) {\n      this.mediaType = mediaType;\n      this.debug = debug;\n    }\n  }, {\n    key: \"loadBlob\",\n    value: function loadBlob(data) {\n      return (0, _fileUtil.blobToArrayBuffer)(data);\n    }\n  }, {\n    key: \"addFileInfo\",\n    value: function addFileInfo(fileObj, now) {\n      (0, _fileUtil.addFileInfo)(fileObj, now);\n    }\n  }, {\n    key: \"saveAs\",\n    value: function saveAs(name) {\n      var fileName = name[Object.keys(name)[0]];\n      (0, _fileUtil.downloadBlob)(fileName, this.player().convertedData);\n    }\n  }]);\n  return ConvertEngine;\n}(Component);\n\nexports.ConvertEngine = ConvertEngine;\n_video.default.ConvertEngine = ConvertEngine;\nComponent.registerComponent('ConvertEngine', ConvertEngine);\n\n/***/ }),\n\n/***/ \"./src/js/engine/engine-loader.js\":\n/*!****************************************!*\\\n  !*** ./src/js/engine/engine-loader.js ***!\n  \\****************************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getConvertEngine = exports.getVideoEngine = exports.isAudioPluginActive = exports.getAudioEngine = void 0;\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \"video.js\"));\n\nvar _recordRtc = _interopRequireDefault(__webpack_require__(/*! ./record-rtc */ \"./src/js/engine/record-rtc.js\"));\n\nvar _convertEngine = __webpack_require__(/*! ./convert-engine */ \"./src/js/engine/convert-engine.js\");\n\nvar _recordEngine = __webpack_require__(/*! ./record-engine */ \"./src/js/engine/record-engine.js\");\n\nvar getAudioEngine = function getAudioEngine(audioEngine) {\n  var AudioEngineClass;\n\n  switch (audioEngine) {\n    case _recordEngine.RECORDRTC:\n      AudioEngineClass = _recordRtc.default;\n      break;\n\n    case _recordEngine.LIBVORBISJS:\n      AudioEngineClass = _video.default.LibVorbisEngine;\n      break;\n\n    case _recordEngine.RECORDERJS:\n      AudioEngineClass = _video.default.RecorderjsEngine;\n      break;\n\n    case _recordEngine.LAMEJS:\n      AudioEngineClass = _video.default.LamejsEngine;\n      break;\n\n    case _recordEngine.OPUSRECORDER:\n      AudioEngineClass = _video.default.OpusRecorderEngine;\n      break;\n\n    case _recordEngine.OPUSMEDIARECORDER:\n      AudioEngineClass = _video.default.OpusMediaRecorderEngine;\n      break;\n\n    case _recordEngine.VMSG:\n      AudioEngineClass = _video.default.VmsgEngine;\n      break;\n\n    default:\n      throw new Error('Unknown audioEngine: ' + audioEngine);\n  }\n\n  return AudioEngineClass;\n};\n\nexports.getAudioEngine = getAudioEngine;\n\nvar getVideoEngine = function getVideoEngine(videoEngine) {\n  var VideoEngineClass;\n\n  switch (videoEngine) {\n    case _recordEngine.RECORDRTC:\n      VideoEngineClass = _recordRtc.default;\n      break;\n\n    case _recordEngine.WEBMWASM:\n      VideoEngineClass = _video.default.WebmWasmEngine;\n      break;\n\n    default:\n      throw new Error('Unknown videoEngine: ' + videoEngine);\n  }\n\n  return VideoEngineClass;\n};\n\nexports.getVideoEngine = getVideoEngine;\n\nvar isAudioPluginActive = function isAudioPluginActive(audioEngine) {\n  return _recordEngine.AUDIO_PLUGINS.indexOf(audioEngine) > -1;\n};\n\nexports.isAudioPluginActive = isAudioPluginActive;\n\nvar getConvertEngine = function getConvertEngine(convertEngine) {\n  var ConvertEngineClass;\n\n  switch (convertEngine) {\n    case '':\n      break;\n\n    case _convertEngine.TSEBML:\n      ConvertEngineClass = _video.default.TsEBMLEngine;\n      break;\n\n    case _convertEngine.FFMPEGJS:\n      ConvertEngineClass = _video.default.FFmpegjsEngine;\n      break;\n\n    case _convertEngine.FFMPEGWASM:\n      ConvertEngineClass = _video.default.FFmpegWasmEngine;\n      break;\n\n    default:\n      throw new Error('Unknown convertEngine: ' + convertEngine);\n  }\n\n  return ConvertEngineClass;\n};\n\nexports.getConvertEngine = getConvertEngine;\n\n/***/ }),\n\n/***/ \"./src/js/engine/record-engine.js\":\n/*!****************************************!*\\\n  !*** ./src/js/engine/record-engine.js ***!\n  \\****************************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.WEBMWASM = exports.VMSG = exports.OPUSMEDIARECORDER = exports.OPUSRECORDER = exports.LAMEJS = exports.RECORDERJS = exports.LIBVORBISJS = exports.RECORDRTC = exports.VIDEO_PLUGINS = exports.AUDIO_PLUGINS = exports.RECORD_PLUGINS = exports.RecordEngine = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \"video.js\"));\n\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ \"./src/js/event.js\"));\n\nvar _fileUtil = __webpack_require__(/*! ../utils/file-util */ \"./src/js/utils/file-util.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Component = _video.default.getComponent('Component');\n\nvar RECORDRTC = 'recordrtc';\nexports.RECORDRTC = RECORDRTC;\nvar LIBVORBISJS = 'libvorbis.js';\nexports.LIBVORBISJS = LIBVORBISJS;\nvar RECORDERJS = 'recorder.js';\nexports.RECORDERJS = RECORDERJS;\nvar LAMEJS = 'lamejs';\nexports.LAMEJS = LAMEJS;\nvar OPUSRECORDER = 'opus-recorder';\nexports.OPUSRECORDER = OPUSRECORDER;\nvar OPUSMEDIARECORDER = 'opus-media-recorder';\nexports.OPUSMEDIARECORDER = OPUSMEDIARECORDER;\nvar VMSG = 'vmsg';\nexports.VMSG = VMSG;\nvar WEBMWASM = 'webm-wasm';\nexports.WEBMWASM = WEBMWASM;\nvar AUDIO_PLUGINS = [LIBVORBISJS, RECORDERJS, LAMEJS, OPUSRECORDER, OPUSMEDIARECORDER, VMSG];\nexports.AUDIO_PLUGINS = AUDIO_PLUGINS;\nvar VIDEO_PLUGINS = [WEBMWASM];\nexports.VIDEO_PLUGINS = VIDEO_PLUGINS;\nvar RECORD_PLUGINS = AUDIO_PLUGINS.concat(VIDEO_PLUGINS);\nexports.RECORD_PLUGINS = RECORD_PLUGINS;\n\nvar RecordEngine = function (_Component) {\n  (0, _inherits2.default)(RecordEngine, _Component);\n\n  var _super = _createSuper(RecordEngine);\n\n  function RecordEngine(player, options) {\n    (0, _classCallCheck2.default)(this, RecordEngine);\n    options.evented = true;\n    return _super.call(this, player, options);\n  }\n\n  (0, _createClass2.default)(RecordEngine, [{\n    key: \"dispose\",\n    value: function dispose() {\n      if (this.recordedData !== undefined) {\n        URL.revokeObjectURL(this.recordedData);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {}\n  }, {\n    key: \"addFileInfo\",\n    value: function addFileInfo(fileObj) {\n      (0, _fileUtil.addFileInfo)(fileObj);\n    }\n  }, {\n    key: \"onStopRecording\",\n    value: function onStopRecording(data) {\n      this.recordedData = data;\n      this.addFileInfo(this.recordedData);\n      this.dispose();\n      this.trigger(_event.default.RECORD_COMPLETE);\n    }\n  }, {\n    key: \"saveAs\",\n    value: function saveAs(name) {\n      var fileName = name[Object.keys(name)[0]];\n      (0, _fileUtil.downloadBlob)(fileName, this.recordedData);\n    }\n  }]);\n  return RecordEngine;\n}(Component);\n\nexports.RecordEngine = RecordEngine;\n_video.default.RecordEngine = RecordEngine;\nComponent.registerComponent('RecordEngine', RecordEngine);\n\n/***/ }),\n\n/***/ \"./src/js/engine/record-mode.js\":\n/*!**************************************!*\\\n  !*** ./src/js/engine/record-mode.js ***!\n  \\**************************************/\n/***/ ((__unused_webpack_module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.AUDIO_SCREEN = exports.SCREEN_ONLY = exports.ANIMATION = exports.AUDIO_VIDEO = exports.VIDEO_ONLY = exports.AUDIO_ONLY = exports.IMAGE_ONLY = exports.getRecorderMode = void 0;\nvar IMAGE_ONLY = 'image_only';\nexports.IMAGE_ONLY = IMAGE_ONLY;\nvar AUDIO_ONLY = 'audio_only';\nexports.AUDIO_ONLY = AUDIO_ONLY;\nvar VIDEO_ONLY = 'video_only';\nexports.VIDEO_ONLY = VIDEO_ONLY;\nvar AUDIO_VIDEO = 'audio_video';\nexports.AUDIO_VIDEO = AUDIO_VIDEO;\nvar AUDIO_SCREEN = 'audio_screen';\nexports.AUDIO_SCREEN = AUDIO_SCREEN;\nvar ANIMATION = 'animation';\nexports.ANIMATION = ANIMATION;\nvar SCREEN_ONLY = 'screen_only';\nexports.SCREEN_ONLY = SCREEN_ONLY;\n\nvar getRecorderMode = function getRecorderMode(image, audio, video, animation, screen) {\n  if (isModeEnabled(image)) {\n    return IMAGE_ONLY;\n  } else if (isModeEnabled(animation)) {\n    return ANIMATION;\n  } else if (isModeEnabled(audio) && isModeEnabled(video)) {\n    return AUDIO_VIDEO;\n  } else if (isModeEnabled(audio) && isModeEnabled(screen)) {\n    return AUDIO_SCREEN;\n  } else if (!isModeEnabled(audio) && isModeEnabled(screen)) {\n    return SCREEN_ONLY;\n  } else if (isModeEnabled(audio) && !isModeEnabled(video)) {\n    return AUDIO_ONLY;\n  } else if (!isModeEnabled(audio) && isModeEnabled(video)) {\n    return VIDEO_ONLY;\n  }\n};\n\nexports.getRecorderMode = getRecorderMode;\n\nvar isModeEnabled = function isModeEnabled(mode) {\n  return mode === Object(mode) || mode === true;\n};\n\n/***/ }),\n\n/***/ \"./src/js/engine/record-rtc.js\":\n/*!*************************************!*\\\n  !*** ./src/js/engine/record-rtc.js ***!\n  \\*************************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/get.js\"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \"video.js\"));\n\nvar _recordrtc = _interopRequireDefault(__webpack_require__(/*! recordrtc */ \"recordrtc\"));\n\nvar _event = _interopRequireDefault(__webpack_require__(/*! ../event */ \"./src/js/event.js\"));\n\nvar _recordEngine = __webpack_require__(/*! ./record-engine */ \"./src/js/engine/record-engine.js\");\n\nvar _detectBrowser = __webpack_require__(/*! ../utils/detect-browser */ \"./src/js/utils/detect-browser.js\");\n\nvar _recordMode = __webpack_require__(/*! ./record-mode */ \"./src/js/engine/record-mode.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Component = _video.default.getComponent('Component');\n\nvar RecordRTCEngine = function (_RecordEngine) {\n  (0, _inherits2.default)(RecordRTCEngine, _RecordEngine);\n\n  var _super = _createSuper(RecordRTCEngine);\n\n  function RecordRTCEngine() {\n    (0, _classCallCheck2.default)(this, RecordRTCEngine);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(RecordRTCEngine, [{\n    key: \"setup\",\n    value: function setup(stream, mediaType, debug) {\n      this.inputStream = stream;\n      this.mediaType = mediaType;\n      this.debug = debug;\n\n      if ('screen' in this.mediaType) {\n        this.mediaType.video = true;\n      }\n\n      if (this.recorderType !== undefined) {\n        this.mediaType.video = this.recorderType;\n      }\n\n      this.engine = new _recordrtc.default.MRecordRTC();\n      this.engine.mediaType = this.mediaType;\n      this.engine.disableLogs = !this.debug;\n      this.engine.mimeType = this.mimeType;\n      this.engine.bufferSize = this.bufferSize;\n      this.engine.sampleRate = this.sampleRate;\n      this.engine.numberOfAudioChannels = this.audioChannels;\n      this.engine.video = this.video;\n      this.engine.canvas = this.canvas;\n      this.engine.bitrate = this.bitRate;\n      this.engine.quality = this.quality;\n      this.engine.frameRate = this.frameRate;\n\n      if (this.timeSlice !== undefined) {\n        this.engine.timeSlice = this.timeSlice;\n        this.engine.onTimeStamp = this.onTimeStamp.bind(this);\n      }\n\n      this.engine.workerPath = this.workerPath;\n      this.engine.webAssemblyPath = this.videoWebAssemblyURL;\n      this.engine.addStream(this.inputStream);\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      (0, _get2.default)((0, _getPrototypeOf2.default)(RecordRTCEngine.prototype), \"dispose\", this).call(this);\n      this.destroy();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.engine && typeof this.engine.destroy === 'function') {\n        this.engine.destroy();\n      }\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      this.engine.startRecording();\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.engine.stopRecording(this.onStopRecording.bind(this));\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.engine.pauseRecording();\n    }\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      this.engine.resumeRecording();\n    }\n  }, {\n    key: \"saveAs\",\n    value: function saveAs(name) {\n      if (this.engine && name !== undefined) {\n        this.engine.save(name);\n      }\n    }\n  }, {\n    key: \"onStopRecording\",\n    value: function onStopRecording(audioVideoURL, type) {\n      var _this = this;\n\n      URL.revokeObjectURL(audioVideoURL);\n      var recordType = this.player().record().getRecordType();\n      this.engine.getBlob(function (recording) {\n        switch (recordType) {\n          case _recordMode.AUDIO_ONLY:\n            if (recording.audio !== undefined) {\n              _this.recordedData = recording.audio;\n            }\n\n            break;\n\n          case _recordMode.VIDEO_ONLY:\n          case _recordMode.AUDIO_VIDEO:\n          case _recordMode.AUDIO_SCREEN:\n          case _recordMode.SCREEN_ONLY:\n            if (recording.video !== undefined) {\n              _this.recordedData = recording.video;\n            }\n\n            break;\n\n          case _recordMode.ANIMATION:\n            if (recording.gif !== undefined) {\n              _this.recordedData = recording.gif;\n            }\n\n            break;\n        }\n\n        _this.addFileInfo(_this.recordedData);\n\n        _this.trigger(_event.default.RECORD_COMPLETE);\n      });\n    }\n  }, {\n    key: \"onTimeStamp\",\n    value: function onTimeStamp(current, all) {\n      this.player().currentTimestamp = current;\n      this.player().allTimestamps = all;\n      var internal;\n\n      switch (this.player().record().getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          internal = this.engine.audioRecorder;\n          break;\n\n        case _recordMode.ANIMATION:\n          internal = this.engine.gifRecorder;\n          break;\n\n        default:\n          internal = this.engine.videoRecorder;\n      }\n\n      var maxFileSizeReached = false;\n\n      if (internal) {\n        internal = internal.getInternalRecorder();\n      }\n\n      if (internal instanceof _recordrtc.default.MediaStreamRecorder === true) {\n        this.player().recordedData = internal.getArrayOfBlobs();\n        this.addFileInfo(this.player().recordedData[this.player_.recordedData.length - 1]);\n\n        if (this.maxFileSize > 0) {\n          var currentSize = new Blob(this.player().recordedData).size;\n\n          if (currentSize >= this.maxFileSize) {\n            maxFileSizeReached = true;\n          }\n        }\n      }\n\n      this.player().trigger(_event.default.TIMESTAMP);\n\n      if (maxFileSizeReached) {\n        this.player().record().stop();\n      }\n    }\n  }]);\n  return RecordRTCEngine;\n}(_recordEngine.RecordEngine);\n\n_video.default.RecordRTCEngine = RecordRTCEngine;\nComponent.registerComponent('RecordRTCEngine', RecordRTCEngine);\nvar _default = RecordRTCEngine;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/event.js\":\n/*!*************************!*\\\n  !*** ./src/js/event.js ***!\n  \\*************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\"));\n\nvar Event = function Event() {\n  (0, _classCallCheck2.default)(this, Event);\n};\n\nEvent.READY = 'ready';\nEvent.ERROR = 'error';\nEvent.PLAYING = 'playing';\nEvent.LOADEDMETADATA = 'loadedmetadata';\nEvent.LOADSTART = 'loadstart';\nEvent.USERINACTIVE = 'userinactive';\nEvent.TIMEUPDATE = 'timeupdate';\nEvent.DURATIONCHANGE = 'durationchange';\nEvent.ENDED = 'ended';\nEvent.PAUSE = 'pause';\nEvent.PLAY = 'play';\nEvent.DEVICE_READY = 'deviceReady';\nEvent.DEVICE_ERROR = 'deviceError';\nEvent.START_RECORD = 'startRecord';\nEvent.STOP_RECORD = 'stopRecord';\nEvent.FINISH_RECORD = 'finishRecord';\nEvent.RECORD_COMPLETE = 'recordComplete';\nEvent.PROGRESS_RECORD = 'progressRecord';\nEvent.TIMESTAMP = 'timestamp';\nEvent.ENUMERATE_READY = 'enumerateReady';\nEvent.ENUMERATE_ERROR = 'enumerateError';\nEvent.AUDIO_BUFFER_UPDATE = 'audioBufferUpdate';\nEvent.AUDIO_OUTPUT_READY = 'audioOutputReady';\nEvent.START_CONVERT = 'startConvert';\nEvent.FINISH_CONVERT = 'finishConvert';\nEvent.ENTER_PIP = 'enterPIP';\nEvent.LEAVE_PIP = 'leavePIP';\nEvent.RETRY = 'retry';\nEvent.ENTERPICTUREINPICTURE = 'enterpictureinpicture';\nEvent.LEAVEPICTUREINPICTURE = 'leavepictureinpicture';\nObject.freeze(Event);\nvar _default = Event;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/hot-keys.js\":\n/*!****************************!*\\\n  !*** ./src/js/hot-keys.js ***!\n  \\****************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _recordMode = __webpack_require__(/*! ./engine/record-mode */ \"./src/js/engine/record-mode.js\");\n\nvar X_KEY = 88;\nvar P_KEY = 80;\nvar C_KEY = 67;\n\nvar defaultKeyHandler = function defaultKeyHandler(event) {\n  switch (event.which) {\n    case X_KEY:\n      switch (this.player_.record().getRecordType()) {\n        case _recordMode.IMAGE_ONLY:\n          this.player_.cameraButton.trigger('click');\n          break;\n\n        default:\n          this.player_.recordToggle.trigger('click');\n      }\n\n      break;\n\n    case P_KEY:\n      if (this.player_.record().pictureInPicture === true) {\n        this.player_.pipToggle.trigger('click');\n      }\n\n      break;\n\n    case C_KEY:\n      if (this.player_.controlBar.playToggle && this.player_.controlBar.playToggle.contentEl()) {\n        player.controlBar.playToggle.trigger('click');\n      }\n\n      break;\n  }\n};\n\nvar _default = defaultKeyHandler;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/utils/browser-shim.js\":\n/*!**************************************!*\\\n  !*** ./src/js/utils/browser-shim.js ***!\n  \\**************************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar setSrcObject = function setSrcObject(stream, element) {\n  if ('srcObject' in element) {\n    element.srcObject = stream;\n  } else if ('mozSrcObject' in element) {\n    element.mozSrcObject = stream;\n  } else {\n    element.srcObject = stream;\n  }\n};\n\nvar _default = setSrcObject;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/utils/compare-version.js\":\n/*!*****************************************!*\\\n  !*** ./src/js/utils/compare-version.js ***!\n  \\*****************************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar compareVersion = function compareVersion(v1, v2) {\n  if (typeof v1 !== 'string') return false;\n  if (typeof v2 !== 'string') return false;\n  v1 = v1.split('.');\n  v2 = v2.split('.');\n  var k = Math.min(v1.length, v2.length);\n  var i = 0;\n\n  for (i; i < k; ++i) {\n    v1[i] = parseInt(v1[i], 10);\n    v2[i] = parseInt(v2[i], 10);\n    if (v1[i] > v2[i]) return 1;\n    if (v1[i] < v2[i]) return -1;\n  }\n\n  return v1.length === v2.length ? 0 : v1.length < v2.length ? -1 : 1;\n};\n\nvar _default = compareVersion;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/utils/detect-browser.js\":\n/*!****************************************!*\\\n  !*** ./src/js/utils/detect-browser.js ***!\n  \\****************************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.isFirefox = exports.isSafari = exports.isChrome = exports.isOpera = exports.isEdge = exports.detectBrowser = void 0;\n\nvar _window = _interopRequireDefault(__webpack_require__(/*! global/window */ \"./node_modules/global/window.js\"));\n\nvar detectBrowser = function detectBrowser() {\n  var result = {};\n  result.browser = null;\n  result.version = null;\n  result.minVersion = null;\n\n  if (typeof _window.default === 'undefined' || !_window.default.navigator) {\n    result.browser = 'Not a supported browser.';\n    return result;\n  }\n\n  if (navigator.mozGetUserMedia) {\n    result.browser = 'firefox';\n    result.version = extractVersion(navigator.userAgent, /Firefox\\/(\\d+)\\./, 1);\n    result.minVersion = 31;\n  } else if (navigator.webkitGetUserMedia) {\n    result.browser = 'chrome';\n    result.version = extractVersion(navigator.userAgent, /Chrom(e|ium)\\/(\\d+)\\./, 2);\n    result.minVersion = 38;\n  } else if (navigator.mediaDevices && navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) {\n    result.browser = 'edge';\n    result.version = extractVersion(navigator.userAgent, /Edge\\/(\\d+).(\\d+)$/, 2);\n    result.minVersion = 10547;\n  } else if (_window.default.RTCPeerConnection && navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n    result.browser = 'safari';\n    result.version = extractVersion(navigator.userAgent, /AppleWebKit\\/(\\d+)\\./, 1);\n  } else {\n    result.browser = 'Not a supported browser.';\n    return result;\n  }\n\n  return result;\n};\n\nexports.detectBrowser = detectBrowser;\n\nvar extractVersion = function extractVersion(uastring, expr, pos) {\n  var match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n};\n\nvar isEdge = function isEdge() {\n  return detectBrowser().browser === 'edge';\n};\n\nexports.isEdge = isEdge;\n\nvar isSafari = function isSafari() {\n  return detectBrowser().browser === 'safari';\n};\n\nexports.isSafari = isSafari;\n\nvar isOpera = function isOpera() {\n  return !!_window.default.opera || navigator.userAgent.indexOf('OPR/') !== -1;\n};\n\nexports.isOpera = isOpera;\n\nvar isChrome = function isChrome() {\n  return detectBrowser().browser === 'chrome';\n};\n\nexports.isChrome = isChrome;\n\nvar isFirefox = function isFirefox() {\n  return detectBrowser().browser === 'firefox';\n};\n\nexports.isFirefox = isFirefox;\n\n/***/ }),\n\n/***/ \"./src/js/utils/file-util.js\":\n/*!***********************************!*\\\n  !*** ./src/js/utils/file-util.js ***!\n  \\***********************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.addFileInfo = exports.blobToArrayBuffer = exports.downloadBlob = void 0;\n\nvar _mime = _interopRequireDefault(__webpack_require__(/*! ./mime */ \"./src/js/utils/mime.js\"));\n\nvar downloadBlob = function downloadBlob(fileName, data) {\n  if (typeof navigator.msSaveOrOpenBlob !== 'undefined') {\n    return navigator.msSaveOrOpenBlob(data, fileName);\n  } else if (typeof navigator.msSaveBlob !== 'undefined') {\n    return navigator.msSaveBlob(data, fileName);\n  }\n\n  var hyperlink = document.createElement('a');\n  hyperlink.href = URL.createObjectURL(data);\n  hyperlink.download = fileName;\n  hyperlink.style = 'display:none;opacity:0;color:transparent;';\n  (document.body || document.documentElement).appendChild(hyperlink);\n\n  if (typeof hyperlink.click === 'function') {\n    hyperlink.click();\n  } else {\n    hyperlink.target = '_blank';\n    hyperlink.dispatchEvent(new MouseEvent('click', {\n      view: window,\n      bubbles: true,\n      cancelable: true\n    }));\n  }\n\n  URL.revokeObjectURL(hyperlink.href);\n};\n\nexports.downloadBlob = downloadBlob;\n\nvar blobToArrayBuffer = function blobToArrayBuffer(fileObj) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onloadend = function () {\n      resolve(reader.result);\n    };\n\n    reader.onerror = function (ev) {\n      reject(ev.error);\n    };\n\n    reader.readAsArrayBuffer(fileObj);\n  });\n};\n\nexports.blobToArrayBuffer = blobToArrayBuffer;\n\nvar addFileInfo = function addFileInfo(fileObj, dateObj, fileExtension) {\n  if (fileObj instanceof Blob || fileObj instanceof File) {\n    if (dateObj === undefined) {\n      dateObj = new Date();\n    }\n\n    try {\n      fileObj.lastModified = dateObj.getTime();\n      fileObj.lastModifiedDate = dateObj;\n    } catch (e) {\n      if (e instanceof TypeError) {} else {\n        throw e;\n      }\n    }\n\n    if (fileExtension === undefined) {\n      fileExtension = '.' + (0, _mime.default)(fileObj.type);\n    }\n\n    try {\n      fileObj.name = dateObj.getTime() + fileExtension;\n    } catch (e) {\n      if (e instanceof TypeError) {} else {\n        throw e;\n      }\n    }\n  }\n};\n\nexports.addFileInfo = addFileInfo;\n\n/***/ }),\n\n/***/ \"./src/js/utils/format-time.js\":\n/*!*************************************!*\\\n  !*** ./src/js/utils/format-time.js ***!\n  \\*************************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _parseMs = _interopRequireDefault(__webpack_require__(/*! parse-ms */ \"./node_modules/parse-ms/index.js\"));\n\nvar _addZero = _interopRequireDefault(__webpack_require__(/*! add-zero */ \"./node_modules/add-zero/index.js\"));\n\nvar formatTime = function formatTime(seconds, guide) {\n  var displayMilliseconds = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  seconds = seconds < 0 ? 0 : seconds;\n\n  if (isNaN(seconds) || seconds === Infinity) {\n    seconds = 0;\n  }\n\n  var inputTime = (0, _parseMs.default)(seconds * 1000);\n  var guideTime = inputTime;\n\n  if (guide !== undefined) {\n    guideTime = (0, _parseMs.default)(guide * 1000);\n  }\n\n  var hr = (0, _addZero.default)(inputTime.hours);\n  var min = (0, _addZero.default)(inputTime.minutes);\n  var sec = (0, _addZero.default)(inputTime.seconds);\n  var ms = (0, _addZero.default)(inputTime.milliseconds, 3);\n\n  if (inputTime.days > 0 || guideTime.days > 0) {\n    var day = (0, _addZero.default)(inputTime.days);\n    return \"\".concat(day, \":\").concat(hr, \":\").concat(min, \":\").concat(sec);\n  }\n\n  if (inputTime.hours > 0 || guideTime.hours > 0) {\n    return \"\".concat(hr, \":\").concat(min, \":\").concat(sec);\n  }\n\n  if (displayMilliseconds) {\n    return \"\".concat(min, \":\").concat(sec, \":\").concat(ms);\n  }\n\n  return \"\".concat(min, \":\").concat(sec);\n};\n\nvar _default = formatTime;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/utils/mime.js\":\n/*!******************************!*\\\n  !*** ./src/js/utils/mime.js ***!\n  \\******************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/;\nvar Mimetypes = {\n  'video/ogg': 'ogv',\n  'video/mp4': 'mp4',\n  'video/x-matroska': 'mkv',\n  'video/webm': 'webm',\n  'audio/mp4': 'm4a',\n  'audio/mpeg': 'mp3',\n  'audio/aac': 'aac',\n  'audio/flac': 'flac',\n  'audio/ogg': 'oga',\n  'audio/wav': 'wav',\n  'audio/webm': 'webm',\n  'application/x-mpegURL': 'm3u8',\n  'image/jpeg': 'jpg',\n  'image/gif': 'gif',\n  'image/png': 'png',\n  'image/svg+xml': 'svg',\n  'image/webp': 'webp'\n};\n\nvar getExtension = function getExtension(mimeType) {\n  var match = EXTRACT_TYPE_REGEXP.exec(mimeType);\n  var result = match && match[1].toLowerCase();\n  return Mimetypes[result];\n};\n\nvar _default = getExtension;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./node_modules/global/window.js\":\n/*!***************************************!*\\\n  !*** ./node_modules/global/window.js ***!\n  \\***************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof __webpack_require__.g !== \"undefined\") {\n    win = __webpack_require__.g;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n\n\n/***/ }),\n\n/***/ \"./node_modules/regenerator-runtime/runtime.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/regenerator-runtime/runtime.js ***!\n  \\*****************************************************/\n/***/ ((module) => {\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   true ? module.exports : 0\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n\n\n/***/ }),\n\n/***/ \"recordrtc\":\n/*!******************************************************************************************************!*\\\n  !*** external {\"commonjs\":\"recordrtc\",\"commonjs2\":\"recordrtc\",\"amd\":\"recordrtc\",\"root\":\"RecordRTC\"} ***!\n  \\******************************************************************************************************/\n/***/ ((module) => {\n\n\"use strict\";\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_recordrtc__;\n\n/***/ }),\n\n/***/ \"video.js\":\n/*!*************************************************************************************************!*\\\n  !*** external {\"commonjs\":\"video.js\",\"commonjs2\":\"video.js\",\"amd\":\"video.js\",\"root\":\"videojs\"} ***!\n  \\*************************************************************************************************/\n/***/ ((module) => {\n\n\"use strict\";\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_video_js__;\n\n/***/ }),\n\n/***/ \"./node_modules/parse-ms/index.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/parse-ms/index.js ***!\n  \\****************************************/\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ parseMilliseconds)\n/* harmony export */ });\nfunction parseMilliseconds(milliseconds) {\n\tif (typeof milliseconds !== 'number') {\n\t\tthrow new TypeError('Expected a number');\n\t}\n\n\tconst roundTowardsZero = milliseconds > 0 ? Math.floor : Math.ceil;\n\n\treturn {\n\t\tdays: roundTowardsZero(milliseconds / 86400000),\n\t\thours: roundTowardsZero(milliseconds / 3600000) % 24,\n\t\tminutes: roundTowardsZero(milliseconds / 60000) % 60,\n\t\tseconds: roundTowardsZero(milliseconds / 1000) % 60,\n\t\tmilliseconds: roundTowardsZero(milliseconds) % 1000,\n\t\tmicroseconds: roundTowardsZero(milliseconds * 1000) % 1000,\n\t\tnanoseconds: roundTowardsZero(milliseconds * 1e6) % 1000\n\t};\n}\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/global */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.g = (function() {\n/******/ \t\t\tif (typeof globalThis === 'object') return globalThis;\n/******/ \t\t\ttry {\n/******/ \t\t\t\treturn this || new Function('return this')();\n/******/ \t\t\t} catch (e) {\n/******/ \t\t\t\tif (typeof window === 'object') return window;\n/******/ \t\t\t}\n/******/ \t\t})();\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be in strict mode.\n(() => {\n\"use strict\";\nvar exports = __webpack_exports__;\n/*!**********************************!*\\\n  !*** ./src/js/videojs.record.js ***!\n  \\**********************************/\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.register = register;\nexports.Record = void 0;\n\nvar _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\"));\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\"));\n\nvar _get2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/get.js\"));\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \"video.js\"));\n\nvar _animationDisplay = _interopRequireDefault(__webpack_require__(/*! ./controls/animation-display */ \"./src/js/controls/animation-display.js\"));\n\nvar _recordCanvas = _interopRequireDefault(__webpack_require__(/*! ./controls/record-canvas */ \"./src/js/controls/record-canvas.js\"));\n\nvar _deviceButton = _interopRequireDefault(__webpack_require__(/*! ./controls/device-button */ \"./src/js/controls/device-button.js\"));\n\nvar _cameraButton = _interopRequireDefault(__webpack_require__(/*! ./controls/camera-button */ \"./src/js/controls/camera-button.js\"));\n\nvar _recordToggle = _interopRequireDefault(__webpack_require__(/*! ./controls/record-toggle */ \"./src/js/controls/record-toggle.js\"));\n\nvar _recordIndicator = _interopRequireDefault(__webpack_require__(/*! ./controls/record-indicator */ \"./src/js/controls/record-indicator.js\"));\n\nvar _pictureInPictureToggle = _interopRequireDefault(__webpack_require__(/*! ./controls/picture-in-picture-toggle */ \"./src/js/controls/picture-in-picture-toggle.js\"));\n\nvar _event = _interopRequireDefault(__webpack_require__(/*! ./event */ \"./src/js/event.js\"));\n\nvar _hotKeys = _interopRequireDefault(__webpack_require__(/*! ./hot-keys */ \"./src/js/hot-keys.js\"));\n\nvar _defaults = _interopRequireDefault(__webpack_require__(/*! ./defaults */ \"./src/js/defaults.js\"));\n\nvar _formatTime = _interopRequireDefault(__webpack_require__(/*! ./utils/format-time */ \"./src/js/utils/format-time.js\"));\n\nvar _browserShim = _interopRequireDefault(__webpack_require__(/*! ./utils/browser-shim */ \"./src/js/utils/browser-shim.js\"));\n\nvar _compareVersion = _interopRequireDefault(__webpack_require__(/*! ./utils/compare-version */ \"./src/js/utils/compare-version.js\"));\n\nvar _detectBrowser = __webpack_require__(/*! ./utils/detect-browser */ \"./src/js/utils/detect-browser.js\");\n\nvar _engineLoader = __webpack_require__(/*! ./engine/engine-loader */ \"./src/js/engine/engine-loader.js\");\n\nvar _recordMode = __webpack_require__(/*! ./engine/record-mode */ \"./src/js/engine/record-mode.js\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Plugin = _video.default.getPlugin('plugin');\n\nvar Player = _video.default.getComponent('Player');\n\nvar AUTO = 'auto';\n\nvar Record = function (_Plugin) {\n  (0, _inherits2.default)(Record, _Plugin);\n\n  var _super = _createSuper(Record);\n\n  function Record(player, options) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Record);\n    _this = _super.call(this, player, options);\n\n    Player.prototype.play = function play() {\n      var retval = this.techGet_('play');\n\n      if (retval !== undefined && typeof retval.then === 'function') {\n        retval.then(null, function (e) {});\n      }\n\n      return retval;\n    };\n\n    player.addClass('vjs-record');\n\n    _this.loadOptions();\n\n    _this.resetState();\n\n    if (options.formatTime && typeof options.formatTime === 'function') {\n      _this.setFormatTime(options.formatTime);\n    } else {\n      _this.setFormatTime(function (seconds, guide) {\n        return (0, _formatTime.default)(seconds, guide, _this.displayMilliseconds);\n      });\n    }\n\n    var deviceIcon = 'av-perm';\n\n    switch (_this.getRecordType()) {\n      case _recordMode.IMAGE_ONLY:\n      case _recordMode.VIDEO_ONLY:\n      case _recordMode.ANIMATION:\n        deviceIcon = 'video-perm';\n        break;\n\n      case _recordMode.AUDIO_ONLY:\n        deviceIcon = 'audio-perm';\n        break;\n\n      case _recordMode.SCREEN_ONLY:\n        deviceIcon = 'screen-perm';\n        break;\n\n      case _recordMode.AUDIO_SCREEN:\n        deviceIcon = 'sv-perm';\n        break;\n    }\n\n    _deviceButton.default.prototype.buildCSSClass = function () {\n      return 'vjs-record vjs-device-button vjs-control vjs-icon-' + deviceIcon;\n    };\n\n    player.deviceButton = new _deviceButton.default(player, options);\n    player.addChild(player.deviceButton);\n    player.recordIndicator = new _recordIndicator.default(player, options);\n    player.recordIndicator.hide();\n    player.addChild(player.recordIndicator);\n    player.recordCanvas = new _recordCanvas.default(player, options);\n    player.recordCanvas.hide();\n    player.addChild(player.recordCanvas);\n    player.animationDisplay = new _animationDisplay.default(player, options);\n    player.animationDisplay.hide();\n    player.addChild(player.animationDisplay);\n    player.cameraButton = new _cameraButton.default(player, options);\n    player.cameraButton.hide();\n    player.recordToggle = new _recordToggle.default(player, options);\n    player.recordToggle.hide();\n    var oldVideoJS = _video.default.VERSION === undefined || (0, _compareVersion.default)(_video.default.VERSION, '7.6.0') === -1;\n\n    if (!('pictureInPictureEnabled' in document)) {\n      _this.pictureInPicture = false;\n    }\n\n    if (_this.pictureInPicture === true) {\n      if (oldVideoJS) {\n        player.pipToggle = new _pictureInPictureToggle.default(player, options);\n        player.pipToggle.hide();\n      }\n\n      _this.onEnterPiPHandler = _this.onEnterPiP.bind((0, _assertThisInitialized2.default)(_this));\n      _this.onLeavePiPHandler = _this.onLeavePiP.bind((0, _assertThisInitialized2.default)(_this));\n    }\n\n    if (_this.player.options_.controlBar) {\n      var customUIElements = ['deviceButton', 'recordIndicator', 'cameraButton', 'recordToggle'];\n\n      if (player.pipToggle) {\n        customUIElements.push('pipToggle');\n      }\n\n      customUIElements.forEach(function (element) {\n        if (_this.player.options_.controlBar[element] !== undefined) {\n          _this.player[element].layoutExclude = true;\n\n          _this.player[element].hide();\n        }\n      });\n    }\n\n    _this.player.one(_event.default.READY, _this.setupUI.bind((0, _assertThisInitialized2.default)(_this)));\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(Record, [{\n    key: \"loadOptions\",\n    value: function loadOptions() {\n      var newOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var recordOptions = _video.default.mergeOptions(_defaults.default, this.player.options_.plugins.record, newOptions);\n\n      this.recordImage = recordOptions.image;\n      this.recordAudio = recordOptions.audio;\n      this.recordVideo = recordOptions.video;\n      this.recordAnimation = recordOptions.animation;\n      this.recordScreen = recordOptions.screen;\n      this.maxLength = recordOptions.maxLength;\n      this.maxFileSize = recordOptions.maxFileSize;\n      this.displayMilliseconds = recordOptions.displayMilliseconds;\n      this.debug = recordOptions.debug;\n      this.pictureInPicture = recordOptions.pip;\n      this.recordTimeSlice = recordOptions.timeSlice;\n      this.autoMuteDevice = recordOptions.autoMuteDevice;\n      this.pluginLibraryOptions = recordOptions.pluginLibraryOptions;\n      this.videoFrameWidth = recordOptions.frameWidth;\n      this.videoFrameHeight = recordOptions.frameHeight;\n      this.videoFrameRate = recordOptions.videoFrameRate;\n      this.videoBitRate = recordOptions.videoBitRate;\n      this.videoEngine = recordOptions.videoEngine;\n      this.videoRecorderType = recordOptions.videoRecorderType;\n      this.videoMimeType = recordOptions.videoMimeType;\n      this.videoWorkerURL = recordOptions.videoWorkerURL;\n      this.videoWebAssemblyURL = recordOptions.videoWebAssemblyURL;\n      this.convertEngine = recordOptions.convertEngine;\n      this.convertAuto = recordOptions.convertAuto;\n      this.convertWorkerURL = recordOptions.convertWorkerURL;\n      this.convertOptions = recordOptions.convertOptions;\n      this.audioEngine = recordOptions.audioEngine;\n      this.audioRecorderType = recordOptions.audioRecorderType;\n      this.audioWorkerURL = recordOptions.audioWorkerURL;\n      this.audioWebAssemblyURL = recordOptions.audioWebAssemblyURL;\n      this.audioBufferSize = recordOptions.audioBufferSize;\n      this.audioSampleRate = recordOptions.audioSampleRate;\n      this.audioBitRate = recordOptions.audioBitRate;\n      this.audioChannels = recordOptions.audioChannels;\n      this.audioMimeType = recordOptions.audioMimeType;\n      this.audioBufferUpdate = recordOptions.audioBufferUpdate;\n      this.imageOutputType = recordOptions.imageOutputType;\n      this.imageOutputFormat = recordOptions.imageOutputFormat;\n      this.imageOutputQuality = recordOptions.imageOutputQuality;\n      this.animationFrameRate = recordOptions.animationFrameRate;\n      this.animationQuality = recordOptions.animationQuality;\n    }\n  }, {\n    key: \"setupUI\",\n    value: function setupUI() {\n      var _this2 = this;\n\n      this.player.controlBar.addChild(this.player.cameraButton);\n      this.player.controlBar.el().insertBefore(this.player.cameraButton.el(), this.player.controlBar.el().firstChild);\n      this.player.controlBar.el().insertBefore(this.player.recordToggle.el(), this.player.controlBar.el().firstChild);\n\n      if (this.pictureInPicture === true) {\n        if (this.player.controlBar.pictureInPictureToggle === undefined && this.player.pipToggle !== undefined) {\n          this.player.controlBar.addChild(this.player.pipToggle);\n        } else if (this.player.controlBar.pictureInPictureToggle !== undefined) {\n          this.player.pipToggle = this.player.controlBar.pictureInPictureToggle;\n          this.player.pipToggle.hide();\n        }\n      } else if (this.pictureInPicture === false && this.player.controlBar.pictureInPictureToggle !== undefined) {\n        this.player.controlBar.pictureInPictureToggle.hide();\n      }\n\n      if (this.player.controlBar.remainingTimeDisplay !== undefined) {\n        this.player.controlBar.remainingTimeDisplay.el().style.display = 'none';\n      }\n\n      if (this.player.controlBar.liveDisplay !== undefined) {\n        this.player.controlBar.liveDisplay.el().style.display = 'none';\n      }\n\n      this.player.loop(false);\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.surfer = this.player.wavesurfer();\n          this.surfer.setFormatTime(this._formatTime);\n          break;\n\n        case _recordMode.IMAGE_ONLY:\n        case _recordMode.VIDEO_ONLY:\n        case _recordMode.AUDIO_VIDEO:\n        case _recordMode.ANIMATION:\n        case _recordMode.SCREEN_ONLY:\n        case _recordMode.AUDIO_SCREEN:\n          if (this.player.bigPlayButton !== undefined) {\n            this.player.bigPlayButton.hide();\n          }\n\n          this.player.one(_event.default.LOADEDMETADATA, function () {\n            _this2.setDuration(_this2.maxLength);\n          });\n          this.player.one(_event.default.LOADSTART, function () {\n            _this2.setDuration(_this2.maxLength);\n          });\n\n          if (this.player.usingNativeControls_ === true) {\n            if (this.player.tech_.el_ !== undefined) {\n              this.player.tech_.el_.controls = false;\n            }\n          }\n\n          this.player.removeTechControlsListeners_();\n\n          if (this.player.options_.controls) {\n            if (this.player.controlBar.progressControl !== undefined) {\n              this.player.controlBar.progressControl.hide();\n            }\n\n            this.player.on(_event.default.USERINACTIVE, function (event) {\n              _this2.player.userActive(true);\n            });\n            this.player.controlBar.show();\n            this.player.controlBar.el().style.display = 'flex';\n          }\n\n          break;\n      }\n\n      this.player.off(_event.default.TIMEUPDATE);\n      this.player.off(_event.default.DURATIONCHANGE);\n      this.player.off(_event.default.LOADEDMETADATA);\n      this.player.off(_event.default.LOADSTART);\n      this.player.off(_event.default.ENDED);\n      this.setDuration(this.maxLength);\n\n      if (this.player.options_.plugins.record && this.player.options_.plugins.record.hotKeys && this.player.options_.plugins.record.hotKeys !== false) {\n        var handler = this.player.options_.plugins.record.hotKeys;\n\n        if (handler === true) {\n          handler = _hotKeys.default;\n        }\n\n        this.player.options_.userActions = {\n          hotkeys: handler\n        };\n      }\n\n      if (this.player.controlBar.playToggle !== undefined) {\n        this.player.controlBar.playToggle.hide();\n      }\n    }\n  }, {\n    key: \"isRecording\",\n    value: function isRecording() {\n      return this._recording;\n    }\n  }, {\n    key: \"isProcessing\",\n    value: function isProcessing() {\n      return this._processing;\n    }\n  }, {\n    key: \"isDestroyed\",\n    value: function isDestroyed() {\n      var destroyed = this.player === null;\n\n      if (destroyed === false) {\n        destroyed = this.player.children() === null;\n      }\n\n      return destroyed;\n    }\n  }, {\n    key: \"getDevice\",\n    value: function getDevice() {\n      var _this3 = this;\n\n      if (this.deviceReadyCallback === undefined) {\n        this.deviceReadyCallback = this.onDeviceReady.bind(this);\n      }\n\n      if (this.deviceErrorCallback === undefined) {\n        this.deviceErrorCallback = this.onDeviceError.bind(this);\n      }\n\n      if (this.engineStopCallback === undefined) {\n        this.engineStopCallback = this.onRecordComplete.bind(this);\n      }\n\n      if (this.streamVisibleCallback === undefined) {\n        this.streamVisibleCallback = this.onStreamVisible.bind(this);\n      }\n\n      if (this.getRecordType() === _recordMode.SCREEN_ONLY || this.getRecordType() === _recordMode.AUDIO_SCREEN) {\n        if (navigator.mediaDevices === undefined || navigator.mediaDevices.getDisplayMedia === undefined) {\n          this.player.trigger(_event.default.ERROR, 'This browser does not support navigator.mediaDevices.getDisplayMedia');\n          return;\n        }\n      } else {\n        if (navigator.mediaDevices === undefined || navigator.mediaDevices.getUserMedia === undefined) {\n          this.player.trigger(_event.default.ERROR, 'This browser does not support navigator.mediaDevices.getUserMedia');\n          return;\n        }\n      }\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.mediaType = {\n            audio: this.audioRecorderType === AUTO ? true : this.audioRecorderType,\n            video: false\n          };\n          this.surfer.surfer.microphone.un(_event.default.DEVICE_READY, this.deviceReadyCallback);\n          this.surfer.surfer.microphone.un(_event.default.DEVICE_ERROR, this.deviceErrorCallback);\n          this.surfer.surfer.microphone.on(_event.default.DEVICE_READY, this.deviceReadyCallback);\n          this.surfer.surfer.microphone.on(_event.default.DEVICE_ERROR, this.deviceErrorCallback);\n          this.surfer.setupPlaybackEvents(false);\n          this.surfer.liveMode = true;\n          this.surfer.surfer.microphone.paused = false;\n\n          if (this.surfer.surfer.backend.ac.state === 'suspended') {\n            this.surfer.surfer.backend.ac.resume();\n          }\n\n          if (this.audioBufferUpdate === true) {\n            this.surfer.surfer.microphone.reloadBufferFunction = function (event) {\n              if (!_this3.surfer.surfer.microphone.paused) {\n                _this3.surfer.surfer.empty();\n\n                _this3.surfer.surfer.loadDecodedBuffer(event.inputBuffer);\n\n                _this3.player.recordedData = event.inputBuffer;\n\n                _this3.player.trigger(_event.default.AUDIO_BUFFER_UPDATE);\n              }\n            };\n          }\n\n          this.surfer.surfer.microphone.start();\n          break;\n\n        case _recordMode.IMAGE_ONLY:\n        case _recordMode.VIDEO_ONLY:\n          if (this.getRecordType() === _recordMode.IMAGE_ONLY) {\n            this.player.el().firstChild.addEventListener(_event.default.PLAYING, this.streamVisibleCallback);\n          }\n\n          this.mediaType = {\n            audio: false,\n            video: this.videoRecorderType === AUTO ? true : this.videoRecorderType\n          };\n          navigator.mediaDevices.getUserMedia({\n            audio: false,\n            video: this.getRecordType() === _recordMode.IMAGE_ONLY ? this.recordImage : this.recordVideo\n          }).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));\n          break;\n\n        case _recordMode.AUDIO_SCREEN:\n          this.mediaType = {\n            audio: this.audioRecorderType === AUTO ? true : this.audioRecorderType,\n            video: this.videoRecorderType === AUTO ? true : this.videoRecorderType\n          };\n          var audioScreenConstraints = {};\n\n          if (this.recordScreen === true) {\n            audioScreenConstraints = {\n              video: true\n            };\n          } else if ((0, _typeof2.default)(this.recordScreen) === 'object' && this.recordScreen.constructor === Object) {\n            audioScreenConstraints = this.recordScreen;\n          }\n\n          navigator.mediaDevices.getDisplayMedia(audioScreenConstraints).then(function (screenStream) {\n            navigator.mediaDevices.getUserMedia({\n              audio: _this3.recordAudio\n            }).then(function (mic) {\n              screenStream.addTrack(mic.getTracks()[0]);\n\n              _this3.onDeviceReady.bind(_this3)(screenStream);\n            }).catch(function (code) {\n              if (screenStream.active) {\n                screenStream.stop();\n              }\n\n              _this3.onDeviceError(code);\n            });\n          }).catch(this.onDeviceError.bind(this));\n          break;\n\n        case _recordMode.AUDIO_VIDEO:\n          this.mediaType = {\n            audio: this.audioRecorderType === AUTO ? true : this.audioRecorderType,\n            video: this.videoRecorderType === AUTO ? true : this.videoRecorderType\n          };\n          navigator.mediaDevices.getUserMedia({\n            audio: this.recordAudio,\n            video: this.recordVideo\n          }).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));\n          break;\n\n        case _recordMode.ANIMATION:\n          this.mediaType = {\n            audio: false,\n            video: false,\n            gif: true\n          };\n          navigator.mediaDevices.getUserMedia({\n            audio: false,\n            video: this.recordAnimation\n          }).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));\n          break;\n\n        case _recordMode.SCREEN_ONLY:\n          this.mediaType = {\n            audio: false,\n            video: false,\n            screen: true,\n            gif: false\n          };\n          var screenOnlyConstraints = {};\n\n          if (this.recordScreen === true) {\n            screenOnlyConstraints = {\n              video: true\n            };\n          } else if ((0, _typeof2.default)(this.recordScreen) === 'object' && this.recordScreen.constructor === Object) {\n            screenOnlyConstraints = this.recordScreen;\n          }\n\n          navigator.mediaDevices.getDisplayMedia(screenOnlyConstraints).then(this.onDeviceReady.bind(this)).catch(this.onDeviceError.bind(this));\n          break;\n      }\n    }\n  }, {\n    key: \"onDeviceReady\",\n    value: function onDeviceReady(stream) {\n      var _this4 = this;\n\n      this._deviceActive = true;\n\n      if (this.stream !== undefined && this.stream.active) {\n        this.stream.stop();\n      }\n\n      this.stream = stream;\n      this.player.deviceButton.hide();\n      this.setDuration(this.maxLength);\n      this.setCurrentTime(0);\n\n      if (this.player.controlBar.playToggle !== undefined) {\n        this.player.controlBar.playToggle.hide();\n      }\n\n      this.off(this.player, _event.default.TIMEUPDATE, this.playbackTimeUpdate);\n      this.off(this.player, _event.default.ENDED, this.playbackTimeUpdate);\n\n      if (this.getRecordType() !== _recordMode.IMAGE_ONLY) {\n        if (this.getRecordType() !== _recordMode.AUDIO_ONLY && (0, _engineLoader.isAudioPluginActive)(this.audioEngine)) {\n          throw new Error('Currently ' + this.audioEngine + ' is only supported in audio-only mode.');\n        }\n\n        var EngineClass, engineType;\n\n        switch (this.getRecordType()) {\n          case _recordMode.AUDIO_ONLY:\n            EngineClass = (0, _engineLoader.getAudioEngine)(this.audioEngine);\n            engineType = this.audioEngine;\n            break;\n\n          default:\n            EngineClass = (0, _engineLoader.getVideoEngine)(this.videoEngine);\n            engineType = this.videoEngine;\n        }\n\n        try {\n          this.engine = new EngineClass(this.player, this.player.options_);\n        } catch (err) {\n          throw new Error('Could not load ' + engineType + ' plugin');\n        }\n\n        this.engine.on(_event.default.RECORD_COMPLETE, this.engineStopCallback);\n        this.engine.bufferSize = this.audioBufferSize;\n        this.engine.sampleRate = this.audioSampleRate;\n        this.engine.bitRate = this.audioBitRate;\n        this.engine.audioChannels = this.audioChannels;\n        this.engine.audioWorkerURL = this.audioWorkerURL;\n        this.engine.audioWebAssemblyURL = this.audioWebAssemblyURL;\n        this.engine.mimeType = {\n          video: this.videoMimeType,\n          gif: 'image/gif'\n        };\n\n        if (this.audioMimeType !== null && this.audioMimeType !== AUTO) {\n          this.engine.mimeType.audio = this.audioMimeType;\n        }\n\n        this.engine.videoWorkerURL = this.videoWorkerURL;\n        this.engine.videoWebAssemblyURL = this.videoWebAssemblyURL;\n        this.engine.videoBitRate = this.videoBitRate;\n        this.engine.videoFrameRate = this.videoFrameRate;\n        this.engine.video = {\n          width: this.videoFrameWidth,\n          height: this.videoFrameHeight\n        };\n        this.engine.canvas = {\n          width: this.videoFrameWidth,\n          height: this.videoFrameHeight\n        };\n        this.engine.quality = this.animationQuality;\n        this.engine.frameRate = this.animationFrameRate;\n\n        if (this.recordTimeSlice && this.recordTimeSlice > 0) {\n          this.engine.timeSlice = this.recordTimeSlice;\n          this.engine.maxFileSize = this.maxFileSize;\n        }\n\n        this.engine.pluginLibraryOptions = this.pluginLibraryOptions;\n        this.engine.setup(this.stream, this.mediaType, this.debug);\n\n        if (this.convertEngine !== '') {\n          var ConvertEngineClass = (0, _engineLoader.getConvertEngine)(this.convertEngine);\n\n          try {\n            this.converter = new ConvertEngineClass(this.player, this.player.options_);\n          } catch (err) {\n            throw new Error('Could not load ' + this.convertEngine + ' plugin');\n          }\n\n          this.converter.convertAuto = this.convertAuto;\n          this.converter.convertWorkerURL = this.convertWorkerURL;\n          this.converter.convertOptions = this.convertOptions;\n          this.converter.pluginLibraryOptions = this.pluginLibraryOptions;\n          this.converter.setup(this.mediaType, this.debug);\n        }\n\n        var uiElements = ['currentTimeDisplay', 'timeDivider', 'durationDisplay'];\n        uiElements.forEach(function (element) {\n          element = _this4.player.controlBar[element];\n\n          if (element !== undefined) {\n            element.el().style.display = 'block';\n            element.show();\n          }\n        });\n        this.player.recordToggle.show();\n      } else {\n        this.player.recordIndicator.disable();\n        this.retrySnapshot();\n      }\n\n      if (this.getRecordType() !== _recordMode.AUDIO_ONLY) {\n        this.mediaElement = this.player.el().firstChild;\n        this.mediaElement.controls = false;\n        this.mediaElement.muted = true;\n        this.displayVolumeControl(false);\n\n        if (this.pictureInPicture === true) {\n          this.player.pipToggle.show();\n          this.mediaElement.removeEventListener(_event.default.ENTERPICTUREINPICTURE, this.onEnterPiPHandler);\n          this.mediaElement.removeEventListener(_event.default.LEAVEPICTUREINPICTURE, this.onLeavePiPHandler);\n          this.mediaElement.addEventListener(_event.default.ENTERPICTUREINPICTURE, this.onEnterPiPHandler);\n          this.mediaElement.addEventListener(_event.default.LEAVEPICTUREINPICTURE, this.onLeavePiPHandler);\n        }\n\n        this.load(this.stream);\n        this.player.one(_event.default.LOADEDMETADATA, function () {\n          _this4.mediaElement.play();\n\n          _this4.player.trigger(_event.default.DEVICE_READY);\n        });\n      } else {\n        this.player.trigger(_event.default.DEVICE_READY);\n      }\n    }\n  }, {\n    key: \"onDeviceError\",\n    value: function onDeviceError(code) {\n      this._deviceActive = false;\n\n      if (!this.isDestroyed()) {\n        this.player.deviceErrorCode = code;\n        this.player.trigger(_event.default.DEVICE_ERROR);\n      }\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this5 = this;\n\n      if (!this.isProcessing()) {\n        if (this.stream && this.stream.active === false) {\n          this.getDevice();\n          return;\n        }\n\n        this._recording = true;\n\n        if (this.player.controlBar.playToggle !== undefined) {\n          this.player.controlBar.playToggle.hide();\n        }\n\n        this.off(this.player, _event.default.TIMEUPDATE, this.playbackTimeUpdate);\n        this.off(this.player, _event.default.ENDED, this.playbackTimeUpdate);\n\n        switch (this.getRecordType()) {\n          case _recordMode.AUDIO_ONLY:\n            this.surfer.setupPlaybackEvents(false);\n            this.surfer.surfer.microphone.paused = false;\n            this.surfer.liveMode = true;\n            this.surfer.surfer.microphone.play();\n            break;\n\n          case _recordMode.VIDEO_ONLY:\n          case _recordMode.AUDIO_VIDEO:\n          case _recordMode.AUDIO_SCREEN:\n          case _recordMode.SCREEN_ONLY:\n            this.startVideoPreview();\n            break;\n\n          case _recordMode.ANIMATION:\n            this.player.recordCanvas.hide();\n            this.player.animationDisplay.hide();\n            this.mediaElement.style.display = 'block';\n            this.captureFrame().then(function (result) {\n              _this5.startVideoPreview();\n            });\n            break;\n        }\n\n        if (this.autoMuteDevice) {\n          this.muteTracks(false);\n        }\n\n        switch (this.getRecordType()) {\n          case _recordMode.IMAGE_ONLY:\n            this.createSnapshot();\n            this.player.trigger(_event.default.START_RECORD);\n            break;\n\n          case _recordMode.VIDEO_ONLY:\n          case _recordMode.AUDIO_VIDEO:\n          case _recordMode.AUDIO_SCREEN:\n          case _recordMode.ANIMATION:\n          case _recordMode.SCREEN_ONLY:\n            this.player.one(_event.default.LOADEDMETADATA, function () {\n              _this5.startRecording();\n            });\n            break;\n\n          default:\n            this.startRecording();\n        }\n      }\n    }\n  }, {\n    key: \"startRecording\",\n    value: function startRecording() {\n      this.paused = false;\n      this.pauseTime = this.pausedTime = 0;\n      this.startTime = performance.now();\n      var COUNTDOWN_SPEED = 100;\n      this.countDown = this.player.setInterval(this.onCountDown.bind(this), COUNTDOWN_SPEED);\n\n      if (this.engine !== undefined) {\n        this.engine.dispose();\n      }\n\n      this.engine.start();\n      this.player.trigger(_event.default.START_RECORD);\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (!this.isProcessing()) {\n        this._recording = false;\n        this._processing = true;\n\n        if (this.getRecordType() !== _recordMode.IMAGE_ONLY) {\n          this.player.trigger(_event.default.STOP_RECORD);\n          this.player.clearInterval(this.countDown);\n\n          if (this.engine) {\n            this.engine.stop();\n          }\n\n          if (this.autoMuteDevice) {\n            this.muteTracks(true);\n          }\n        } else {\n          if (this.player.recordedData) {\n            this.player.trigger(_event.default.FINISH_RECORD);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"stopDevice\",\n    value: function stopDevice() {\n      if (this.isRecording()) {\n        this.player.one(_event.default.FINISH_RECORD, this.stopStream.bind(this));\n        this.stop();\n      } else {\n        this.stopStream();\n      }\n    }\n  }, {\n    key: \"stopStream\",\n    value: function stopStream() {\n      if (this.stream) {\n        this._deviceActive = false;\n\n        if (this.getRecordType() === _recordMode.AUDIO_ONLY) {\n          this.surfer.surfer.microphone.stopDevice();\n          return;\n        }\n\n        this.stream.getTracks().forEach(function (stream) {\n          stream.stop();\n        });\n      }\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      if (!this.paused) {\n        this.pauseTime = performance.now();\n        this.paused = true;\n        this.engine.pause();\n      }\n    }\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      if (this.paused) {\n        this.pausedTime += performance.now() - this.pauseTime;\n        this.engine.resume();\n        this.paused = false;\n      }\n    }\n  }, {\n    key: \"onRecordComplete\",\n    value: function onRecordComplete() {\n      var _this6 = this;\n\n      this.player.recordedData = this.engine.recordedData;\n\n      if (this.player.controlBar.playToggle !== undefined) {\n        this.player.controlBar.playToggle.removeClass('vjs-ended');\n        this.player.controlBar.playToggle.show();\n      }\n\n      if (this.convertAuto === true) {\n        this.convert();\n      }\n\n      this.player.trigger(_event.default.FINISH_RECORD);\n\n      if (this.isDestroyed()) {\n        return;\n      }\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.surfer.pause();\n          this.surfer.setupPlaybackEvents(true);\n          this.player.loadingSpinner.show();\n          this.surfer.surfer.once(_event.default.READY, function () {\n            _this6._processing = false;\n          });\n          this.load(this.player.recordedData);\n          break;\n\n        case _recordMode.VIDEO_ONLY:\n        case _recordMode.AUDIO_VIDEO:\n        case _recordMode.AUDIO_SCREEN:\n        case _recordMode.SCREEN_ONLY:\n          this.player.one(_event.default.PAUSE, function () {\n            _this6._processing = false;\n\n            _this6.player.loadingSpinner.hide();\n\n            _this6.setDuration(_this6.streamDuration);\n\n            _this6.on(_this6.player, _event.default.TIMEUPDATE, _this6.playbackTimeUpdate);\n\n            _this6.on(_this6.player, _event.default.ENDED, _this6.playbackTimeUpdate);\n\n            if (_this6.getRecordType() === _recordMode.AUDIO_VIDEO || _this6.getRecordType() === _recordMode.AUDIO_SCREEN) {\n              _this6.mediaElement.muted = false;\n\n              _this6.displayVolumeControl(true);\n            }\n\n            _this6.load(_this6.player.recordedData);\n          });\n          this.player.pause();\n          break;\n\n        case _recordMode.ANIMATION:\n          this._processing = false;\n          this.player.loadingSpinner.hide();\n          this.setDuration(this.streamDuration);\n          this.mediaElement.style.display = 'none';\n          this.player.recordCanvas.show();\n          this.player.pause();\n          this.on(this.player, _event.default.PLAY, this.showAnimation);\n          this.on(this.player, _event.default.PAUSE, this.hideAnimation);\n          break;\n      }\n    }\n  }, {\n    key: \"onCountDown\",\n    value: function onCountDown() {\n      if (!this.paused) {\n        var now = performance.now();\n        var duration = this.maxLength;\n        var currentTime = (now - (this.startTime + this.pausedTime)) / 1000;\n        this.streamDuration = currentTime;\n\n        if (currentTime >= duration) {\n          currentTime = duration;\n          this.stop();\n        }\n\n        this.setDuration(duration);\n        this.setCurrentTime(currentTime, duration);\n        this.player.trigger(_event.default.PROGRESS_RECORD);\n      }\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      var currentTime = isNaN(this.streamCurrentTime) ? 0 : this.streamCurrentTime;\n\n      if (this.getRecordType() === _recordMode.AUDIO_ONLY) {\n        currentTime = this.surfer.getCurrentTime();\n      }\n\n      return currentTime;\n    }\n  }, {\n    key: \"setCurrentTime\",\n    value: function setCurrentTime(currentTime, duration) {\n      currentTime = isNaN(currentTime) ? 0 : currentTime;\n      duration = isNaN(duration) ? 0 : duration;\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.surfer.setCurrentTime(currentTime, duration);\n          break;\n\n        case _recordMode.VIDEO_ONLY:\n        case _recordMode.AUDIO_VIDEO:\n        case _recordMode.AUDIO_SCREEN:\n        case _recordMode.ANIMATION:\n        case _recordMode.SCREEN_ONLY:\n          if (this.player.controlBar.currentTimeDisplay && this.player.controlBar.currentTimeDisplay.contentEl() && this.player.controlBar.currentTimeDisplay.contentEl().lastChild) {\n            this.streamCurrentTime = Math.min(currentTime, duration);\n            this.player.controlBar.currentTimeDisplay.formattedTime_ = this.player.controlBar.currentTimeDisplay.contentEl().lastChild.textContent = this._formatTime(this.streamCurrentTime, duration, this.displayMilliseconds);\n          }\n\n          break;\n      }\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      var duration = isNaN(this.streamDuration) ? 0 : this.streamDuration;\n      return duration;\n    }\n  }, {\n    key: \"setDuration\",\n    value: function setDuration(duration) {\n      duration = isNaN(duration) ? 0 : duration;\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.surfer.setDuration(duration);\n          break;\n\n        case _recordMode.VIDEO_ONLY:\n        case _recordMode.AUDIO_VIDEO:\n        case _recordMode.AUDIO_SCREEN:\n        case _recordMode.ANIMATION:\n        case _recordMode.SCREEN_ONLY:\n          if (this.player.controlBar.durationDisplay && this.player.controlBar.durationDisplay.contentEl() && this.player.controlBar.durationDisplay.contentEl().lastChild) {\n            this.player.controlBar.durationDisplay.formattedTime_ = this.player.controlBar.durationDisplay.contentEl().lastChild.textContent = this._formatTime(duration, duration, this.displayMilliseconds);\n          }\n\n          break;\n      }\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.surfer.load(url);\n          break;\n\n        case _recordMode.IMAGE_ONLY:\n        case _recordMode.VIDEO_ONLY:\n        case _recordMode.AUDIO_VIDEO:\n        case _recordMode.AUDIO_SCREEN:\n        case _recordMode.ANIMATION:\n        case _recordMode.SCREEN_ONLY:\n          if (url instanceof Blob || url instanceof File) {\n            this.mediaElement.srcObject = null;\n            this.mediaElement.src = URL.createObjectURL(url);\n          } else {\n            (0, _browserShim.default)(url, this.mediaElement);\n          }\n\n          break;\n      }\n    }\n  }, {\n    key: \"saveAs\",\n    value: function saveAs(name) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'record';\n\n      if (type === 'record') {\n        if (this.engine && name !== undefined) {\n          this.engine.saveAs(name);\n        }\n      } else if (type === 'convert') {\n        if (this.converter && name !== undefined) {\n          this.converter.saveAs(name);\n        }\n      }\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.player.off(_event.default.READY);\n      this.player.off(_event.default.USERINACTIVE);\n      this.player.off(_event.default.LOADEDMETADATA);\n\n      if (this.engine) {\n        this.engine.dispose();\n        this.engine.destroy();\n        this.engine.off(_event.default.RECORD_COMPLETE, this.engineStopCallback);\n      }\n\n      this.stop();\n      this.stopDevice();\n      this.removeRecording();\n      this.player.clearInterval(this.countDown);\n\n      if (this.getRecordType() === _recordMode.AUDIO_ONLY) {\n        if (this.surfer) {\n          this.surfer.destroy();\n        }\n      } else if (this.getRecordType() === _recordMode.IMAGE_ONLY) {\n        if (this.mediaElement && this.streamVisibleCallback) {\n          this.mediaElement.removeEventListener(_event.default.PLAYING, this.streamVisibleCallback);\n        }\n      }\n\n      this.resetState();\n      (0, _get2.default)((0, _getPrototypeOf2.default)(Record.prototype), \"dispose\", this).call(this);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.player.dispose();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this7 = this;\n\n      if (this.engine) {\n        this.engine.dispose();\n        this.engine.off(_event.default.RECORD_COMPLETE, this.engineStopCallback);\n      }\n\n      this.stop();\n      this.stopDevice();\n      this.player.clearInterval(this.countDown);\n      this.removeRecording();\n      this.loadOptions();\n      this.resetState();\n      this.setDuration(this.maxLength);\n      this.setCurrentTime(0);\n      this.player.reset();\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          if (this.surfer && this.surfer.surfer) {\n            this.surfer.surfer.empty();\n          }\n\n          break;\n\n        case _recordMode.IMAGE_ONLY:\n        case _recordMode.ANIMATION:\n          this.player.recordCanvas.hide();\n          this.player.cameraButton.hide();\n          break;\n      }\n\n      if (this.player.controlBar.playToggle !== undefined) {\n        this.player.controlBar.playToggle.hide();\n      }\n\n      this.player.deviceButton.show();\n      this.player.recordToggle.hide();\n      this.player.one(_event.default.LOADEDMETADATA, function () {\n        _this7.setDuration(_this7.maxLength);\n      });\n    }\n  }, {\n    key: \"resetState\",\n    value: function resetState() {\n      this._recording = false;\n      this._processing = false;\n      this._deviceActive = false;\n      this.devices = [];\n    }\n  }, {\n    key: \"removeRecording\",\n    value: function removeRecording() {\n      if (this.mediaElement && this.mediaElement.src && this.mediaElement.src.startsWith('blob:') === true) {\n        URL.revokeObjectURL(this.mediaElement.src);\n        this.mediaElement.src = '';\n      }\n    }\n  }, {\n    key: \"exportImage\",\n    value: function exportImage() {\n      var format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'image/png';\n      var quality = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      if (this.getRecordType() === _recordMode.AUDIO_ONLY) {\n        return this.surfer.surfer.exportImage(format, quality, 'blob');\n      } else {\n        var recordCanvas = this.player.recordCanvas.el().firstChild;\n        this.drawCanvas(recordCanvas, this.mediaElement);\n        return new Promise(function (resolve) {\n          recordCanvas.toBlob(resolve, format, quality);\n        });\n      }\n    }\n  }, {\n    key: \"muteTracks\",\n    value: function muteTracks(mute) {\n      if ((this.getRecordType() === _recordMode.AUDIO_ONLY || this.getRecordType() === _recordMode.AUDIO_SCREEN || this.getRecordType() === _recordMode.AUDIO_VIDEO) && this.stream.getAudioTracks().length > 0) {\n        this.stream.getAudioTracks()[0].enabled = !mute;\n      }\n\n      if (this.getRecordType() !== _recordMode.AUDIO_ONLY && this.stream.getVideoTracks().length > 0) {\n        this.stream.getVideoTracks()[0].enabled = !mute;\n      }\n    }\n  }, {\n    key: \"getRecordType\",\n    value: function getRecordType() {\n      return (0, _recordMode.getRecorderMode)(this.recordImage, this.recordAudio, this.recordVideo, this.recordAnimation, this.recordScreen);\n    }\n  }, {\n    key: \"convert\",\n    value: function convert() {\n      if (this.converter !== undefined) {\n        this.converter.convert(this.player.recordedData);\n      }\n    }\n  }, {\n    key: \"createSnapshot\",\n    value: function createSnapshot() {\n      var _this8 = this;\n\n      this.captureFrame().then(function (result) {\n        if (_this8.imageOutputType === 'blob') {\n          result.toBlob(function (blob) {\n            _this8.player.recordedData = blob;\n\n            _this8.displaySnapshot();\n          });\n        } else if (_this8.imageOutputType === 'dataURL') {\n          _this8.player.recordedData = result.toDataURL(_this8.imageOutputFormat, _this8.imageOutputQuality);\n\n          _this8.displaySnapshot();\n        }\n      }, this.imageOutputFormat, this.imageOutputQuality);\n    }\n  }, {\n    key: \"displaySnapshot\",\n    value: function displaySnapshot() {\n      this.mediaElement.style.display = 'none';\n      this.player.recordCanvas.show();\n      this.stop();\n    }\n  }, {\n    key: \"retrySnapshot\",\n    value: function retrySnapshot() {\n      this._processing = false;\n      this.player.recordCanvas.hide();\n      this.player.el().firstChild.style.display = 'block';\n    }\n  }, {\n    key: \"captureFrame\",\n    value: function captureFrame() {\n      var _this9 = this;\n\n      var detected = (0, _detectBrowser.detectBrowser)();\n      var recordCanvas = this.player.recordCanvas.el().firstChild;\n      var track = this.stream.getVideoTracks()[0];\n      var settings = track.getSettings();\n      recordCanvas.width = settings.width;\n      recordCanvas.height = settings.height;\n      return new Promise(function (resolve, reject) {\n        var cameraAspectRatio = settings.width / settings.height;\n\n        var playerAspectRatio = _this9.player.width() / _this9.player.height();\n\n        var imagePreviewHeight = 0;\n        var imagePreviewWidth = 0;\n        var imageXPosition = 0;\n        var imageYPosition = 0;\n\n        if (cameraAspectRatio >= playerAspectRatio) {\n          imagePreviewHeight = settings.height * (_this9.player.width() / settings.width);\n          imagePreviewWidth = _this9.player.width();\n          imageYPosition = _this9.player.height() / 2 - imagePreviewHeight / 2;\n        } else {\n          imagePreviewHeight = _this9.player.height();\n          imagePreviewWidth = settings.width * (_this9.player.height() / settings.height);\n          imageXPosition = _this9.player.width() / 2 - imagePreviewWidth / 2;\n        }\n\n        if (detected.browser === 'chrome' && detected.version >= 60 && (typeof ImageCapture === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(ImageCapture)) === (typeof Function === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(Function))) {\n          try {\n            var imageCapture = new ImageCapture(track);\n            imageCapture.grabFrame().then(function (imageBitmap) {\n              _this9.drawCanvas(recordCanvas, imageBitmap, imagePreviewWidth, imagePreviewHeight, imageXPosition, imageYPosition);\n\n              resolve(recordCanvas);\n            }).catch(function (error) {});\n          } catch (err) {}\n        }\n\n        _this9.drawCanvas(recordCanvas, _this9.mediaElement, imagePreviewWidth, imagePreviewHeight, imageXPosition, imageYPosition);\n\n        resolve(recordCanvas);\n      });\n    }\n  }, {\n    key: \"drawCanvas\",\n    value: function drawCanvas(canvas, element, width, height) {\n      var x = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n      var y = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n\n      if (width === undefined) {\n        width = canvas.width;\n      }\n\n      if (height === undefined) {\n        height = canvas.height;\n      }\n\n      canvas.getContext('2d').drawImage(element, x, y, width, height);\n    }\n  }, {\n    key: \"startVideoPreview\",\n    value: function startVideoPreview() {\n      this.off(_event.default.TIMEUPDATE);\n      this.off(_event.default.DURATIONCHANGE);\n      this.off(_event.default.LOADEDMETADATA);\n      this.off(_event.default.PLAY);\n      this.mediaElement.muted = true;\n      this.displayVolumeControl(false);\n      this.removeRecording();\n      this.load(this.stream);\n      this.mediaElement.play();\n    }\n  }, {\n    key: \"showAnimation\",\n    value: function showAnimation() {\n      var animationDisplay = this.player.animationDisplay.el().firstChild;\n      animationDisplay.width = this.player.width();\n      animationDisplay.height = this.player.height();\n      this.player.recordCanvas.hide();\n      (0, _browserShim.default)(this.player.recordedData, animationDisplay);\n      this.player.animationDisplay.show();\n    }\n  }, {\n    key: \"hideAnimation\",\n    value: function hideAnimation() {\n      this.player.recordCanvas.show();\n      this.player.animationDisplay.hide();\n    }\n  }, {\n    key: \"playbackTimeUpdate\",\n    value: function playbackTimeUpdate() {\n      this.setCurrentTime(this.player.currentTime(), this.streamDuration);\n    }\n  }, {\n    key: \"enumerateDevices\",\n    value: function enumerateDevices() {\n      var _this10 = this;\n\n      if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {\n        this.player.enumerateErrorCode = 'enumerateDevices() not supported.';\n        this.player.trigger(_event.default.ENUMERATE_ERROR);\n        return;\n      }\n\n      navigator.mediaDevices.enumerateDevices(this).then(function (devices) {\n        _this10.devices = [];\n        devices.forEach(function (device) {\n          _this10.devices.push(device);\n        });\n\n        _this10.player.trigger(_event.default.ENUMERATE_READY);\n      }).catch(function (err) {\n        _this10.player.enumerateErrorCode = err;\n\n        _this10.player.trigger(_event.default.ENUMERATE_ERROR);\n      });\n    }\n  }, {\n    key: \"setVideoInput\",\n    value: function setVideoInput(deviceId) {\n      if (this.recordVideo === Object(this.recordVideo)) {\n        this.recordVideo.deviceId = {\n          exact: deviceId\n        };\n      } else if (this.recordVideo === true) {\n        this.recordVideo = {\n          deviceId: {\n            exact: deviceId\n          }\n        };\n      }\n\n      this.stopDevice();\n      this.getDevice();\n    }\n  }, {\n    key: \"setAudioInput\",\n    value: function setAudioInput(deviceId) {\n      if (this.recordAudio === Object(this.recordAudio)) {\n        this.recordAudio.deviceId = {\n          exact: deviceId\n        };\n      } else if (this.recordAudio === true) {\n        this.recordAudio = {\n          deviceId: {\n            exact: deviceId\n          }\n        };\n      }\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.surfer.surfer.microphone.constraints = {\n            video: false,\n            audio: this.recordAudio\n          };\n          break;\n      }\n\n      this.stopDevice();\n      this.getDevice();\n    }\n  }, {\n    key: \"setAudioOutput\",\n    value: function setAudioOutput(deviceId) {\n      var _this11 = this;\n\n      var errorMessage;\n\n      switch (this.getRecordType()) {\n        case _recordMode.AUDIO_ONLY:\n          this.surfer.surfer.setSinkId(deviceId).then(function (result) {\n            _this11.player.trigger(_event.default.AUDIO_OUTPUT_READY);\n\n            return;\n          }).catch(function (err) {\n            errorMessage = err;\n          });\n          break;\n\n        default:\n          var element = player.tech_.el_;\n\n          if (deviceId) {\n            if (typeof element.sinkId !== 'undefined') {\n              element.setSinkId(deviceId).then(function (result) {\n                _this11.player.trigger(_event.default.AUDIO_OUTPUT_READY);\n\n                return;\n              }).catch(function (err) {\n                errorMessage = err;\n              });\n            } else {\n              errorMessage = 'Browser does not support audio output device selection.';\n            }\n          } else {\n            errorMessage = \"Invalid deviceId: \".concat(deviceId);\n          }\n\n          break;\n      }\n\n      this.player.trigger(_event.default.ERROR, errorMessage);\n    }\n  }, {\n    key: \"setFormatTime\",\n    value: function setFormatTime(customImplementation) {\n      this._formatTime = customImplementation;\n\n      _video.default.setFormatTime(this._formatTime);\n\n      if (this.surfer) {\n        this.surfer.setFormatTime(this._formatTime);\n      }\n    }\n  }, {\n    key: \"displayVolumeControl\",\n    value: function displayVolumeControl(display) {\n      if (this.player.controlBar.volumePanel !== undefined) {\n        if (display === true) {\n          display = 'flex';\n        } else {\n          display = 'none';\n        }\n\n        this.player.controlBar.volumePanel.el().style.display = display;\n      }\n    }\n  }, {\n    key: \"onStreamVisible\",\n    value: function onStreamVisible(event) {\n      this.mediaElement.removeEventListener(_event.default.PLAYING, this.streamVisibleCallback);\n      this.player.cameraButton.onStop();\n      this.player.cameraButton.show();\n    }\n  }, {\n    key: \"onEnterPiP\",\n    value: function onEnterPiP(event) {\n      this.player.trigger(_event.default.ENTER_PIP, event);\n    }\n  }, {\n    key: \"onLeavePiP\",\n    value: function onLeavePiP(event) {\n      this.player.trigger(_event.default.LEAVE_PIP);\n    }\n  }]);\n  return Record;\n}(Plugin);\n\nexports.Record = Record;\nRecord.VERSION = \"4.5.0\";\n_video.default.Record = Record;\n\nif (_video.default.getPlugin('record') === undefined) {\n  _video.default.registerPlugin('record', Record);\n}\n\nfunction register(_videojs) {\n  var instance = _videojs || _video.default || window.videojs;\n  instance.Record = Record;\n\n  if (instance.getPlugin('record') === undefined) {\n    instance.registerPlugin('record', Record);\n  }\n}\n})();\n\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mention\":\"MentionsStyles_mention__249_h\",\"mentionSuggestions\":\"MentionsStyles_mentionSuggestions__3S9aW\",\"mentionSuggestionsEntryContainer\":\"MentionsStyles_mentionSuggestionsEntryContainer__Y9gv8\",\"mentionSuggestionsEntryContainerLeft\":\"MentionsStyles_mentionSuggestionsEntryContainerLeft__3rMj5\",\"mentionSuggestionsEntryContainerRight\":\"MentionsStyles_mentionSuggestionsEntryContainerRight__MmoN9\",\"mentionSuggestionsEntry\":\"MentionsStyles_mentionSuggestionsEntry__1z7fY\",\"mentionSuggestionsEntryFocused\":\"MentionsStyles_mentionSuggestionsEntryFocused__1YE7y MentionsStyles_mentionSuggestionsEntry__1z7fY\",\"mentionSuggestionsEntryText\":\"MentionsStyles_mentionSuggestionsEntryText__2oxB1\",\"mentionSuggestionsEntryTitle\":\"MentionsStyles_mentionSuggestionsEntryTitle__3Tgfe\",\"mentionSuggestionsEntryAvatar\":\"MentionsStyles_mentionSuggestionsEntryAvatar__181OM\"};","/*!\n * videojs-wavesurfer\n * @version 3.8.0\n * @see https://github.com/collab-project/videojs-wavesurfer\n * @copyright 2014-2021 Collab\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"video.js\"), require(\"wavesurfer.js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"VideojsWavesurfer\", [\"video.js\", \"wavesurfer.js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VideojsWavesurfer\"] = factory(require(\"video.js\"), require(\"wavesurfer.js\"));\n\telse\n\t\troot[\"VideojsWavesurfer\"] = factory(root[\"videojs\"], root[\"WaveSurfer\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE_video_js__, __WEBPACK_EXTERNAL_MODULE_wavesurfer_js__) {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./node_modules/add-zero/index.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/add-zero/index.js ***!\n  \\****************************************/\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_RESULT__;(function(exports) {\n\n  'use strict';\n\n  function addZero(value, digits) {\n    digits = digits || 2;\n\n    var isNegative = Number(value) < 0;\n    var buffer = value.toString();\n    var size = 0;\n\n    // Strip minus sign if number is negative\n    if(isNegative) {\n      buffer = buffer.slice(1);\n    }\n\n    size = digits - buffer.length + 1;\n    buffer = new Array(size).join('0').concat(buffer);\n\n    // Adds back minus sign if needed\n    return (isNegative ? '-' : '') + buffer;\n  }\n\n  if(true) {\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return addZero; }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n})(this);\n\n\n/***/ }),\n\n/***/ \"./src/js/defaults.js\":\n/*!****************************!*\\\n  !*** ./src/js/defaults.js ***!\n  \\****************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\nvar pluginDefaultOptions = {\n  debug: false,\n  displayMilliseconds: true\n};\nvar _default = pluginDefaultOptions;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/event.js\":\n/*!*************************!*\\\n  !*** ./src/js/event.js ***!\n  \\*************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Event = function Event() {\n  _classCallCheck(this, Event);\n};\n\nEvent.READY = 'ready';\nEvent.ERROR = 'error';\nEvent.VOLUMECHANGE = 'volumechange';\nEvent.FULLSCREENCHANGE = 'fullscreenchange';\nEvent.TIMEUPDATE = 'timeupdate';\nEvent.ENDED = 'ended';\nEvent.PAUSE = 'pause';\nEvent.FINISH = 'finish';\nEvent.SEEK = 'seek';\nEvent.REDRAW = 'redraw';\nEvent.AUDIOPROCESS = 'audioprocess';\nEvent.DEVICE_READY = 'deviceReady';\nEvent.DEVICE_ERROR = 'deviceError';\nEvent.AUDIO_OUTPUT_READY = 'audioOutputReady';\nEvent.WAVE_READY = 'waveReady';\nEvent.PLAYBACK_FINISH = 'playbackFinish';\nEvent.ABORT = 'abort';\nEvent.RESIZE = 'resize';\nObject.freeze(Event);\nvar _default = Event;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/middleware.js\":\n/*!******************************!*\\\n  !*** ./src/js/middleware.js ***!\n  \\******************************/\n/***/ ((module, exports) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\nvar WavesurferMiddleware = {\n  setSource: function setSource(srcObj, next) {\n    if (this.player.usingPlugin('wavesurfer')) {\n      var backend = this.player.wavesurfer().surfer.params.backend;\n      var src = srcObj.src;\n      var peaks = srcObj.peaks;\n\n      switch (backend) {\n        case 'WebAudio':\n          this.player.wavesurfer().load(src);\n          break;\n\n        default:\n          next(null, srcObj);\n          var element = this.player.tech_.el();\n\n          if (peaks === undefined) {\n            this.player.wavesurfer().load(element);\n          } else {\n            this.player.wavesurfer().load(element, peaks);\n          }\n\n          break;\n      }\n    } else {\n      next(null, srcObj);\n    }\n  }\n};\nvar _default = WavesurferMiddleware;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/utils/format-time.js\":\n/*!*************************************!*\\\n  !*** ./src/js/utils/format-time.js ***!\n  \\*************************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _addZero = _interopRequireDefault(__webpack_require__(/*! add-zero */ \"./node_modules/add-zero/index.js\"));\n\nvar _parseMs = _interopRequireDefault(__webpack_require__(/*! parse-ms */ \"./node_modules/parse-ms/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar formatTime = function formatTime(seconds, guide) {\n  var displayMilliseconds = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  seconds = seconds < 0 ? 0 : seconds;\n\n  if (isNaN(seconds) || seconds === Infinity) {\n    seconds = 0;\n  }\n\n  var inputTime = (0, _parseMs.default)(seconds * 1000);\n  var guideTime = inputTime;\n\n  if (guide !== undefined) {\n    guideTime = (0, _parseMs.default)(guide * 1000);\n  }\n\n  var hr = (0, _addZero.default)(inputTime.hours);\n  var min = (0, _addZero.default)(inputTime.minutes);\n  var sec = (0, _addZero.default)(inputTime.seconds);\n  var ms = (0, _addZero.default)(inputTime.milliseconds, 3);\n\n  if (inputTime.days > 0 || guideTime.days > 0) {\n    var day = (0, _addZero.default)(inputTime.days);\n    return \"\".concat(day, \":\").concat(hr, \":\").concat(min, \":\").concat(sec);\n  }\n\n  if (inputTime.hours > 0 || guideTime.hours > 0) {\n    return \"\".concat(hr, \":\").concat(min, \":\").concat(sec);\n  }\n\n  if (displayMilliseconds) {\n    return \"\".concat(min, \":\").concat(sec, \":\").concat(ms);\n  }\n\n  return \"\".concat(min, \":\").concat(sec);\n};\n\nvar _default = formatTime;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./src/js/utils/log.js\":\n/*!*****************************!*\\\n  !*** ./src/js/utils/log.js ***!\n  \\*****************************/\n/***/ ((module, exports, __webpack_require__) => {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.default = void 0;\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \"video.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ERROR = 'error';\nvar WARN = 'warn';\n\nvar log = function log(args, logType, debug) {\n  if (debug === true) {\n    if (logType === ERROR) {\n      _video.default.log.error(args);\n    } else if (logType === WARN) {\n      _video.default.log.warn(args);\n    } else {\n      _video.default.log(args);\n    }\n  }\n};\n\nvar _default = log;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n\n/***/ \"./node_modules/global/window.js\":\n/*!***************************************!*\\\n  !*** ./node_modules/global/window.js ***!\n  \\***************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nvar win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof __webpack_require__.g !== \"undefined\") {\n    win = __webpack_require__.g;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n\n\n/***/ }),\n\n/***/ \"video.js\":\n/*!*************************************************************************************************!*\\\n  !*** external {\"commonjs\":\"video.js\",\"commonjs2\":\"video.js\",\"amd\":\"video.js\",\"root\":\"videojs\"} ***!\n  \\*************************************************************************************************/\n/***/ ((module) => {\n\n\"use strict\";\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_video_js__;\n\n/***/ }),\n\n/***/ \"wavesurfer.js\":\n/*!*******************************************************************************************************************!*\\\n  !*** external {\"commonjs\":\"wavesurfer.js\",\"commonjs2\":\"wavesurfer.js\",\"amd\":\"wavesurfer.js\",\"root\":\"WaveSurfer\"} ***!\n  \\*******************************************************************************************************************/\n/***/ ((module) => {\n\n\"use strict\";\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_wavesurfer_js__;\n\n/***/ }),\n\n/***/ \"./node_modules/parse-ms/index.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/parse-ms/index.js ***!\n  \\****************************************/\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ parseMilliseconds)\n/* harmony export */ });\nfunction parseMilliseconds(milliseconds) {\n\tif (typeof milliseconds !== 'number') {\n\t\tthrow new TypeError('Expected a number');\n\t}\n\n\tconst roundTowardsZero = milliseconds > 0 ? Math.floor : Math.ceil;\n\n\treturn {\n\t\tdays: roundTowardsZero(milliseconds / 86400000),\n\t\thours: roundTowardsZero(milliseconds / 3600000) % 24,\n\t\tminutes: roundTowardsZero(milliseconds / 60000) % 60,\n\t\tseconds: roundTowardsZero(milliseconds / 1000) % 60,\n\t\tmilliseconds: roundTowardsZero(milliseconds) % 1000,\n\t\tmicroseconds: roundTowardsZero(milliseconds * 1000) % 1000,\n\t\tnanoseconds: roundTowardsZero(milliseconds * 1e6) % 1000\n\t};\n}\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/global */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.g = (function() {\n/******/ \t\t\tif (typeof globalThis === 'object') return globalThis;\n/******/ \t\t\ttry {\n/******/ \t\t\t\treturn this || new Function('return this')();\n/******/ \t\t\t} catch (e) {\n/******/ \t\t\t\tif (typeof window === 'object') return window;\n/******/ \t\t\t}\n/******/ \t\t})();\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be in strict mode.\n(() => {\n\"use strict\";\nvar exports = __webpack_exports__;\n/*!**************************************!*\\\n  !*** ./src/js/videojs.wavesurfer.js ***!\n  \\**************************************/\n\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.register = register;\nexports.Wavesurfer = void 0;\n\nvar _event = _interopRequireDefault(__webpack_require__(/*! ./event */ \"./src/js/event.js\"));\n\nvar _log2 = _interopRequireDefault(__webpack_require__(/*! ./utils/log */ \"./src/js/utils/log.js\"));\n\nvar _formatTime = _interopRequireDefault(__webpack_require__(/*! ./utils/format-time */ \"./src/js/utils/format-time.js\"));\n\nvar _defaults = _interopRequireDefault(__webpack_require__(/*! ./defaults */ \"./src/js/defaults.js\"));\n\nvar _middleware = _interopRequireDefault(__webpack_require__(/*! ./middleware */ \"./src/js/middleware.js\"));\n\nvar _window = _interopRequireDefault(__webpack_require__(/*! global/window */ \"./node_modules/global/window.js\"));\n\nvar _video = _interopRequireDefault(__webpack_require__(/*! video.js */ \"video.js\"));\n\nvar _wavesurfer = _interopRequireDefault(__webpack_require__(/*! wavesurfer.js */ \"wavesurfer.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar Plugin = _video.default.getPlugin('plugin');\n\nvar wavesurferPluginName = 'wavesurfer';\nvar wavesurferClassName = 'vjs-wavedisplay';\nvar wavesurferStyleName = 'vjs-wavesurfer';\nvar WEBAUDIO = 'WebAudio';\nvar MEDIAELEMENT = 'MediaElement';\nvar MEDIAELEMENT_WEBAUDIO = 'MediaElementWebAudio';\n\nvar Wavesurfer = function (_Plugin) {\n  _inherits(Wavesurfer, _Plugin);\n\n  var _super = _createSuper(Wavesurfer);\n\n  function Wavesurfer(player, options) {\n    var _this;\n\n    _classCallCheck(this, Wavesurfer);\n\n    _this = _super.call(this, player, options);\n    player.addClass(wavesurferStyleName);\n    options = _video.default.mergeOptions(_defaults.default, options);\n    _this.waveReady = false;\n    _this.waveFinished = false;\n    _this.liveMode = false;\n    _this.backend = null;\n    _this.debug = options.debug.toString() === 'true';\n    _this.textTracksEnabled = _this.player.options_.tracks.length > 0;\n    _this.displayMilliseconds = options.displayMilliseconds;\n\n    if (options.formatTime && typeof options.formatTime === 'function') {\n      _this.setFormatTime(options.formatTime);\n    } else {\n      _this.setFormatTime(function (seconds, guide) {\n        return (0, _formatTime.default)(seconds, guide, _this.displayMilliseconds);\n      });\n    }\n\n    _this.player.one(_event.default.READY, _this.initialize.bind(_assertThisInitialized(_this)));\n\n    return _this;\n  }\n\n  _createClass(Wavesurfer, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n\n      if (this.player.bigPlayButton !== undefined) {\n        this.player.bigPlayButton.hide();\n      }\n\n      var mergedOptions = this.parseOptions(this.player.options_.plugins.wavesurfer);\n\n      if (this.player.options_.controls === true) {\n        this.player.controlBar.show();\n        this.player.controlBar.el_.style.display = 'flex';\n\n        if (this.backend === WEBAUDIO && this.player.controlBar.progressControl !== undefined) {\n          this.player.controlBar.progressControl.hide();\n        }\n\n        if (this.player.controlBar.pictureInPictureToggle !== undefined) {\n          this.player.controlBar.pictureInPictureToggle.hide();\n        }\n\n        var uiElements = ['currentTimeDisplay', 'timeDivider', 'durationDisplay'];\n        uiElements.forEach(function (element) {\n          element = _this2.player.controlBar[element];\n\n          if (element !== undefined) {\n            element.el_.style.display = 'block';\n            element.show();\n          }\n        });\n\n        if (this.player.controlBar.remainingTimeDisplay !== undefined) {\n          this.player.controlBar.remainingTimeDisplay.hide();\n        }\n\n        if (this.backend === WEBAUDIO && this.player.controlBar.playToggle !== undefined) {\n          this.player.controlBar.playToggle.on(['tap', 'click'], this.onPlayToggle.bind(this));\n          this.player.controlBar.playToggle.hide();\n        }\n      }\n\n      this.surfer = _wavesurfer.default.create(mergedOptions);\n      this.surfer.on(_event.default.ERROR, this.onWaveError.bind(this));\n      this.surfer.on(_event.default.FINISH, this.onWaveFinish.bind(this));\n      this.backend = this.surfer.params.backend;\n      this.log('Using wavesurfer.js ' + this.backend + ' backend.');\n\n      if ('microphone' in this.player.wavesurfer().surfer.getActivePlugins()) {\n        this.liveMode = true;\n        this.waveReady = true;\n        this.log('wavesurfer.js microphone plugin enabled.');\n        this.player.controlBar.playToggle.show();\n        this.surfer.microphone.on(_event.default.DEVICE_ERROR, this.onWaveError.bind(this));\n      }\n\n      this.surferReady = this.onWaveReady.bind(this);\n\n      if (this.backend === WEBAUDIO) {\n        this.surferProgress = this.onWaveProgress.bind(this);\n        this.surferSeek = this.onWaveSeek.bind(this);\n\n        if (this.player.muted()) {\n          this.setVolume(0);\n        }\n      }\n\n      if (!this.liveMode) {\n        this.setupPlaybackEvents(true);\n      }\n\n      this.player.on(_event.default.VOLUMECHANGE, this.onVolumeChange.bind(this));\n      this.player.on(_event.default.FULLSCREENCHANGE, this.onScreenChange.bind(this));\n\n      if (this.player.options_.fluid === true) {\n        this.surfer.drawer.wrapper.className = wavesurferClassName;\n      }\n    }\n  }, {\n    key: \"parseOptions\",\n    value: function parseOptions() {\n      var surferOpts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var rect = this.player.el_.getBoundingClientRect();\n      this.originalWidth = this.player.options_.width || rect.width;\n      this.originalHeight = this.player.options_.height || rect.height;\n      var controlBarHeight = this.player.controlBar.height();\n\n      if (this.player.options_.controls === true && controlBarHeight === 0) {\n        controlBarHeight = 30;\n      }\n\n      if (surferOpts.container === undefined) {\n        surferOpts.container = this.player.el_;\n      }\n\n      if (surferOpts.waveformHeight === undefined) {\n        var playerHeight = rect.height;\n        surferOpts.height = playerHeight - controlBarHeight;\n      } else {\n        surferOpts.height = surferOpts.waveformHeight;\n      }\n\n      if (surferOpts.splitChannels && surferOpts.splitChannels === true) {\n        surferOpts.height /= 2;\n      }\n\n      if ('backend' in surferOpts) {\n        this.backend = surferOpts.backend;\n      } else {\n        surferOpts.backend = this.backend = MEDIAELEMENT;\n      }\n\n      return surferOpts;\n    }\n  }, {\n    key: \"setupPlaybackEvents\",\n    value: function setupPlaybackEvents(enable) {\n      if (enable === false) {\n        this.surfer.un(_event.default.READY, this.surferReady);\n\n        if (this.backend === WEBAUDIO) {\n          this.surfer.un(_event.default.AUDIOPROCESS, this.surferProgress);\n          this.surfer.un(_event.default.SEEK, this.surferSeek);\n        }\n      } else if (enable === true) {\n        this.surfer.on(_event.default.READY, this.surferReady);\n\n        if (this.backend === WEBAUDIO) {\n          this.surfer.on(_event.default.AUDIOPROCESS, this.surferProgress);\n          this.surfer.on(_event.default.SEEK, this.surferSeek);\n        }\n      }\n    }\n  }, {\n    key: \"load\",\n    value: function load(url, peaks) {\n      if (url instanceof Blob || url instanceof File) {\n        this.log('Loading object: ' + JSON.stringify(url));\n        this.surfer.loadBlob(url);\n      } else {\n        if (peaks !== undefined) {\n          this.loadPeaks(url, peaks);\n        } else {\n          if (typeof url === 'string') {\n            this.log('Loading URL: ' + url);\n          } else {\n            this.log('Loading element: ' + url);\n          }\n\n          this.surfer.load(url);\n        }\n      }\n    }\n  }, {\n    key: \"loadPeaks\",\n    value: function loadPeaks(url, peaks) {\n      var _this3 = this;\n\n      if (Array.isArray(peaks)) {\n        this.log('Loading URL with array of peaks: ' + url);\n        this.surfer.load(url, peaks);\n      } else {\n        var requestOptions = {\n          url: peaks,\n          responseType: 'json'\n        };\n\n        if (this.player.options_.plugins.wavesurfer.xhr !== undefined) {\n          requestOptions.xhr = this.player.options_.plugins.wavesurfer.xhr;\n        }\n\n        var request = _wavesurfer.default.util.fetchFile(requestOptions);\n\n        request.once('success', function (data) {\n          _this3.log('Loaded Peak Data URL: ' + peaks);\n\n          if (data && data.data) {\n            _this3.surfer.load(url, data.data);\n          } else {\n            _this3.player.trigger(_event.default.ERROR, 'Could not load peaks data from ' + peaks);\n\n            _this3.log(err, 'error');\n          }\n        });\n        request.once('error', function (e) {\n          _this3.player.trigger(_event.default.ERROR, 'Unable to retrieve peak data from ' + peaks + '. Status code: ' + request.response.status);\n        });\n      }\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      if (this.player.controlBar.playToggle !== undefined && this.player.controlBar.playToggle.contentEl()) {\n        this.player.controlBar.playToggle.handlePlay();\n      }\n\n      if (this.liveMode) {\n        if (!this.surfer.microphone.active) {\n          this.log('Start microphone');\n          this.surfer.microphone.start();\n        } else {\n          var paused = !this.surfer.microphone.paused;\n\n          if (paused) {\n            this.pause();\n          } else {\n            this.log('Resume microphone');\n            this.surfer.microphone.play();\n          }\n        }\n      } else {\n        this.log('Start playback');\n        this.player.play();\n        this.surfer.play();\n      }\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      if (this.player.controlBar.playToggle !== undefined && this.player.controlBar.playToggle.contentEl()) {\n        this.player.controlBar.playToggle.handlePause();\n      }\n\n      if (this.liveMode) {\n        this.log('Pause microphone');\n        this.surfer.microphone.pause();\n      } else {\n        this.log('Pause playback');\n\n        if (!this.waveFinished) {\n          this.surfer.pause();\n        } else {\n          this.waveFinished = false;\n        }\n\n        this.setCurrentTime();\n      }\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (this.surfer) {\n        if (this.liveMode && this.surfer.microphone) {\n          this.surfer.microphone.destroy();\n          this.log('Destroyed microphone plugin');\n        }\n\n        this.surfer.destroy();\n      }\n\n      this.log('Destroyed plugin');\n    }\n  }, {\n    key: \"isDestroyed\",\n    value: function isDestroyed() {\n      return this.player && this.player.children() === null;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.player.dispose();\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(volume) {\n      if (volume !== undefined) {\n        this.log('Changing volume to: ' + volume);\n        this.player.volume(volume);\n      }\n    }\n  }, {\n    key: \"exportImage\",\n    value: function exportImage(format, quality) {\n      var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'blob';\n      return this.surfer.exportImage(format, quality, type);\n    }\n  }, {\n    key: \"setAudioOutput\",\n    value: function setAudioOutput(deviceId) {\n      var _this4 = this;\n\n      if (deviceId) {\n        this.surfer.setSinkId(deviceId).then(function (result) {\n          _this4.player.trigger(_event.default.AUDIO_OUTPUT_READY);\n        }).catch(function (err) {\n          _this4.player.trigger(_event.default.ERROR, err);\n\n          _this4.log(err, 'error');\n        });\n      }\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      var currentTime = this.surfer.getCurrentTime();\n      currentTime = isNaN(currentTime) ? 0 : currentTime;\n      return currentTime;\n    }\n  }, {\n    key: \"setCurrentTime\",\n    value: function setCurrentTime(currentTime, duration) {\n      if (currentTime === undefined) {\n        currentTime = this.surfer.getCurrentTime();\n      }\n\n      if (duration === undefined) {\n        duration = this.surfer.getDuration();\n      }\n\n      currentTime = isNaN(currentTime) ? 0 : currentTime;\n      duration = isNaN(duration) ? 0 : duration;\n\n      if (this.player.controlBar.currentTimeDisplay && this.player.controlBar.currentTimeDisplay.contentEl() && this.player.controlBar.currentTimeDisplay.contentEl().lastChild) {\n        var time = Math.min(currentTime, duration);\n        this.player.controlBar.currentTimeDisplay.formattedTime_ = this.player.controlBar.currentTimeDisplay.contentEl().lastChild.textContent = this._formatTime(time, duration, this.displayMilliseconds);\n      }\n\n      if (this.textTracksEnabled && this.player.tech_ && this.player.tech_.el_) {\n        this.player.tech_.setCurrentTime(currentTime);\n      }\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      var duration = this.surfer.getDuration();\n      duration = isNaN(duration) ? 0 : duration;\n      return duration;\n    }\n  }, {\n    key: \"setDuration\",\n    value: function setDuration(duration) {\n      if (duration === undefined) {\n        duration = this.surfer.getDuration();\n      }\n\n      duration = isNaN(duration) ? 0 : duration;\n\n      if (this.player.controlBar.durationDisplay && this.player.controlBar.durationDisplay.contentEl() && this.player.controlBar.durationDisplay.contentEl().lastChild) {\n        this.player.controlBar.durationDisplay.formattedTime_ = this.player.controlBar.durationDisplay.contentEl().lastChild.textContent = this._formatTime(duration, duration, this.displayMilliseconds);\n      }\n    }\n  }, {\n    key: \"onWaveReady\",\n    value: function onWaveReady() {\n      var _this5 = this;\n\n      this.waveReady = true;\n      this.waveFinished = false;\n      this.liveMode = false;\n      this.log('Waveform is ready');\n      this.player.trigger(_event.default.WAVE_READY);\n\n      if (this.backend === WEBAUDIO) {\n        this.setCurrentTime();\n        this.setDuration();\n\n        if (this.player.controlBar.playToggle !== undefined && this.player.controlBar.playToggle.contentEl()) {\n          this.player.controlBar.playToggle.show();\n        }\n      }\n\n      if (this.player.loadingSpinner.contentEl()) {\n        this.player.loadingSpinner.hide();\n      }\n\n      if (this.player.options_.autoplay === true) {\n        this.setVolume(0);\n\n        if (this.backend === WEBAUDIO) {\n          this.play();\n        } else {\n          this.player.play().catch(function (e) {\n            _this5.onWaveError(e);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"onWaveFinish\",\n    value: function onWaveFinish() {\n      var _this6 = this;\n\n      this.log('Finished playback');\n      this.player.trigger(_event.default.PLAYBACK_FINISH);\n\n      if (this.player.options_.loop === true) {\n        if (this.backend === WEBAUDIO) {\n          this.surfer.stop();\n          this.play();\n        }\n      } else {\n        this.waveFinished = true;\n\n        if (this.backend === WEBAUDIO) {\n          this.pause();\n          this.player.trigger(_event.default.ENDED);\n          this.surfer.once(_event.default.SEEK, function () {\n            if (_this6.player.controlBar.playToggle !== undefined) {\n              _this6.player.controlBar.playToggle.removeClass('vjs-ended');\n            }\n\n            _this6.player.trigger(_event.default.PAUSE);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"onWaveProgress\",\n    value: function onWaveProgress(time) {\n      this.setCurrentTime();\n    }\n  }, {\n    key: \"onWaveSeek\",\n    value: function onWaveSeek() {\n      this.setCurrentTime();\n    }\n  }, {\n    key: \"onWaveError\",\n    value: function onWaveError(error) {\n      if (error.name && error.name === 'AbortError' || error.name === 'DOMException' && error.message.startsWith('The operation was aborted')) {\n        this.player.trigger(_event.default.ABORT, error);\n      } else {\n        this.player.trigger(_event.default.ERROR, error);\n        this.log(error, 'error');\n      }\n    }\n  }, {\n    key: \"onPlayToggle\",\n    value: function onPlayToggle() {\n      if (this.player.controlBar.playToggle !== undefined && this.player.controlBar.playToggle.hasClass('vjs-ended')) {\n        this.player.controlBar.playToggle.removeClass('vjs-ended');\n      }\n\n      if (this.surfer.isPlaying()) {\n        this.pause();\n      } else {\n        this.play();\n      }\n    }\n  }, {\n    key: \"onVolumeChange\",\n    value: function onVolumeChange() {\n      var volume = this.player.volume();\n\n      if (this.player.muted()) {\n        volume = 0;\n      }\n\n      this.surfer.setVolume(volume);\n    }\n  }, {\n    key: \"onScreenChange\",\n    value: function onScreenChange() {\n      var _this7 = this;\n\n      var fullscreenDelay = this.player.setInterval(function () {\n        var isFullscreen = _this7.player.isFullscreen();\n\n        var newWidth, newHeight;\n\n        if (!isFullscreen) {\n          newWidth = _this7.originalWidth;\n          newHeight = _this7.originalHeight;\n        }\n\n        if (_this7.waveReady) {\n          if (_this7.liveMode && !_this7.surfer.microphone.active) {\n            return;\n          }\n\n          _this7.redrawWaveform(newWidth, newHeight);\n        }\n\n        _this7.player.clearInterval(fullscreenDelay);\n      }, 100);\n    }\n  }, {\n    key: \"redrawWaveform\",\n    value: function redrawWaveform(newWidth, newHeight) {\n      if (!this.isDestroyed()) {\n        if (this.player.el_) {\n          var rect = this.player.el_.getBoundingClientRect();\n\n          if (newWidth === undefined) {\n            newWidth = rect.width;\n          }\n\n          if (newHeight === undefined) {\n            newHeight = rect.height;\n          }\n        }\n\n        this.surfer.drawer.destroy();\n        this.surfer.params.width = newWidth;\n        this.surfer.params.height = newHeight - this.player.controlBar.height();\n        this.surfer.createDrawer();\n        this.surfer.drawer.wrapper.className = wavesurferClassName;\n        this.surfer.drawBuffer();\n        this.surfer.drawer.progress(this.surfer.backend.getPlayedPercents());\n      }\n    }\n  }, {\n    key: \"log\",\n    value: function log(args, logType) {\n      (0, _log2.default)(args, logType, this.debug);\n    }\n  }, {\n    key: \"setFormatTime\",\n    value: function setFormatTime(customImplementation) {\n      this._formatTime = customImplementation;\n\n      _video.default.setFormatTime(this._formatTime);\n    }\n  }]);\n\n  return Wavesurfer;\n}(Plugin);\n\nexports.Wavesurfer = Wavesurfer;\nWavesurfer.VERSION = \"3.8.0\";\n_video.default.Wavesurfer = Wavesurfer;\n\nif (_video.default.getPlugin(wavesurferPluginName) === undefined) {\n  _video.default.registerPlugin(wavesurferPluginName, Wavesurfer);\n}\n\n_video.default.use('*', function (player) {\n  _middleware.default.player = player;\n  return _middleware.default;\n});\n\nfunction register(_videojs) {\n  var instance = _videojs || _video.default || _window.default.videojs;\n  _video.default.Wavesurfer = Wavesurfer;\n\n  if (instance.getPlugin(wavesurferPluginName) === undefined) {\n    instance.registerPlugin(wavesurferPluginName, Wavesurfer);\n  }\n}\n})();\n\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});","import styled from 'styled-components'\nimport { Modal as SModal } from 'semantic-ui-react'\n\nexport const ModalDescription = styled(SModal.Description)`\n  word-break: break-word;\n  width: fit-content;\n`\n","import { Button, Header, Modal as SModal, SemanticCOLORS, SemanticICONS } from 'semantic-ui-react'\nimport React, { ReactNode } from 'react'\nimport { ModalDescription } from './style'\n\ninterface iModal {\n  open: boolean\n  title: string\n  content: string | ReactNode\n  isConfirmation: boolean\n  type?: 'default' | 'error' | 'warning'\n  onClose: (success: boolean) => void\n}\n\nconst ModalBasicLayout: React.FC<iModal> = ({ open, isConfirmation, content, title, type, onClose }) => {\n  const headerProps: Partial<{ icon: SemanticICONS; color: SemanticCOLORS }> = {}\n  const buttonProps: Partial<{ basic: boolean; color: SemanticCOLORS; positive: boolean }> = {}\n\n  if (type === 'default' || !type) {\n    buttonProps.positive = true\n  }\n\n  if (type === 'error') {\n    headerProps.icon = 'exclamation triangle'\n    headerProps.color = 'red'\n    buttonProps.color = 'red'\n    buttonProps.basic = true\n  }\n\n  if (type === 'warning') {\n    headerProps.icon = 'warning circle'\n    headerProps.color = 'orange'\n    buttonProps.color = 'blue'\n    buttonProps.basic = true\n  }\n\n  return (\n    <SModal open={open} size=\"tiny\">\n      <Header content={title} {...headerProps} />\n      <SModal.Content image>\n        <ModalDescription>{content}</ModalDescription>\n      </SModal.Content>\n      <SModal.Actions>\n        {!isConfirmation && (\n          <Button onClick={() => onClose && onClose(false)} {...buttonProps}>\n            Ok\n          </Button>\n        )}\n        {isConfirmation && (\n          <>\n            <Button onClick={() => onClose && onClose(false)} basic>\n              Cancel\n            </Button>\n            <Button onClick={() => onClose && onClose(true)} {...buttonProps}>\n              Confirm\n            </Button>\n          </>\n        )}\n      </SModal.Actions>\n    </SModal>\n  )\n}\n\nexport default ModalBasicLayout\n","import { atom } from 'recoil'\nimport { ReactNode } from 'react'\n\ninterface iBasicModalState {\n  open: boolean\n  title: string\n  content: string | ReactNode\n  isConfirmation?: boolean\n  type?: 'default' | 'error' | 'warning'\n  onClose?: (isSuccess: boolean) => void\n}\n\nexport const basicModalState = atom<iBasicModalState>({\n  key: 'basicModalState',\n  default: {\n    open: false,\n    title: '',\n    content: '',\n    type: 'default'\n  }\n})\n","import React from 'react'\nimport { useRecoilState } from 'recoil'\nimport Modal from '../ModalBasicLayout'\n\nimport { basicModalState } from './state'\n\nconst BasicModal: React.FC = () => {\n  const [{ open, content, title, type, onClose, isConfirmation }, setOpen] = useRecoilState(basicModalState)\n\n  const handleClose = (isSuccess: boolean) => {\n    if (onClose) onClose(isSuccess)\n    setOpen({\n      open: false,\n      title: '',\n      content: '',\n      type: 'default'\n    })\n  }\n\n  return (\n    <Modal\n      open={open}\n      content={content}\n      title={title}\n      type={type}\n      onClose={handleClose}\n      isConfirmation={isConfirmation || false}\n    />\n  )\n}\n\nexport default BasicModal\n","import { atom } from 'recoil'\nimport { ReactNode } from 'react'\nimport { FormikValues } from 'formik'\n\ninterface iFormModalState {\n  open: boolean\n  title: string\n  content: string | ReactNode\n  type?: 'default' | 'error' | 'warning'\n  isConfirmation?: boolean\n  onClose?: (isSuccess: boolean) => void\n  initialValues: FormikValues\n  validationSchema: unknown\n  onSubmit: (values: FormikValues) => void\n}\n\nexport const formModalState = atom<iFormModalState>({\n  key: 'formModalState',\n  default: {\n    open: false,\n    title: '',\n    content: '',\n    type: 'default',\n    initialValues: {},\n    validationSchema: '',\n    onSubmit: () => undefined\n  }\n})\n","import React from 'react'\nimport { Formik, FormikValues } from 'formik'\nimport { useRecoilState } from 'recoil'\nimport { formModalState } from './state'\nimport Modal from '../ModalBasicLayout'\n\nconst FormModal: React.FC = () => {\n  const [{ open, content, title, type, onClose, initialValues, validationSchema, onSubmit, isConfirmation }, setOpen] =\n    useRecoilState(formModalState)\n\n  const close = (isSuccess: boolean) => {\n    if (onClose) onClose(isSuccess)\n    setOpen({\n      open: false,\n      title: '',\n      content: '',\n      type: 'default',\n      initialValues: {},\n      validationSchema: '',\n      onSubmit: () => undefined\n    })\n  }\n\n  const submit = (values: FormikValues) => {\n    onSubmit(values)\n  }\n\n  return (\n    <Formik initialValues={initialValues} validationSchema={validationSchema} onSubmit={submit}>\n      {({ submitForm }) => {\n        const handleClose = async (isSuccess: boolean) => {\n          if (isSuccess) await submitForm()\n          close(isSuccess)\n        }\n        return (\n          <Modal\n            open={open}\n            content={content}\n            title={title}\n            type={type}\n            onClose={handleClose}\n            isConfirmation={!!isConfirmation}\n          />\n        )\n      }}\n    </Formik>\n  )\n}\n\nexport default FormModal\n","import React from 'react'\nimport { BasicModal } from './BasicModal'\nimport { FormModal } from './FormModal'\n\nconst Modals: React.FC = () => {\n  return (\n    <>\n      <BasicModal />\n      <FormModal />\n    </>\n  )\n}\n\nexport default Modals\n","import { selector, atom } from 'recoil'\nimport matchMedia from 'matchmediaquery'\n\nexport interface MediaQueryState {\n  isMobile: boolean\n  isTablet: boolean\n}\n\nexport const mediaQueryState = atom<MediaQueryState>({\n  key: 'mediaQueryState',\n  default: {\n    isMobile: matchMedia('(max-width: 767px)').matches,\n    isTablet: matchMedia('(max-width: 1024px)').matches\n  }\n})\n","import { atom, selector } from 'recoil'\nimport { mediaQueryState } from '@root/states/mediaQueryState'\n\nexport const getIsMobile = selector<boolean>({\n  key: 'getIsMobile',\n  get: ({ get }) => {\n    return !get(mediaQueryState).isMobile\n  }\n})\n\nexport const sidebarState = atom<boolean>({\n  key: 'sidebarState',\n  default: getIsMobile\n})\n","import { atom } from 'recoil'\nimport { UserType } from '@root/types'\n\nexport const userState = atom<UserType | null>({\n  key: 'userState',\n  default: null\n})\n","import styled, { css } from 'styled-components'\n\ninterface iAvatarWrapper {\n  size: 'small' | 'medium' | 'large'\n  borderless: boolean\n  image?: string\n}\n\nexport const AvatarWrapper = styled.div<iAvatarWrapper>`\n  border-radius: 10em;\n  ${({ image }) =>\n    image &&\n    css`\n      background-image: url(${image});\n      background-position: center;\n      background-size: cover;\n    `}\n  ${({ borderless }) =>\n    !borderless &&\n    css`\n      border: 1px solid #000000;\n    `}\n  ${({ size }) => {\n    if (size === 'small') {\n      return css`\n        height: 24px;\n        width: 24px;\n        font-size: 0.8em;\n      `\n    }\n    if (size === 'large') {\n      return css`\n        height: 52px;\n        width: 52px;\n      `\n    }\n    return css`\n      height: 36px;\n      width: 36px;\n    `\n  }}\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  & > img {\n    height: 100%;\n    width: 100%;\n  }\n`\n","import React from 'react'\nimport { AvatarWrapper } from './style'\n\nconst getInitials = (name: string): string => {\n  const splitedName = name.split(' ')\n  if (splitedName.length > 1) {\n    return `${splitedName[0].charAt(0).toUpperCase()}${splitedName[splitedName.length - 1].charAt(0).toUpperCase()}`\n  } else if (splitedName.length === 1) {\n    return `${splitedName[0].charAt(0).toUpperCase()}${splitedName[0].charAt(1).toLowerCase()}`\n  }\n  return ''\n}\n\ninterface iAvatar {\n  name: string\n  size?: 'small' | 'medium' | 'large'\n  picture?: string\n}\n\nconst Avatar: React.FC<iAvatar> = ({ name, size = 'medium', picture }) => {\n  const hasImage = !!picture\n  return (\n    <AvatarWrapper className=\"avatar\" image={picture} size={size} borderless={hasImage}>\n      {!hasImage && <span>{getInitials(name)}</span>}\n    </AvatarWrapper>\n  )\n}\n\nexport default Avatar\n","import styled from 'styled-components'\nimport { Menu as SMenu, Dropdown as SDropdown } from 'semantic-ui-react'\n\nexport const Menu = styled(SMenu)`\n  &.ui {\n    margin: 0;\n    border-radius: 0;\n  }\n`\n\nexport const Search = styled(Menu.Item)`\n  flex: 1 !important;\n  justify-content: center;\n  & > .ui.search {\n    max-width: 531px;\n    width: 100%;\n    & > * {\n      width: 100%;\n    }\n  }\n`\n\nexport const Dropdown = styled(SDropdown)`\n  border-left: 1px solid rgba(34, 36, 38, 0.15);\n  position: relative;\n  width: 68px;\n  & > i {\n    display: none;\n  }\n`\n\nexport const Logo = styled.div`\n  width: 122px;\n  height: 36px;\n  background-image: url('/images/logo2.svg');\n  background-repeat: no-repeat;\n  @media only screen and (max-width: 767px) {\n    width: 36px;\n    background-image: url('/images/logo.svg');\n  }\n`\n","import axios from 'axios'\nimport {\n  singup,\n  singout,\n  requestPasswordReset,\n  getMe,\n  updateMe,\n  passwordReset,\n  passwordChange,\n  signin,\n  confirmEmail,\n  requestConfirmEmail,\n  searchStories,\n  createStory,\n  deleteStory,\n  updateStory,\n  getImage,\n  getStories,\n  getStory,\n  getCollections,\n  getCollection,\n  updateCollection,\n  createCollection,\n  deleteCollection,\n  uploadImage,\n  getPersons,\n  updatePerson,\n  createPerson,\n  addPersonToStory,\n  removePersonFromStory,\n  uploadFile,\n  getFile,\n  getFiles,\n  deleteFile,\n  getLink,\n  createLink,\n  deleteLink,\n  getTranscriptions,\n  deleteTranscriptions,\n  createTranscriptions,\n  updateTranscriptions,\n  createGallery,\n  deleteGallery,\n  getGalleryItem,\n  getGallery,\n  getTimelines,\n  getTimeline,\n  createTimeline,\n  deleteTimeline,\n  getPlaces,\n  createPlace,\n  deletePlace,\n  searchLocation,\n  uploadSubtitle,\n  deleteSubtitle,\n  addWatcher,\n  removeWatcher,\n  notifyWatcher,\n  publishStory,\n  deleteComment,\n  createComment,\n  editComment,\n  search,\n  searchSuggestions\n} from './services'\nimport { history } from '../App'\n\nconst request = axios.create({\n  baseURL: '/api'\n})\n\nrequest.interceptors.request.use(function (config) {\n  const storageToken = localStorage.getItem('token')\n  const token = storageToken ? JSON.parse(storageToken) : ''\n  config.headers.Authorization = `Bearer ${token}`\n  return config\n})\n\nrequest.interceptors.response.use(\n  response => {\n    return response\n  },\n  error => {\n    if (error.response.status === 401) {\n      localStorage.removeItem('token')\n      if (history.location.pathname === '/u/signin') return Promise.reject(error)\n      history.push('/u/signin')\n      window.location.reload()\n    }\n\n    return Promise.reject(error)\n  }\n)\n\nexport const api = {\n  singup: singup(request),\n  singout: singout(request),\n  requestPasswordReset: requestPasswordReset(request),\n  getMe: getMe(request),\n  updateMe: updateMe(request),\n  passwordReset: passwordReset(request),\n  passwordChange: passwordChange(request),\n  signin: signin(request),\n  confirmEmail: confirmEmail(request),\n  requestConfirmEmail: requestConfirmEmail(request),\n  searchStories: searchStories(request),\n  getStories: getStories(request),\n  deleteStory: deleteStory(request),\n  getStory: getStory(request),\n  createStory: createStory(request),\n  updateStory: updateStory(request),\n  publishStory: publishStory(request),\n  uploadImage: uploadImage(request),\n  getImage: getImage(request),\n  getCollections: getCollections(request),\n  getCollection: getCollection(request),\n  updateCollection: updateCollection(request),\n  createCollection: createCollection(request),\n  deleteCollection: deleteCollection(request),\n  getPersons: getPersons(request),\n  updatePerson: updatePerson(request),\n  createPerson: createPerson(request),\n  addPersonToStory: addPersonToStory(request),\n  removePersonFromStory: removePersonFromStory(request),\n  uploadFile: uploadFile(request),\n  deleteFile: deleteFile(request),\n  getFiles: getFiles(request),\n  getFile: getFile(request),\n  getLink: getLink(request),\n  createLink: createLink(request),\n  deleteLink: deleteLink(request),\n  getTranscriptions: getTranscriptions(request),\n  deleteTranscriptions: deleteTranscriptions(request),\n  updateTranscriptions: updateTranscriptions(request),\n  createTranscriptions: createTranscriptions(request),\n  getGallery: getGallery(request),\n  getGalleryItem: getGalleryItem(request),\n  createGallery: createGallery(request),\n  deleteGallery: deleteGallery(request),\n  getTimelines: getTimelines(request),\n  getTimeline: getTimeline(request),\n  createTimeline: createTimeline(request),\n  deleteTimeline: deleteTimeline(request),\n  getPlaces: getPlaces(request),\n  createPlace: createPlace(request),\n  deletePlace: deletePlace(request),\n  searchLocation: searchLocation(request),\n  uploadSubtitle: uploadSubtitle(request),\n  deleteSubtitle: deleteSubtitle(request),\n  addWatcher: addWatcher(request),\n  removeWatcher: removeWatcher(request),\n  notifyWatcher: notifyWatcher(request),\n  deleteComment: deleteComment(request),\n  createComment: createComment(request),\n  editComment: editComment(request),\n  search: search(request),\n  searchSuggestions: searchSuggestions(request)\n}\n","import { AxiosInstance } from 'axios'\nimport {\n  StoryType,\n  StoryUpdateType,\n  ImageType,\n  SingupFormType,\n  PasswordResetForm,\n  SigninFormType,\n  UserType,\n  AuthType,\n  CollectionType,\n  Pageable,\n  WatcherType,\n  PersonType,\n  PersonFormType,\n  PasswordChangeForm,\n  UserFormType,\n  FileType,\n  LinkType,\n  LinkFormType,\n  TranscriptionType,\n  TranscriptionFormType,\n  TimelineType,\n  TimelineFormType,\n  LocationSearchType,\n  PlaceFormType,\n  PlaceType,\n  SubtitleType,\n  LanguageEnum,\n  addWatcherType,\n  CommentType,\n  CommentFormType,\n  CollectionFormType,\n  GalleryType\n} from '@root/types'\n\n// User api\nexport const getMe = (request: AxiosInstance) => async (): Promise<UserType> => {\n  try {\n    const response = await request.get('a/me')\n    return response.data\n  } catch (err) {\n    console.error(err)\n    throw err\n  }\n}\n\nexport const updateMe =\n  (request: AxiosInstance) =>\n  async (data: UserFormType): Promise<UserType> => {\n    const response = await request.put(`a/profile`, data)\n    return response.data\n  }\n\nexport const signin =\n  (request: AxiosInstance) =>\n  async (data: SigninFormType): Promise<AuthType> => {\n    const response = await request.post('u/auth/signin', data)\n    return response.data\n  }\n\nexport const singup =\n  (request: AxiosInstance) =>\n  async (data: SingupFormType): Promise<AuthType> => {\n    const response = await request.post('u/auth/signup', data)\n    return response.data\n  }\n\nexport const singout = (request: AxiosInstance) => async (): Promise<unknown> => {\n  const response = await request.post('a/auth/signout')\n  return response.data\n}\n\nexport const confirmEmail =\n  (request: AxiosInstance) =>\n  async (token: string): Promise<AuthType> => {\n    const response = await request.post(`u/confirmation-email/${token}`)\n    return response.data\n  }\n\nexport const requestConfirmEmail =\n  (request: AxiosInstance) =>\n  async (email: string): Promise<void> => {\n    await request.post(`u/confirmation-email`, { email })\n  }\n\nexport const passwordReset =\n  (request: AxiosInstance) =>\n  async (data: PasswordResetForm): Promise<AuthType> => {\n    const { token, ...rest } = data\n    const response = await request.post(`u/password-reset/${token}`, rest)\n    return response.data\n  }\n\nexport const passwordChange =\n  (request: AxiosInstance) =>\n  async (data: PasswordChangeForm): Promise<AuthType> => {\n    const response = await request.put(`a/password`, data)\n    return response.data\n  }\n\nexport const requestPasswordReset =\n  (request: AxiosInstance) =>\n  async (email: string): Promise<void> => {\n    await request.post(`u/password-reset`, { email })\n  }\n\n// Story api\nexport const searchStories = (request: AxiosInstance) => async (): Promise<any[]> => {\n  return Promise.resolve(new Array(10).fill('x'))\n}\n\nexport const getStories =\n  (request: AxiosInstance) =>\n  async (page: number, size: number): Promise<Pageable<StoryType>> => {\n    const response = await request.get<Pageable<StoryType>>(`a/stories?page=${page}&size=${size}`)\n    return response.data\n  }\n\nexport const getStory =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<StoryType> => {\n    const response = await request.get<StoryType>(`a/stories/${id}`)\n    return response.data\n  }\n\nexport const deleteStory =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<void> => {\n    await request.delete<StoryType>(`a/stories/${id}`)\n  }\n\nexport const createStory =\n  (request: AxiosInstance) =>\n  async (file: File, progressCallback: (progress: { total: number; loaded: number }) => void): Promise<StoryType> => {\n    const data = new FormData()\n    data.append('file', file, file.name)\n    const response = await request.post(`a/stories`, data, {\n      onUploadProgress: e => progressCallback({ total: e.total, loaded: e.loaded })\n    })\n    return response.data\n  }\n\nexport const updateStory =\n  (request: AxiosInstance) =>\n  async (id: string, data: Partial<StoryUpdateType>): Promise<StoryType> => {\n    const response = await request.put(`a/stories/${id}`, data)\n    return response.data\n  }\n\nexport const addPersonToStory =\n  (request: AxiosInstance) =>\n  async (id: string, personId: string): Promise<void> => {\n    return await request.post(`a/stories/${id}/add-person`, { personId })\n  }\n\nexport const removePersonFromStory =\n  (request: AxiosInstance) =>\n  async (id: string, personId: string): Promise<void> => {\n    return await request.post(`a/stories/${id}/remove-person`, { personId })\n  }\n\nexport const publishStory =\n  (request: AxiosInstance) =>\n  async (id: string, publish: boolean): Promise<void> => {\n    return publish ? await request.post(`a/stories/${id}/publish`) : await request.post(`a/stories/${id}/draft`)\n  }\n\n// Image api\nexport const uploadImage =\n  (request: AxiosInstance) =>\n  async (file: File, progressCallback?: (progress: { total: number; loaded: number }) => void): Promise<ImageType> => {\n    const data = new FormData()\n    data.append('file', file)\n    const response = await request.post<ImageType>(`a/images`, data, {\n      onUploadProgress: e => progressCallback && progressCallback({ total: e.total, loaded: e.loaded })\n    })\n    return response.data\n  }\n\nexport const getImage =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<ImageType> => {\n    const response = await request.get<ImageType>(`a/images/${id}`)\n    return response.data\n  }\n\n// File api\nexport const uploadFile =\n  (request: AxiosInstance) =>\n  async (\n    storyId: string,\n    file: File,\n    progressCallback?: (progress: { total: number; loaded: number }) => void\n  ): Promise<FileType> => {\n    const data = new FormData()\n    data.append('file', file)\n    data.append('storyId', storyId)\n    const response = await request.post<FileType>(`a/files`, data, {\n      onUploadProgress: e => progressCallback && progressCallback({ total: e.total, loaded: e.loaded })\n    })\n    return response.data\n  }\n\nexport const getFiles =\n  (request: AxiosInstance) =>\n  async (page: number, size: number): Promise<Pageable<FileType>> => {\n    const response = await request.get<Pageable<FileType>>(`a/files?page=${page}&size=${size}`)\n    return response.data\n  }\n\nexport const getFile =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<FileType> => {\n    const response = await request.get<FileType>(`a/files/${id}`)\n    return response.data\n  }\n\nexport const deleteFile =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<void> => {\n    await request.delete<FileType>(`a/files/${id}`)\n  }\n\n// Person api\nexport const getPersons =\n  (request: AxiosInstance) =>\n  async (page: number, size: number, q?: string): Promise<Pageable<PersonType>> => {\n    const response = await request.get(`a/persons?page=${page}&size=${size}${q ? `&name=${q}` : ''}`)\n    return response.data\n  }\n\nexport const createPerson =\n  (request: AxiosInstance) =>\n  async (data: PersonFormType): Promise<PersonType> => {\n    const response = await request.post(`a/persons`, data)\n    return response.data\n  }\n\nexport const updatePerson =\n  (request: AxiosInstance) =>\n  async (id: string, data: PersonFormType): Promise<PersonType> => {\n    const response = await request.put(`a/persons/${id}`, data)\n    return response.data\n  }\n\n// Link api\nexport const getLink =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<LinkType> => {\n    const response = await request.get(`a/links/${id}`)\n    return response.data\n  }\n\nexport const createLink =\n  (request: AxiosInstance) =>\n  async (data: LinkFormType): Promise<LinkType> => {\n    const response = await request.post(`a/links`, data)\n    return response.data\n  }\n\nexport const deleteLink =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<void> => {\n    const response = await request.delete(`a/links/${id}`)\n    return response.data\n  }\n\n// Transcipt api\nexport const getTranscriptions =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<TranscriptionType> => {\n    const response = await request.get(`a/transcriptions/${id}`)\n    return response.data\n  }\n\nexport const updateTranscriptions =\n  (request: AxiosInstance) =>\n  async (id: string, data: TranscriptionFormType): Promise<TranscriptionType> => {\n    const response = await request.put(`a/transcriptions/${id}`, data)\n    return response.data\n  }\n\nexport const createTranscriptions =\n  (request: AxiosInstance) =>\n  async (data: TranscriptionFormType): Promise<TranscriptionType> => {\n    const response = await request.post(`a/transcriptions`, data)\n    return response.data\n  }\n\nexport const deleteTranscriptions =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<void> => {\n    const response = await request.delete(`a/transcriptions/${id}`)\n    return response.data\n  }\n\n// Gallery api\nexport const getGallery =\n  (request: AxiosInstance) =>\n  async (page: number, size: number): Promise<Pageable<GalleryType>> => {\n    const response = await request.get(`a/gallery-entries?page=${page}&size=${size}`)\n    return response.data\n  }\n\nexport const getGalleryItem =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<GalleryType> => {\n    const response = await request.get(`a/gallery-entries/${id}`)\n    return response.data\n  }\n\nexport const createGallery =\n  (request: AxiosInstance) =>\n  async (storyId: string, imageId: string): Promise<GalleryType> => {\n    const response = await request.post<GalleryType>(`a/gallery-entries`, {\n      storyId,\n      imageId\n    })\n    return response.data\n  }\n\nexport const deleteGallery =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<void> => {\n    await request.delete(`a/gallery-entries/${id}`)\n  }\n\n// Timeline api\n\nexport const getTimelines =\n  (request: AxiosInstance) =>\n  async (page: number, size: number): Promise<Pageable<TimelineType>> => {\n    const response = await request.get<Pageable<TimelineType>>(`a/timeline-entries?page=${page}&size=${size}`)\n    return response.data\n  }\n\nexport const getTimeline =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<TimelineType> => {\n    const response = await request.get(`a/timeline-entries/${id}`)\n    return response.data\n  }\n\nexport const createTimeline =\n  (request: AxiosInstance) =>\n  async (data: TimelineFormType): Promise<TimelineType> => {\n    console.log(data)\n    const response = await request.post<TimelineType>(`a/timeline-entries`, {\n      ...data,\n      at: new Date(data.at).toJSON()\n    })\n    return response.data\n  }\n\nexport const deleteTimeline =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<void> => {\n    await request.delete(`a/timeline-entries/${id}`)\n  }\n\n// Places api\nexport const getPlaces =\n  (request: AxiosInstance) =>\n  async (page: number, size: number): Promise<Pageable<PlaceType>> => {\n    const response = await request.get(`a/places?page=${page}&size=${size}`)\n    return response.data\n  }\n\nexport const createPlace =\n  (request: AxiosInstance) =>\n  async (data: PlaceFormType): Promise<PlaceType> => {\n    const response = await request.post<PlaceType>(`a/places`, data)\n    return response.data\n  }\n\nexport const deletePlace =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<void> => {\n    await request.delete(`a/places/${id}`)\n  }\n\nexport const searchLocation =\n  (request: AxiosInstance) =>\n  async (address: string): Promise<LocationSearchType[]> => {\n    const response = await request.get<LocationSearchType[]>(`a/geomap/search?format=json&q=${address}`)\n    return response.data\n  }\n\n// Subtitile api\nexport const uploadSubtitle =\n  (request: AxiosInstance) =>\n  async (\n    storyId: string,\n    language: LanguageEnum,\n    file: File,\n    progressCallback?: (progress: { total: number; loaded: number }) => void\n  ): Promise<SubtitleType> => {\n    const data = new FormData()\n    data.append('file', file)\n    data.append('language', language)\n    data.append('storyId', storyId)\n    const response = await request.post<SubtitleType>(`a/subtitles`, data, {\n      onUploadProgress: e => progressCallback && progressCallback({ total: e.total, loaded: e.loaded })\n    })\n    return response.data\n  }\n\nexport const deleteSubtitle =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<void> => {\n    await request.delete<SubtitleType>(`a/subtitles/${id}`)\n  }\n\n// Watcher api\n\nexport const addWatcher =\n  (request: AxiosInstance) =>\n  async (data: addWatcherType): Promise<WatcherType> => {\n    const response = await request.post<WatcherType>(`a/watchers`, data)\n    return response.data\n  }\n\nexport const removeWatcher =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<void> => {\n    await request.delete(`a/watchers/${id}`)\n  }\n\nexport const notifyWatcher =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<void> => {\n    await request.post(`a/watchers/${id}/notify`)\n  }\n\n// Comments api\nexport const createComment =\n  (request: AxiosInstance) =>\n  async (comment: CommentFormType): Promise<CommentType> => {\n    const response = await request.post<CommentType>(`a/comments`, comment)\n    return response.data\n  }\n\nexport const editComment =\n  (request: AxiosInstance) =>\n  async (id: string, comment: CommentFormType): Promise<CommentType> => {\n    const response = await request.put<CommentType>(`a/comments/${id}`, comment)\n    return response.data\n  }\n\nexport const deleteComment =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<void> => {\n    return await request.delete(`a/comments/${id}`)\n  }\n\n// Search api\nexport const search =\n  (request: AxiosInstance) =>\n  async (page: number, size: number, q?: string): Promise<Pageable<StoryType>> => {\n    const response = await request.get<Pageable<StoryType>>(`a/search?q=${q || ''}&page=${page}&size=${size}`)\n    return response.data\n  }\n\nexport const searchSuggestions =\n  (request: AxiosInstance) =>\n  async (query: string): Promise<{ suggestions: string[] }> => {\n    const response = await request.get<{ suggestions: string[] }>(\n      `a/search/suggestions?q=${query || ''}&page=${0}&size=${10}`\n    )\n    return response.data\n  }\n\n// Collection api\n\nexport const getCollections =\n  (request: AxiosInstance) =>\n  async (page: number, size: number): Promise<Pageable<CollectionType>> => {\n    const response = await request.get(`a/collections?page=${page}&size=${size}`)\n    return response.data\n  }\n\nexport const getCollection =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<CollectionType> => {\n    const response = await request.get(`a/collections/${id}`)\n    return response.data\n  }\n\nexport const updateCollection =\n  (request: AxiosInstance) =>\n  async (id: string, data: CollectionFormType): Promise<CollectionType> => {\n    const response = await request.put(`a/collections/${id}`, data)\n    return response.data\n  }\n\nexport const createCollection =\n  (request: AxiosInstance) =>\n  async (data: CollectionFormType): Promise<CollectionType> => {\n    const response = await request.post(`a/collections`, data)\n    return response.data\n  }\n\nexport const deleteCollection =\n  (request: AxiosInstance) =>\n  async (id: string): Promise<void> => {\n    await request.delete(`a/collections/${id}`)\n  }\n","import { Search } from 'semantic-ui-react'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { useSuggestionApi } from './useSuggestionApi'\nimport { SearchProps } from 'semantic-ui-react/dist/commonjs/modules/Search/Search'\nimport debounce from 'lodash.debounce'\nimport { useLocation, useHistory } from 'react-router-dom'\nimport { parse, stringify } from 'qs'\n\nconst SearchInput: React.FC = () => {\n  const { getSuggestions, loading, suggestions } = useSuggestionApi()\n  const { search } = useLocation()\n  const history = useHistory()\n  const parsedQs = parse(search, { ignoreQueryPrefix: true })\n  const { q } = parsedQs\n\n  const [value, setValue] = useState<string>((q as string) || '')\n\n  const updateQueryString = useCallback(\n    debounce((text: string) => {\n      const search = stringify(\n        {\n          ...parsedQs,\n          q: text\n        },\n        { addQueryPrefix: true }\n      )\n      history.push({\n        pathname: '/a/home',\n        search\n      } as unknown as Location)\n    }, 500),\n    []\n  )\n\n  useEffect(() => {\n    getSuggestions(value || (q as string))\n  }, [value])\n\n  const handleSearchChange = (event: React.MouseEvent<HTMLElement>, data: SearchProps) => {\n    setValue(data.value || '')\n  }\n\n  const handleResultSelect = (event: React.MouseEvent<HTMLElement>, data: SearchProps) => {\n    const text = data.result.title\n    updateQueryString(text)\n    setValue(text)\n  }\n\n  const handleEnter = (event: { charCode: number; target: HTMLInputElement }) => {\n    if (event.charCode !== 13) return\n    updateQueryString(event.target.value)\n  }\n\n  return (\n    <Search\n      showNoResults={false}\n      onKeyPress={handleEnter}\n      placeholder=\"Search...\"\n      loading={loading}\n      onResultSelect={handleResultSelect}\n      onSearchChange={handleSearchChange}\n      results={suggestions.map((suggestion, i) => ({ key: i, title: suggestion }))}\n      value={value}\n    />\n  )\n}\n\nexport default SearchInput\n","import { useState } from 'react'\nimport { api } from '@root/api'\n\ninterface iUsePeopleApi {\n  getSuggestions: (query: string) => void\n  suggestions: string[]\n  loading: boolean\n}\n\nexport const useSuggestionApi = (): iUsePeopleApi => {\n  const [suggestions, setSuggestions] = useState<string[]>([])\n  const [loading, setLoading] = useState<boolean>(false)\n\n  const getSuggestions = async (query: string) => {\n    if (!query) {\n      setSuggestions([])\n      return\n    }\n    setLoading(true)\n    const data = await api.searchSuggestions(query)\n    setSuggestions(data.suggestions)\n    setLoading(false)\n  }\n\n  return {\n    getSuggestions,\n    suggestions,\n    loading\n  }\n}\n","import React from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport { Icon, Button } from 'semantic-ui-react'\nimport { useRecoilState, useRecoilValue } from 'recoil'\nimport { sidebarState } from '../state'\nimport { userState } from '@root/states/userState'\nimport Avatar from '@root/components/suport/Avatar'\nimport { Menu, Dropdown, Logo, Search } from './style'\nimport SearchInput from './SearchInput'\n\nconst NavBar: React.FC = () => {\n  const history = useHistory()\n  const [showSidebar, setShowsidebar] = useRecoilState(sidebarState)\n  const user = useRecoilValue(userState)\n\n  const onToggle = () => {\n    setShowsidebar(!showSidebar)\n  }\n\n  const handleExit = () => {\n    history.push('/a/signout')\n  }\n\n  const handleNewStorie = () => {\n    history.push('/a/stories/new')\n  }\n\n  return (\n    <Menu borderless>\n      <Menu.Item onClick={onToggle}>\n        <Icon name=\"sidebar\" />\n      </Menu.Item>\n      <Menu.Item>\n        <Link to=\"/a/home\">\n          <Logo />\n        </Link>\n      </Menu.Item>\n      <Search position=\"left\" fluid>\n        <SearchInput />\n      </Search>\n      <Menu.Menu position=\"right\">\n        <Menu.Item>\n          <Button primary onClick={handleNewStorie}>\n            New Story\n          </Button>\n        </Menu.Item>\n        <Dropdown\n          item\n          icon={''}\n          pointing={false}\n          trigger={\n            <Avatar picture={user?.picture?.thumbnail} name={user ? `${user?.firstName} ${user?.lastName}` : ''} />\n          }\n        >\n          <Dropdown.Menu>\n            <Dropdown.Item icon=\"user\" text=\"Profile\" onClick={() => history.push('/a/profile')} />\n            <Dropdown.Divider />\n            <Dropdown.Item icon=\"log out\" text=\"Exit\" onClick={handleExit} />\n          </Dropdown.Menu>\n        </Dropdown>\n      </Menu.Menu>\n    </Menu>\n  )\n}\n\nexport default NavBar\n","import styled from 'styled-components'\nimport { Sidebar } from 'semantic-ui-react'\n\nexport const Pushable = styled(Sidebar.Pushable)`\n  height: calc(100vh - 61px);\n  @media (min-width: 768px) {\n    .sidebar + .pusher {\n      margin-left: 0;\n      transition: margin-left 500ms ease, width 500ms ease;\n      width: 100%;\n    }\n\n    .sidebar.visible + .pusher {\n      margin-left: 260px;\n      transition: margin-left 500ms ease, width 500ms ease;\n      width: calc(100% - 260px);\n    }\n  }\n`\n\nexport const Pusher = styled(Sidebar.Pusher)``\n","import { Link, useLocation } from 'react-router-dom'\nimport { Divider, Icon, Menu as SMenu } from 'semantic-ui-react'\n\nimport React from 'react'\n\nconst Menu: React.FC = () => {\n  const { pathname } = useLocation()\n\n  const matchRouter = (value: string) => {\n    return pathname.startsWith(value)\n  }\n\n  return (\n    <>\n      <SMenu.Item className=\"menu-item\" as={Link} to=\"a/home\" active={matchRouter('/a/home')}>\n        <Icon name=\"home\" />\n        Home\n      </SMenu.Item>\n      <Divider />\n      <SMenu.Item className=\"menu-item\" as={Link} to=\"/a/stories\" active={matchRouter('/a/stories')}>\n        <Icon name=\"play\" />\n        Stories\n      </SMenu.Item>\n      <SMenu.Item className=\"menu-item\" as={Link} to=\"/a/collections\" active={matchRouter('/a/collections')}>\n        <Icon name=\"book\" />\n        Collections\n      </SMenu.Item>\n      <SMenu.Item className=\"menu-item\" as={Link} to=\"/a/people\" active={matchRouter('/a/people')}>\n        <Icon name=\"group\" />\n        People\n      </SMenu.Item>\n      <SMenu.Item className=\"menu-item\" as={Link} to=\"/a/places\" active={matchRouter('/a/places')}>\n        <Icon name=\"map\" />\n        Places\n      </SMenu.Item>\n      <SMenu.Item className=\"menu-item\" as={Link} to=\"/a/photos\" active={matchRouter('/a/photos')}>\n        <Icon name=\"camera\" />\n        Photos\n      </SMenu.Item>\n      <SMenu.Item className=\"menu-item\" as={Link} to=\"/a/files\" active={matchRouter('/a/files')}>\n        <Icon name=\"file\" />\n        Files\n      </SMenu.Item>\n      <SMenu.Item className=\"menu-item\" as={Link} to=\"/a/timelines\" active={matchRouter('/a/timelines')}>\n        <Icon name=\"calendar\" />\n        Timeline\n      </SMenu.Item>\n    </>\n  )\n}\n\nexport default Menu\n","import React from 'react'\nimport { Pushable, Pusher } from './style'\nimport { Menu as SMenu, Sidebar as SSidebar } from 'semantic-ui-react'\nimport { useRecoilValue } from 'recoil'\nimport { sidebarState } from '../state'\nimport Menu from './Menu'\n\nconst Sidebar: React.FC = ({ children }) => {\n  const showSidebar = useRecoilValue(sidebarState)\n\n  return (\n    <>\n      <Pushable>\n        <SSidebar\n          as={SMenu}\n          className=\"side-menu\"\n          animation=\"overlay\"\n          direction=\"left\"\n          visible={showSidebar}\n          vertical\n          borderless\n        >\n          <Menu />\n        </SSidebar>\n        <Pusher>{children}</Pusher>\n      </Pushable>\n    </>\n  )\n}\nexport default Sidebar\n","import { atom } from 'recoil'\n\nexport interface MediaQueryState {\n  [key: string]: {\n    progress: number\n    finished: boolean\n    payload: any\n  }\n}\n\nexport const mediaStatusState = atom<MediaQueryState>({\n  key: 'mediaStatusState',\n  default: {}\n})\n","import { useEffect, useState } from 'react'\nimport { Client } from '@stomp/stompjs'\nimport SockeJS from 'sockjs-client'\nimport { useSetRecoilState } from 'recoil'\nimport { mediaStatusState } from '@root/states/mediaStatusState'\n\nexport const useMediaStatus = (): void => {\n  const [client] = useState<Client>(new Client())\n  const setMediaStatusState = useSetRecoilState(mediaStatusState)\n\n  const getToken = () => {\n    const tokenItem = localStorage.getItem('token')\n    return tokenItem ? JSON.parse(tokenItem) : null\n  }\n\n  client.configure({\n    webSocketFactory: () => new SockeJS(`/api/ws?jwt=${getToken()}`),\n    onConnect: () => {\n      client.subscribe('/user/queue/media-progress', (message: { body: string }) => {\n        const { total, current, id, payload, finished } = JSON.parse(message.body)\n        const progress = Math.round((current / total) * 100)\n        setMediaStatusState(value => {\n          return {\n            ...value,\n            [id]: {\n              progress,\n              payload,\n              finished\n            }\n          }\n        })\n      })\n    }\n  })\n\n  useEffect(() => {\n    client.activate()\n    return () => {\n      client.deactivate()\n    }\n  }, [])\n}\n","import React, { useEffect } from 'react'\nimport { useSetRecoilState } from 'recoil'\nimport Header from './NavBar'\nimport Sidebar from './Sidebar'\nimport { api } from '@root/api'\n\nimport { userState } from '@root/states/userState'\nimport { useMediaStatus } from '@root/hooks/useMediaStatus'\n\nconst AuthenticatedLayout: React.FC = ({ children }) => {\n  const setUser = useSetRecoilState(userState)\n  useMediaStatus()\n\n  useEffect(() => {\n    const get = async () => {\n      const user = await api.getMe()\n      setUser(user)\n    }\n    get()\n  }, [])\n\n  return (\n    <>\n      <Header />\n      <Sidebar>{children}</Sidebar>\n    </>\n  )\n}\n\nexport default AuthenticatedLayout\n","import styled from 'styled-components'\nimport { Grid } from 'semantic-ui-react'\n\nexport const GridImage = styled(Grid.Column)`\n  position: relative;\n  display: flex;\n  height: 100vh;\n  //background-image: url('/images/logo.svg');\n  background-size: cover;\n`\n\nexport const TextBox = styled.div`\n  position: absolute;\n  background: rgba(0, 0, 0, 0.5);\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 1rem;\n`\n\nexport const PrimaryText = styled.div`\n  font-size: 56px;\n  font-weight: bold;\n  line-height: 67px;\n  letter-spacing: 0.04em;\n  color: white;\n  max-width: 560px;\n  margin-bottom: 64px;\n`\n\nexport const SecondaryText = styled.div`\n  font-size: 32px;\n  letter-spacing: 0.04em;\n  font-weight: normal;\n  line-height: 38px;\n  color: white;\n  max-width: 684px;\n`\n\nexport const Logo = styled.div`\n  max-width: 300px;\n  display: flex;\n  margin: 64px auto;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const FormBox = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  & > div {\n    width: 100%;\n    align-self: center;\n  }\n`\n","import React from 'react'\nimport { Grid, Image } from 'semantic-ui-react'\nimport { GridImage, TextBox, PrimaryText, SecondaryText, FormBox, Logo } from './style'\n\nconst PublicLayout: React.FC = ({ children }) => {\n  return (\n    <Grid verticalAlign=\"middle\" stackable inverted padded>\n      <GridImage width={5} only=\"tablet computer\">\n        {/* <TextBox> */}\n        {/*  <PrimaryText style={{}}>Discover your family story</PrimaryText> */}\n        {/*  <SecondaryText style={{}}> */}\n        {/*    Grow your family tree, find new relatives, and explore billions of historical records */}\n        {/*  </SecondaryText> */}\n        {/* </TextBox> */}\n      </GridImage>\n      <Grid.Column width={6}>\n        <Logo>\n          <Image src={'/images/logo2.svg'} />\n        </Logo>\n        <FormBox>\n          <div>{children}</div>\n        </FormBox>\n      </Grid.Column>\n      <GridImage width={5} only=\"tablet computer\"></GridImage>\n    </Grid>\n  )\n}\n\nexport default PublicLayout\n","import * as yup from 'yup'\n\nexport default yup.object().shape({\n  email: yup.string().email().required(),\n  password: yup\n    .string()\n    .required()\n    .min(8, 'Password is too short - should be 8 chars minimum.')\n    .matches(/[a-zA-Z]/, 'Password can only contain Latin letters.')\n})\n","import styled from 'styled-components'\n\nexport const ErrorMessage = styled.div`\n  position: absolute;\n  right: 0;\n  color: red;\n  display: flex;\n  align-items: center;\n  margin-top: 0.5em;\n  & > i.tiny.icons > i {\n    margin: unset;\n  }\n\n  & > span {\n    line-height: 1em;\n    font-size: 0.8em;\n    margin-left: 0.5em;\n  }\n`\n\nconst FieldWrapper = styled.div`\n  margin-bottom: 30px;\n  position: relative;\n`\n\nexport const InputWrapper = styled(FieldWrapper)``\n\nexport const TextAreaWrapper = styled(FieldWrapper)`\n  & > .field {\n    display: flex;\n    flex-flow: column;\n    & > textarea {\n      resize: none;\n      border: 1px solid rgba(34, 36, 38, 0.15);\n    }\n    & > textarea:focus {\n      border-color: #85b7d9;\n      background: #ffffff;\n      color: rgba(0, 0, 0, 0.8);\n      box-shadow: none;\n      border-width: 1px;\n    }\n    & > textarea:focus-visible {\n      outline: none;\n    }\n  }\n  & > .field.error > textarea {\n    background-color: #fff6f6;\n    border-color: #e0b4b4;\n    color: #9f3a38;\n    box-shadow: none;\n    &::placeholder {\n      color: #e8bebd;\n    }\n  }\n\n  & > .field.error > textarea:focus {\n    &::placeholder {\n      color: #da9796;\n    }\n  }\n`\n\nexport const SelectWrapper = styled(FieldWrapper)`\n  &.ui.form > div.dropdown {\n    display: block;\n  }\n`\n","import { useField } from 'formik'\nimport { Icon } from 'semantic-ui-react'\nimport { ErrorMessage, InputWrapper } from './style'\nimport React from 'react'\nimport { Input as _Input } from 'formik-semantic-ui-react'\nimport { InputProps } from 'formik-semantic-ui-react/dist/Input'\n\ninterface iInput extends InputProps {\n  errorMessage?: string\n  label?: string\n}\n\nexport const Error: React.FC = ({ children }) => {\n  return (\n    <ErrorMessage className=\"ui red basic errorMessage\">\n      <Icon.Group size=\"tiny\">\n        <Icon name=\"circle outline\" size=\"big\" />\n        <Icon name=\"exclamation\" />\n      </Icon.Group>\n      <span className=\"ui red basic errorMessage\">{children}</span>\n    </ErrorMessage>\n  )\n}\n\nconst Input: React.FC<iInput> = ({ errorMessage, ...rest }) => {\n  const [, meta] = useField(rest.name)\n  return (\n    <InputWrapper>\n      <_Input {...rest} error={(meta.touched && !!meta.error) || !!errorMessage} fluid />\n      {((meta.touched && !!meta.error) || !!errorMessage) && <Error>{meta.error || errorMessage}</Error>}\n    </InputWrapper>\n  )\n}\n\nexport default Input\n","import { useField } from 'formik'\nimport { Icon } from 'semantic-ui-react'\nimport { ErrorMessage, TextAreaWrapper } from './style'\nimport React from 'react'\nimport { TextArea as _TextArea } from 'formik-semantic-ui-react'\nimport { TextAreaProps } from 'formik-semantic-ui-react/dist/TextArea'\n\ninterface iTextArea extends TextAreaProps {\n  errorMessage?: string\n  label?: string\n}\n\nexport const Error: React.FC = ({ children }) => {\n  return (\n    <ErrorMessage className=\"ui red basic errorMessage\">\n      <Icon.Group size=\"tiny\">\n        <Icon name=\"circle outline\" size=\"big\" />\n        <Icon name=\"exclamation\" />\n      </Icon.Group>\n      <span className=\"ui red basic errorMessage\">{children}</span>\n    </ErrorMessage>\n  )\n}\n\nconst TextArea: React.FC<iTextArea> = ({ errorMessage, ...rest }) => {\n  const [, meta] = useField(rest.name)\n  return (\n    <TextAreaWrapper>\n      <_TextArea {...rest} error={(meta.touched && !!meta.error) || !!errorMessage} />\n      {((meta.touched && !!meta.error) || !!errorMessage) && <Error>{meta.error || errorMessage}</Error>}\n    </TextAreaWrapper>\n  )\n}\n\nexport default TextArea\n","import { useField } from 'formik'\nimport { Icon } from 'semantic-ui-react'\nimport { ErrorMessage, SelectWrapper } from './style'\nimport React, { ReactNode } from 'react'\nimport { Select as _Select } from 'formik-semantic-ui-react'\nimport { SelectProps } from 'formik-semantic-ui-react/dist/Select'\n\ninterface iTextArea extends SelectProps {\n  errorMessage?: string\n  label?: string | ReactNode\n}\n\nexport const Error: React.FC = ({ children }) => {\n  return (\n    <ErrorMessage className=\"ui red basic errorMessage\">\n      <Icon.Group size=\"tiny\">\n        <Icon name=\"circle outline\" size=\"big\" />\n        <Icon name=\"exclamation\" />\n      </Icon.Group>\n      <span className=\"ui red basic errorMessage\">{children}</span>\n    </ErrorMessage>\n  )\n}\n\nconst TextArea: React.FC<iTextArea> = ({ errorMessage, ...rest }) => {\n  const [, meta] = useField(rest.name)\n  return (\n    <SelectWrapper>\n      <_Select {...rest} error={(meta.touched && !!meta.error) || !!errorMessage} fluid />\n      {((meta.touched && !!meta.error) || !!errorMessage) && <Error>{meta.error || errorMessage}</Error>}\n    </SelectWrapper>\n  )\n}\n\nexport default TextArea\n","import { Message as SMessage } from 'semantic-ui-react'\nimport styled from 'styled-components'\n\nexport const Message = styled(SMessage)`\n  &.ui.message {\n    text-align: center;\n    background: none;\n    box-shadow: none;\n    border: none;\n    margin: 0;\n  }\n`\n","import { Link } from 'react-router-dom'\nimport { Message } from './style'\nimport React from 'react'\n\ninterface iMessageLink {\n  to: string\n}\n\nconst MessageLink: React.FC<iMessageLink> = ({ to, children }) => {\n  return (\n    <Message size=\"huge\">\n      <Link to={to}>{children}</Link>\n    </Message>\n  )\n}\n\nexport default MessageLink\n","import React, { useState } from 'react'\nimport { Header, Button } from 'semantic-ui-react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { Form, Formik } from 'formik'\nimport schema from './schema'\nimport { api } from '@root/api'\nimport { useSetRecoilState } from 'recoil'\nimport { userState } from '@root/states/userState'\nimport { Input } from '@root/components/suport/FormFields'\nimport MessageLink from '@root/components/suport/MessageLink'\nimport { basicModalState } from '@root/components/modals/BasicModal'\nimport { SigninFormType } from '@root/types'\n\nconst SigninForm: React.FC = () => {\n  const history = useHistory()\n  const setUser = useSetRecoilState(userState)\n  const [errorMessage, setErrorMessage] = useState<string | undefined>(undefined)\n  const setBasicModalState = useSetRecoilState(basicModalState)\n\n  const handleResend = async (email: string) => {\n    try {\n      await api.requestConfirmEmail(email)\n      setBasicModalState({\n        open: false,\n        title: '',\n        content: ''\n      })\n    } catch (error) {\n      setBasicModalState({\n        open: true,\n        title: 'Confirm email',\n        content: (\n          <>\n            This email has not confirmed. <br />\n            In the next few minutes, we are sending another confirmation email.\n            <br />\n            Please, verify our email box and confirm it.\n          </>\n        )\n      })\n    }\n  }\n\n  const handleSubmit = async ({ email, password }: SigninFormType) => {\n    try {\n      setErrorMessage('')\n      const { token, user } = await api.signin({ email, password })\n      localStorage.setItem('token', JSON.stringify(token))\n      setUser(user)\n      history.push('/a')\n    } catch (error) {\n      if (error.response.data.code === '1004') {\n        setErrorMessage('Email or password are incorrect. Please try again')\n        return\n      }\n      if (error.response.data.code === '1005') {\n        setBasicModalState({\n          open: true,\n          title: 'Verify email',\n          content: (\n            <>\n              Please verify your email by clicking the link in the message we sent you.\n              <br />\n              <br />\n              <Button basic color=\"blue\" onClick={() => handleResend(email)}>\n                Resend email\n              </Button>\n            </>\n          )\n        })\n        return\n      }\n      setErrorMessage(error.response.data.message)\n    }\n  }\n\n  const initialValues: SigninFormType = { email: '', password: '' }\n  return (\n    <>\n      <Header as=\"h2\" color=\"black\" textAlign=\"left\">\n        Login\n      </Header>\n      <Formik initialValues={initialValues} validationSchema={schema} onSubmit={handleSubmit}>\n        {({ isSubmitting }) => (\n          <Form>\n            <Input name=\"email\" placeholder=\"Email address\" errorMessage={errorMessage} />\n            <Input name=\"password\" placeholder=\"Password\" type=\"password\" errorMessage={errorMessage} />\n            <Button color=\"blue\" fluid size=\"large\" loading={isSubmitting} type=\"submit\">\n              Login\n            </Button>\n            <MessageLink to=\"/u/forgot-password\">Forgot Password</MessageLink>\n            <Button basic color=\"blue\" fluid size=\"large\" as={Link} to=\"/u/signup\">\n              Create new Account\n            </Button>\n          </Form>\n        )}\n      </Formik>\n    </>\n  )\n}\n\nexport default SigninForm\n","import * as yup from 'yup'\n\nexport default yup.object().shape({\n  email: yup.string().email().required()\n})\n","import React, { useState } from 'react'\nimport { Header, Button } from 'semantic-ui-react'\nimport { Formik, Form } from 'formik'\nimport schema from './schema'\nimport { useSetRecoilState } from 'recoil'\nimport { basicModalState } from '@root/components/modals/BasicModal'\nimport { useHistory } from 'react-router-dom'\nimport { api } from '@root/api'\nimport { Input } from '@root/components/suport/FormFields'\nimport MessageLink from '@root/components/suport/MessageLink'\n\nconst ForgotPasswordForm: React.FC = () => {\n  const history = useHistory()\n  const setBasicModalState = useSetRecoilState(basicModalState)\n  const [errorMessage, setErrorMessage] = useState<string | undefined>(undefined)\n\n  const handleSubmit = async ({ email }: { email: string }) => {\n    try {\n      await api.requestPasswordReset(email)\n      setBasicModalState({\n        open: true,\n        title: 'Forgot Password',\n        content: 'We sent you an email with a link to reset your password.'\n      })\n      history.push('/u/singin')\n    } catch (error) {\n      setErrorMessage('Something was wrong! please try again.')\n    }\n  }\n\n  return (\n    <>\n      <Header as=\"h2\" color=\"black\" textAlign=\"left\">\n        Forgot password\n      </Header>\n      <Formik initialValues={{ email: '' }} validationSchema={schema} onSubmit={handleSubmit}>\n        {({ isSubmitting }) => (\n          <Form>\n            <Input name=\"email\" placeholder=\"Email address\" errorMessage={errorMessage} />\n            <Button color=\"blue\" fluid size=\"large\" type=\"submit\" loading={isSubmitting}>\n              Submit\n            </Button>\n            <MessageLink to=\"/u/signin\">Back to login</MessageLink>\n          </Form>\n        )}\n      </Formik>\n    </>\n  )\n}\n\nexport default ForgotPasswordForm\n","import * as yup from 'yup'\n\nexport default yup.object().shape({\n  email: yup.string().email().required(),\n  firstName: yup.string().required(),\n  lastName: yup.string().required(),\n  password: yup\n    .string()\n    .required()\n    .min(8, 'Password is too short - should be 8 chars minimum.')\n    .matches(/[a-zA-Z]/, 'Password can onlsy contain Latin letters.'),\n  confirmation: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'Passwords must match')\n    .required()\n})\n","import React, { useState } from 'react'\nimport { Header, Button } from 'semantic-ui-react'\nimport { useHistory } from 'react-router-dom'\nimport { Formik, Form } from 'formik'\nimport schema from './schema'\nimport { api } from '@root/api'\nimport { useSetRecoilState } from 'recoil'\nimport { basicModalState } from '@root/components/modals/BasicModal'\nimport { Input } from '@root/components/suport/FormFields'\nimport MessageLink from '@root/components/suport/MessageLink'\nimport { SingupFormType } from '@root/types'\n\nconst SignupForm: React.FC = () => {\n  const history = useHistory()\n  const setBasicModalState = useSetRecoilState(basicModalState)\n  const [errorMessage, setErrorMessage] = useState<string | undefined>(undefined)\n\n  const handleSubmit = async ({ email, firstName, lastName, password, confirmation }: SingupFormType) => {\n    try {\n      await api.singup({ email, firstName, lastName, password, confirmation })\n      history.push('/login/singin')\n      setBasicModalState({\n        open: true,\n        title: 'Confirm email',\n        content: <>We sent an email to you to confirm your account. Please check this.</>\n      })\n    } catch (error) {\n      if (error.response.data.code === '1001') {\n        setErrorMessage('Email is already taken.')\n        return\n      }\n      setErrorMessage(error.response.data.message)\n    }\n  }\n\n  return (\n    <>\n      <Header as=\"h2\" color=\"black\" textAlign=\"left\">\n        Create account\n      </Header>\n      <Formik\n        initialValues={{ email: '', password: '', confirmation: '', firstName: '', lastName: '' }}\n        validationSchema={schema}\n        onSubmit={handleSubmit}\n      >\n        {({ isSubmitting }) => (\n          <Form>\n            <Input name=\"email\" placeholder=\"Email address\" errorMessage={errorMessage} />\n            <Input name=\"firstName\" placeholder=\"First Name\" errorMessage={errorMessage} />\n            <Input name=\"lastName\" placeholder=\"Last Name\" errorMessage={errorMessage} />\n            <Input name=\"password\" placeholder=\"Password\" type=\"password\" errorMessage={errorMessage} />\n            <Input\n              name=\"confirmation\"\n              placeholder=\"Confirmation password\"\n              type=\"password\"\n              errorMessage={errorMessage}\n            />\n            <Button color=\"blue\" fluid size=\"large\" loading={isSubmitting} type=\"submit\">\n              Create account\n            </Button>\n            <MessageLink to=\"/u/signin\">Back to login</MessageLink>\n          </Form>\n        )}\n      </Formik>\n    </>\n  )\n}\n\nexport default SignupForm\n","import styled from 'styled-components'\n\nexport const LazyImageWrapper = styled.div`\n  position: relative;\n  & > .ui.placeholder,\n  & > .ui.image {\n    width: 100%;\n    height: 100%;\n  }\n\n  & > .ui.placeholder {\n    position: absolute;\n    max-width: unset;\n    top: 0;\n    left: 0;\n    right: 0;\n  }\n`\n","import React, { useState } from 'react'\nimport { Image, Placeholder } from 'semantic-ui-react'\nimport { ImageProps } from 'semantic-ui-react/dist/commonjs/elements/Image/Image'\nimport { LazyImageWrapper } from './style'\n\nconst LazyImage: React.FC<ImageProps> = ({ src, ...rest }) => {\n  const [isLoading, setLoading] = useState<boolean>(true)\n\n  const handleLoaded = () => {\n    setLoading(false)\n  }\n\n  return (\n    <LazyImageWrapper className=\"lazyImage\">\n      <Image src={src || ''} {...rest} onLoad={() => handleLoaded()} onError={() => handleLoaded()} />\n      {isLoading && <Placeholder />}\n    </LazyImageWrapper>\n  )\n}\n\nexport default LazyImage\n","import styled from 'styled-components'\nimport { Card as SCard, Button as SButton } from 'semantic-ui-react'\nimport PlaceholderAudio from './PlaceholderAudio.png'\nimport PlaceholderVideo from './PlaceholderVideo.png'\n\nexport const Card = styled(SCard)`\n  cursor: pointer;\n  max-width: 329px;\n  max-height: 340px;\n  &:hover {\n    box-shadow: 0 2px 6px 0 #bcbdbd, 0 0 0 2px #d4d4d5;\n  }\n  & > .lazyImage > .image > img {\n    object-fit: contain;\n    width: 100%;\n    height: 200px;\n    background-color: black;\n    position: relative;\n  }\n\n  & > .lazyImage > .image > img::after {\n    content: ' ';\n    background-size: cover;\n    background-position: center;\n    background-repeat: no-repeat;\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    z-index: 2;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n\n  & > .lazyImage > .ui.image.video > img::after {\n    background-image: url(${PlaceholderVideo});\n  }\n\n  & > .lazyImage > .ui.image.audio > img::after {\n    background-image: url(${PlaceholderAudio});\n  }\n`\n\nexport const Description = styled(SCard.Description)`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2; /* number of lines to show */\n  -webkit-box-orient: vertical;\n  height: 3em;\n`\n\nexport const TextBasicEllipsis = styled(SCard.Meta)`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  min-height: 1.358em;\n`\nexport const Extra = styled.div`\n  margin-top: 0.5em;\n  margin-bottom: 0.5em;\n  height: 1em;\n  display: flex;\n  align-items: center;\n  & > .icon.audio,\n  & > .icon.video {\n    margin-right: 1rem;\n  }\n  & > .avatar {\n    min-width: 24px;\n    margin-right: 0.8rem;\n  }\n  & > span {\n    flex: 1;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-right: 0.8rem;\n  }\n`\n\nexport const Actions = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: end;\n  line-height: 24px;\n`\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAApQAAAGQCAYAAAAQtvC3AAAUZklEQVR4Xu3dzYte133A8dkUClkUuixZFoNJcduF6a40tNvSlXFN/wJXXWZlnL8gdhaxMZVpbNlNZSepJBunEFBtqBYuXlg2lNYU4lGhhiZ2cDSakTSWPPN0ztXc0Z3zvMzLb5773HvO5wcfZM/MnRk9R4sv5748a2s/uDUBAIBT2l2b8UEAADguQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJcA837p0Z3Lu2vbkyqdfT25s7E5ubk+qmfR3vf7FTvN3f/aDe81rkb8+APsEJcAh5zebgKopHo87NzZ2Jv/wyf3J2qtb068bUDNBCdDYC8nnP76XN5SZM8IS6BCUAOm0th3Jk8/6xs7kyat3p15PoDqCEqibXcn4fG/vNcxfV6AqghKo1PnNyXuf7eRtZE45H36x07ym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gl3KVVl7dWt6PQDKISihKk599y695lPrAFAWQQm1+eZPRWVfHrnkMUFAFQQlVOfFW837Sefxw9n6vZ/c3nutXTcJVEFQQrWc/l4ap7mByghKqNorW80dyHkQcTrpTvp089PU6wxQNkEJ1UuPs7koKqOaXUmnuIE6CUpg335Y2rE8vmZH8nUhCVRPUAIzvLzZhNJv//j25Pf/+baHor/zIB7/8PKd5jVZe23rwWuUv24AdRKUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQIigBAAgRFACABAiKAEACBGUAACECEoAAEIEJQAAIYISAIAQQQkAQEgTlLsAAHBKO/8PJUWJ1GKgu+gAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","import { Resolutions, VideoDetails } from '@root/types'\n\ninterface iUserStoryPreview {\n  video?: VideoDetails\n  defaultRes?: Resolutions\n}\n\ntype PlaySource = {\n  id: string\n  bitrate?: number\n  duration?: number\n  format?: string\n  height?: number\n  src: string\n  size?: number\n  width?: number\n  label: Resolutions\n  selected: boolean\n  type: 'video/mp4'\n}\n\nconst sortByRes = (a: any, b: any) => {\n  const aNumber = parseInt(a.replace('p', ''))\n  const bNumber = parseInt(b.replace('p', ''))\n  if (aNumber > bNumber) {\n    return -1\n  }\n  if (bNumber > aNumber) {\n    return 1\n  }\n  return 0\n}\n\nexport const useStoryPreview = ({\n  video,\n  defaultRes\n}: iUserStoryPreview): Partial<{ preview: string; autoGeneratedCover: string; sources: PlaySource[] }> => {\n  if (!video) return {}\n  const { thumbnails, alternatives, gifs } = video\n\n  const getThumbnail = (index = 0): string => {\n    const thumbnail = thumbnails[Object.keys(thumbnails).sort(sortByRes)[0] as Resolutions]\n    if (!thumbnail?.length) return getThumbnail(index + 1)\n    if (thumbnail[0].id) {\n      return thumbnail[0].url\n    }\n    return getThumbnail(index + 1)\n  }\n\n  const getGif = (index = 0): string => {\n    const gif = gifs[Object.keys(gifs).sort(sortByRes)[0] as Resolutions]\n    if (!gif?.length) return getThumbnail(index + 1)\n    if (gif[0].id) {\n      return gif[0].url\n    }\n    return getGif(index + 1)\n  }\n\n  return {\n    preview: Object.keys(gifs).length ? getGif() : undefined,\n    autoGeneratedCover: Object.keys(thumbnails).length ? getThumbnail() : undefined\n  }\n}\n","import React, { ReactNode, useState } from 'react'\nimport { Icon, SemanticICONS } from 'semantic-ui-react'\nimport LazyImage from '../LazyImage'\nimport { Card, Extra, Actions, Description, TextBasicEllipsis } from './style'\nimport Avatar from '@root/components/suport/Avatar'\nimport { StoryType } from '@root/types'\nimport { useStoryPreview } from '@root/hooks/useStoryPreview'\n\ninterface iStoryCard {\n  story: StoryType\n  actions?: ReactNode\n  showAutor?: boolean\n  onClick?: () => void\n}\n\nconst StorieCard: React.FC<iStoryCard> = ({ onClick, showAutor = true, story, actions }) => {\n  const { video, owner, type } = story\n  const { preview } = useStoryPreview({ video })\n  const [hover, setHover] = useState<boolean>(false)\n\n  let iconType = 'file'\n  if (type) iconType += ` ${type?.toLowerCase()}`\n  iconType += ' outline'\n\n  const cardProps = {\n    onClick\n  }\n\n  const name = `${owner.firstName.charAt(0).toUpperCase() + owner.firstName.slice(1)} ${\n    owner.lastName.charAt(0).toUpperCase() + owner.lastName.slice(1)\n  }`\n\n  return (\n    <Card\n      fluid\n      as=\"div\"\n      className=\"ui fluid card\"\n      {...cardProps}\n      onMouseEnter={() => setHover(true)}\n      onMouseLeave={() => setHover(false)}\n    >\n      <LazyImage\n        className={`${story.type?.toLowerCase()}`}\n        src={hover ? preview : story.thumbnail}\n        wrapped\n        rounded={false}\n      />\n\n      <Card.Content>\n        <Card.Header as={TextBasicEllipsis}>{story.title}</Card.Header>\n        <Card.Meta as={TextBasicEllipsis}>{story.collections[0]?.title}</Card.Meta>\n        <Description>{story.description}</Description>\n        <Extra>\n          <Icon size=\"large\" name={iconType as SemanticICONS} />\n          {showAutor ? (\n            <>\n              <Avatar name={name} picture={owner.picture?.thumbnail} />\n              <span>{name}</span>\n            </>\n          ) : (\n            <>\n              <span>{`Status: ${!story.ready ? 'Processing Video' : story.published ? 'Published' : 'Draft'}`}</span>\n              {actions && <Actions>{actions}</Actions>}\n            </>\n          )}\n        </Extra>\n      </Card.Content>\n    </Card>\n  )\n}\n\nexport default StorieCard\n","// copy from https://github.com/onderonur/react-infinite-scroll-hook\nimport { useEffect } from 'react'\nimport {\n  useTrackVisibility,\n  IntersectionObserverHookArgs,\n  IntersectionObserverHookRefCallback,\n  IntersectionObserverHookRootRefCallback\n} from 'react-intersection-observer-hook'\n\nconst DEFAULT_DELAY_IN_MS = 100\n\nexport type UseInfiniteScrollHookResult = [\n  IntersectionObserverHookRefCallback,\n  { rootRef: IntersectionObserverHookRootRefCallback }\n]\n\nexport type UseInfiniteScrollHookArgs = Pick<\n  IntersectionObserverHookArgs,\n  // We pass this to 'IntersectionObserver'. We can use it to configure when to trigger 'onLoadMore'.\n  'rootMargin'\n> & {\n  // Some sort of \"is fetching\" info of the request.\n  loading: boolean\n  // If the list has more items to load.\n  hasNextPage: boolean\n  // The callback function to execute when the 'onLoadMore' is triggered.\n  // eslint-disable-next-line no-undef\n  onLoadMore: VoidFunction\n  // Flag to stop infinite scrolling. Can be used in case of an error etc too.\n  disabled?: boolean\n  // How long it should wait before triggering 'onLoadMore'.\n  delayInMs?: number\n}\n\nfunction useInfiniteScroll({\n  loading,\n  hasNextPage,\n  onLoadMore,\n  rootMargin,\n  disabled,\n  delayInMs = DEFAULT_DELAY_IN_MS\n}: UseInfiniteScrollHookArgs): UseInfiniteScrollHookResult {\n  const [ref, { rootRef, isVisible }] = useTrackVisibility({\n    rootMargin\n  })\n\n  const shouldLoadMore = !disabled && !loading && isVisible && hasNextPage\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if (shouldLoadMore) {\n      // When we trigger 'onLoadMore' and new items are added to the list,\n      // right before they become rendered on the screen, 'loading' becomes false\n      // and 'isVisible' can be true for a brief time, based on the scroll position.\n      // So, it triggers 'onLoadMore' just after the first one is finished.\n      // We use a small delay here to prevent this kind of situations.\n      // It can be configured by hook args.\n      const timer = setTimeout(() => {\n        onLoadMore()\n      }, delayInMs)\n      return () => {\n        clearTimeout(timer)\n      }\n    }\n  }, [onLoadMore, shouldLoadMore, delayInMs])\n\n  return [ref, { rootRef }]\n}\n\nexport default useInfiniteScroll\n","import { Dispatch, SetStateAction, useState } from 'react'\nimport { Pageable } from '@root/types'\n\nexport interface Item {\n  key: number\n  value: string\n}\n\nexport const usePageableRequest = <T>({\n  size,\n  request\n}: {\n  size: number\n  request: (page: number, size: number, q?: string) => Promise<Pageable<T>>\n}): {\n  loading: boolean\n  items: T[]\n  hasNextPage: boolean\n  error: Error | undefined\n  loadMore: (q?: string) => void\n  reload: (q?: string) => void\n  setItems: Dispatch<SetStateAction<T[]>>\n} => {\n  const [loading, setLoading] = useState(false)\n  const [items, setItems] = useState<T[]>([])\n  const [hasNextPage, setHasNextPage] = useState<boolean>(true)\n  const [error, setError] = useState<Error | undefined>()\n  const [page, setPage] = useState<number>(0)\n\n  async function reload(q?: string) {\n    setLoading(true)\n    try {\n      const { content, last } = await request(0, size, q)\n      setPage(0)\n      setItems(content)\n      setHasNextPage(!last)\n    } catch (err) {\n      setError(err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  async function loadMore(q?: string) {\n    setLoading(true)\n    try {\n      const { content, last } = await request(page, size, q)\n      setPage(page + 1)\n      setItems(current => [...current, ...content])\n      setHasNextPage(!last)\n    } catch (err) {\n      setError(err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return { loading, items, hasNextPage, error, loadMore, reload, setItems }\n}\n","import styled from 'styled-components'\n\nexport const ContentArea = styled.div`\n  height: calc(100vh - 61px);\n  overflow: auto;\n`\n\nexport const Layout = styled.div`\n  padding: 24px;\n`\n","import React from 'react'\nimport { Loader, Dimmer } from 'semantic-ui-react'\nimport { ImageProps } from 'semantic-ui-react/dist/commonjs/elements/Image/Image'\n\ninterface iLoadingArea extends ImageProps {\n  isLoading?: boolean\n  progress?: number\n  message?: string\n}\n\nconst LoadingArea: React.FC<iLoadingArea> = ({ isLoading, message, children, progress }) => {\n  return (\n    <>\n      {isLoading && (\n        <Dimmer inverted active={isLoading}>\n          <Loader>\n            {!isLoading && 'Loading...'}\n            {progress !== undefined && `${progress}%`}\n            {message && (\n              <>\n                <br />\n                {message}\n              </>\n            )}\n          </Loader>\n        </Dimmer>\n      )}\n      {!isLoading && children}\n    </>\n  )\n}\n\nexport default LoadingArea\n","import React, { useEffect } from 'react'\nimport { Header, Grid } from 'semantic-ui-react'\nimport { RouteComponentProps, useLocation } from 'react-router-dom'\nimport StoryCard from '@root/components/suport/StoryCard'\nimport useInfiniteScroll from '@root/hooks/useInfiniteScroll'\nimport { usePageableRequest } from '@root/hooks/usePageableRequest'\nimport { ContentArea, Layout } from '../style'\nimport LoadingArea from '@root/components/suport/LoadingArea'\nimport { StoryType } from '@root/types'\nimport { api } from '@root/api'\nimport { parse } from 'qs'\n\nconst Home: React.FC<RouteComponentProps> = ({ history }) => {\n  const { search } = useLocation()\n  const parsedQs = parse(search, { ignoreQueryPrefix: true })\n  const { q } = parsedQs\n\n  const { loading, items, hasNextPage, error, loadMore, reload } = usePageableRequest<StoryType>({\n    size: 15,\n    request: api.search\n  })\n\n  useEffect(() => {\n    reload(q as string | undefined)\n  }, [q])\n\n  const [sentryRef] = useInfiniteScroll({\n    loading,\n    hasNextPage,\n    onLoadMore: () => loadMore(q as string | undefined),\n    disabled: !!error,\n    rootMargin: '0px 0px 400px 0px'\n  })\n\n  return (\n    <ContentArea>\n      <Layout>\n        <Header as=\"h1\">Home</Header>\n        <Grid>\n          {items.map(story => {\n            return (\n              <Grid.Column key={story.id} tablet={8} mobile={16} widescreen={4} computer={8} largeScreen={4}>\n                <StoryCard story={story} onClick={() => history.push(`/a/stories/${story.id}`)} />\n              </Grid.Column>\n            )\n          })}\n          <div ref={sentryRef}>\n            <LoadingArea />\n          </div>\n        </Grid>\n      </Layout>\n    </ContentArea>\n  )\n}\n\nexport default Home\n","import styled from 'styled-components'\n\nexport const ContentBox = styled.div`\n  width: 100%;\n  height: calc(100vh - 240px);\n  overflow: auto;\n`\n","import React from 'react'\nimport { Menu as SMenu, Dropdown } from 'semantic-ui-react'\nimport { useRecoilValue } from 'recoil'\nimport { mediaQueryState } from '@root/states/mediaQueryState'\n\ninterface iMenu {\n  tab: string\n  onChange: (name: string) => void\n}\n\nconst Menu: React.FC<iMenu> = ({ tab, onChange }) => {\n  const { isMobile, isTablet } = useRecoilValue(mediaQueryState)\n  if (isTablet || isMobile) {\n    return (\n      <SMenu vertical>\n        <Dropdown item text={tab}>\n          <Dropdown.Menu>\n            <Dropdown.Item onClick={() => onChange('general')}>General</Dropdown.Item>\n            <Dropdown.Item onClick={() => onChange('change-password')}>Change password</Dropdown.Item>\n          </Dropdown.Menu>\n        </Dropdown>\n      </SMenu>\n    )\n  }\n  return (\n    <SMenu pointing={true} stackable secondary>\n      <SMenu.Item name=\"General\" active={tab === 'general'} onClick={() => onChange('general')} />\n      <SMenu.Item\n        name=\"Change password\"\n        active={tab === 'change-password'}\n        onClick={() => onChange('change-password')}\n      />\n    </SMenu>\n  )\n}\n\nexport default Menu\n","import * as yup from 'yup'\n\nexport default yup.object().shape({\n  password: yup.string().required(),\n  newPassword: yup\n    .string()\n    .required('new password is a required field.')\n    .min(8, 'Password is too short - should be 8 chars minimum.')\n    .matches(/[a-zA-Z]/, 'Password can onlsy contain Latin letters.'),\n  confirmation: yup\n    .string()\n    .oneOf([yup.ref('newPassword'), null], 'new passwords must match')\n    .required('confirm new password is a required field.')\n})\n","import styled from 'styled-components'\n\nexport const Layout = styled.div`\n  display: flex;\n  flex-flow: column;\n  width: 400px;\n  @media only screen and (max-width: 1024px) {\n    width: unset;\n  }\n`\n","import React, { useState } from 'react'\nimport { Button, Header } from 'semantic-ui-react'\nimport { useHistory } from 'react-router-dom'\nimport { Form, Formik } from 'formik'\nimport schema from './schema'\nimport { Input } from '@root/components/suport/FormFields'\nimport { PasswordChangeForm } from '@root/types'\nimport { api } from '@root/api'\nimport { useSetRecoilState } from 'recoil'\nimport { basicModalState } from '@root/components/modals/BasicModal'\nimport { Layout } from './style'\n\nconst ChangePassword: React.FC = () => {\n  const history = useHistory()\n  const [errorMessage, setErrorMessage] = useState<string | undefined>(undefined)\n  const setBasicModalState = useSetRecoilState(basicModalState)\n\n  const handleSubmit = async ({ newPassword, confirmation, password }: PasswordChangeForm) => {\n    try {\n      await api.passwordChange({ password, newPassword, confirmation })\n      localStorage.removeItem('token')\n      history.push('/u/login')\n      setBasicModalState({\n        open: true,\n        title: 'Password changed',\n        content: <>Your password has been changed.</>\n      })\n    } catch (error) {\n      if (error.response.data.code === '1004') {\n        setErrorMessage('Wrong password! please try again.')\n        return\n      }\n      setErrorMessage('Something was wrong! please try again.')\n    }\n  }\n\n  return (\n    <Layout>\n      <div\n        style={{\n          padding: '16px 0px 32px'\n        }}\n      >\n        <Header as=\"h4\" color=\"black\" textAlign=\"left\">\n          We suggest you use 8 or more characters with a mix of letters, numbers for the most secure password:\n        </Header>\n      </div>\n      <Formik\n        initialValues={{ newPassword: '', confirmation: '', password: '' }}\n        validationSchema={schema}\n        onSubmit={handleSubmit}\n      >\n        {({ isSubmitting }) => (\n          <Form>\n            <Input name=\"password\" placeholder=\"Your password\" type=\"password\" errorMessage={errorMessage} />\n            <Input name=\"newPassword\" placeholder=\"New password\" type=\"password\" errorMessage={errorMessage} />\n            <Input name=\"confirmation\" placeholder=\"Confirm new password\" type=\"password\" errorMessage={errorMessage} />\n            <Button basic color=\"blue\" fluid size=\"large\" loading={isSubmitting} type=\"submit\">\n              Change\n            </Button>\n          </Form>\n        )}\n      </Formik>\n    </Layout>\n  )\n}\n\nexport default ChangePassword\n","import * as yup from 'yup'\n\nexport default yup.object().shape({\n  firstName: yup.string().required(),\n  lastName: yup.string().required()\n})\n","import styled from 'styled-components'\nimport { Button } from 'semantic-ui-react'\n\nexport const ButtonUpload = styled(Button)`\n  &.button,\n  &.ui.basic.button {\n    box-shadow: unset !important;\n    margin: 8px 0px 8px -21px;\n  }\n  &.ui.basic.button:focus {\n    box-shadow: unset !important;\n  }\n  &.ui.basic.button:active {\n    box-shadow: unset !important;\n    background-color: unset;\n  }\n  &.ui.basic.button:hover {\n    box-shadow: unset !important;\n  }\n`\n\nexport const AdvisorWrapper = styled.div`\n  margin: 10px 0px 10px 0px;\n`\n","import CAvatar from '@root/components/suport/Avatar'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { api } from '@root/api'\nimport { ImageType } from '@root/types'\nimport { useRecoilValue } from 'recoil'\nimport { mediaStatusState } from '@root/states/mediaStatusState'\nimport { ButtonUpload, AdvisorWrapper } from './style'\nimport { Progress } from 'semantic-ui-react'\nimport { toast } from 'react-semantic-toasts'\n\ninterface iUploadAvatar {\n  name: string\n  size?: 'small' | 'medium' | 'large'\n  defaultPicture: ImageType | null\n  onChange: (id: string | null) => void\n}\nconst UploadAvatar: React.FC<iUploadAvatar> = ({ name, defaultPicture, onChange }) => {\n  const inputRef = useRef<HTMLInputElement>(null)\n  const [avatarProgress, setAvatarProgress] = useState<{ progress: number; label: string } | null>(null)\n  const mediaStatus = useRecoilValue(mediaStatusState)\n  const [picture, setPicture] = useState<ImageType | null>(defaultPicture)\n\n  useEffect(() => {\n    const id = picture?.id || ''\n    if (!mediaStatus[id]) return\n    const { payload, finished, progress } = mediaStatus[id]\n    setAvatarProgress({ progress, label: 'Processing...' })\n    if (finished) {\n      setAvatarProgress(null)\n      setPicture(value => {\n        return {\n          ...value,\n          ...payload\n        }\n      })\n    }\n  }, [mediaStatus])\n\n  const handleFileSelectClick = () => {\n    inputRef?.current?.click()\n  }\n\n  const handleSelected = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (!event.target.files?.length) return\n    const file: File = event.target.files[0]\n    try {\n      const picture = await api.uploadImage(file, ({ loaded, total }) => {\n        const progress = Math.round((loaded * 100) / total)\n        setAvatarProgress({ progress, label: 'Uploading...' })\n      })\n      setPicture(picture)\n      onChange(picture.id)\n    } catch (error) {\n      toast({\n        type: 'error',\n        title: error.response.data.message,\n        time: 3000,\n        description: `Error: ${error.response.data.code}`\n      })\n    }\n  }\n\n  const handleRemove = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    setPicture(null)\n    onChange(null)\n  }\n\n  return (\n    <>\n      <CAvatar name={name} size=\"large\" picture={picture?.thumbnail} />\n      <input ref={inputRef} type=\"file\" hidden={true} onChange={handleSelected} accept={'image/png, image/jpeg'} />\n      {avatarProgress !== null && (\n        <AdvisorWrapper>\n          <Progress\n            color=\"blue\"\n            progress\n            percent={avatarProgress.progress || 0}\n            label={avatarProgress.label || ''}\n            size=\"small\"\n          />\n        </AdvisorWrapper>\n      )}\n      {avatarProgress === null &&\n        (!picture?.thumbnail ? (\n          <ButtonUpload onClick={handleFileSelectClick} basic primary>\n            Upload new picture\n          </ButtonUpload>\n        ) : (\n          <ButtonUpload onClick={handleRemove} basic primary>\n            Remove picture\n          </ButtonUpload>\n        ))}\n    </>\n  )\n}\n\nexport default UploadAvatar\n","import styled from 'styled-components'\n\nexport const Layout = styled.div`\n  display: flex;\n  flex-flow: column;\n  width: 400px;\n  @media only screen and (max-width: 1024px) {\n    width: unset;\n  }\n`\n","import React, { useEffect, useState } from 'react'\nimport schema from './schema'\nimport { Button, Header } from 'semantic-ui-react'\nimport UploadAvatar from '@root/components/suport/UploadAvatar'\nimport { Input, TextArea } from '@root/components/suport/FormFields'\nimport { Formik } from 'formik'\nimport { useRecoilState } from 'recoil'\nimport { userState } from '@root/states/userState'\nimport { Layout } from './style'\nimport { api } from '@root/api'\nimport { toast } from 'react-semantic-toasts'\n\ninterface iformikValues {\n  firstName: string\n  lastName: string\n  pictureId?: string\n  about?: string\n  location?: string\n}\n\nconst General: React.FC = () => {\n  const [user, setUser] = useRecoilState(userState)\n  const [pictureId, setPictureId] = useState<string | null>(user?.picture?.id || null)\n  const [initialValues, setInitialValues] = useState<iformikValues>({\n    firstName: user?.firstName || '',\n    lastName: user?.lastName || '',\n    about: user?.about || '',\n    location: user?.location || ''\n  })\n\n  const submit = async (values: iformikValues) => {\n    try {\n      const { firstName, lastName, about = '', location = '' } = values\n      const result = await api.updateMe({ firstName, lastName, about, location, pictureId })\n      setUser(result)\n      toast({\n        type: 'success',\n        title: 'Saved',\n        time: 3000\n      })\n    } catch (error) {\n      toast({\n        type: 'error',\n        title: error.response.data.message,\n        time: 3000,\n        description: `Error: ${error.response.data.code}`\n      })\n    }\n  }\n\n  useEffect(() => {\n    setInitialValues({\n      firstName: user?.firstName || '',\n      lastName: user?.lastName || '',\n      about: user?.about || '',\n      location: user?.location || ''\n    })\n  }, [user])\n\n  const handleUploadPictureChange = (pictureId: string | null) => {\n    setPictureId(pictureId)\n  }\n\n  return (\n    <Layout>\n      <Formik initialValues={initialValues} validationSchema={schema} onSubmit={submit}>\n        {({ isSubmitting, handleSubmit, setValues, values }) => {\n          useEffect(() => {\n            setValues(initialValues)\n          }, [initialValues])\n          return (\n            <>\n              <Input\n                name=\"firstName\"\n                label=\"First name\"\n                onKeyPress={(e: React.KeyboardEvent) => {\n                  if (e.key === 'Enter') e.preventDefault()\n                }}\n              />\n              <Input\n                name=\"lastName\"\n                label=\"Last name\"\n                onKeyPress={(e: React.KeyboardEvent) => {\n                  if (e.key === 'Enter') e.preventDefault()\n                }}\n              />\n              <div>\n                <UploadAvatar\n                  name={`${values?.firstName} ${values?.lastName}` || ''}\n                  defaultPicture={user?.picture || null}\n                  onChange={handleUploadPictureChange}\n                />\n              </div>\n              <Header as=\"h4\" color=\"black\" textAlign=\"left\">\n                Let people know about you. Your profile will appear on the Information page of the stories and\n                collections you create, as well as any comments you post.\n              </Header>\n              <TextArea\n                name=\"about\"\n                label=\"About\"\n                rows={8}\n                onKeyPress={(e: React.KeyboardEvent) => {\n                  if (e.key === 'Enter') e.preventDefault()\n                }}\n              />\n              <Input\n                name=\"location\"\n                label=\"Location\"\n                onKeyPress={(e: React.KeyboardEvent) => {\n                  if (e.key === 'Enter') e.preventDefault()\n                }}\n              />\n              <Button\n                fluid\n                primary\n                disabled={isSubmitting}\n                loading={isSubmitting}\n                onClick={() => {\n                  handleSubmit()\n                }}\n              >\n                Save\n              </Button>\n            </>\n          )\n        }}\n      </Formik>\n    </Layout>\n  )\n}\n\nexport default General\n","import React, { useEffect } from 'react'\nimport { Header, Icon } from 'semantic-ui-react'\nimport { ContentArea, Layout } from '../style'\nimport { ContentBox } from './style'\nimport { Link, useLocation, useHistory } from 'react-router-dom'\nimport Menu from './Menu'\nimport { parse, stringify } from 'qs'\nimport { Location } from 'history'\nimport ChangePassword from './TabsContent/ChangePassword'\nimport General from './TabsContent/General'\n\nconst Profile: React.FC = () => {\n  const { search, pathname } = useLocation()\n  const history = useHistory()\n  const parsedQs = parse(search, { ignoreQueryPrefix: true })\n  const { tab } = parsedQs\n\n  const handleTabChange = (name: string, isToReplace?: boolean) => {\n    const search = stringify(\n      {\n        ...parsedQs,\n        tab: name\n      },\n      { addQueryPrefix: true }\n    )\n    if (isToReplace) {\n      history.replace({\n        pathname,\n        search\n      } as unknown as Location)\n      return\n    }\n    history.push({\n      pathname,\n      search\n    } as unknown as Location)\n  }\n\n  useEffect(() => {\n    if (!tab) handleTabChange('general', true)\n  }, [tab])\n\n  const stiwchRender = () => {\n    switch (tab) {\n      case 'change-password':\n        return <ChangePassword />\n      default:\n        return <General />\n    }\n  }\n\n  return (\n    <ContentArea>\n      <Layout>\n        <Link to={'/a/stories'}>\n          <Icon name=\"arrow left\" />\n          Back\n        </Link>\n        <Header as=\"h1\">Profile</Header>\n        <Menu tab={tab as string} onChange={handleTabChange} />\n        <ContentBox>{stiwchRender()}</ContentBox>\n      </Layout>\n    </ContentArea>\n  )\n}\n\nexport default Profile\n","import React, { useEffect } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { useSetRecoilState } from 'recoil'\nimport { userState } from '@root/states/userState'\nimport { api } from '@root/api'\n\nconst Signout: React.FC = () => {\n  const setUser = useSetRecoilState(userState)\n\n  useEffect(() => {\n    api.singout()\n    setUser(null)\n    localStorage.removeItem('token')\n  }, [])\n\n  return <Redirect to=\"/u/signin\" />\n}\n\nexport default Signout\n","import * as yup from 'yup'\n\nexport default yup.object().shape({\n  email: yup.string().email().required()\n})\n","import React, { useEffect, useState } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { useSetRecoilState } from 'recoil'\nimport { Dimmer, Icon, Header } from 'semantic-ui-react'\nimport { userState } from '@root/states/userState'\nimport { api } from '@root/api'\nimport { parse } from 'qs'\nimport { basicModalState } from '@root/components/modals/BasicModal'\nimport { formModalState } from '@root/components/modals/FormModal'\nimport { Form, FormikValues } from 'formik'\nimport { Input } from '@root/components/suport/FormFields'\nimport schema from './schema'\n\nconst ConfirmEmail: React.FC = ({ children }) => {\n  const setUser = useSetRecoilState(userState)\n  const history = useHistory()\n  const { search } = useLocation()\n  const { token: confirmationToken } = parse(search, { ignoreQueryPrefix: true })\n  const setBasicModalState = useSetRecoilState(basicModalState)\n  const setFormModalState = useSetRecoilState(formModalState)\n  const [showLoading, setShowLoading] = useState<boolean>(false)\n\n  const handleSubmit = async ({ email }: FormikValues) => {\n    try {\n      await api.requestConfirmEmail(email)\n      setBasicModalState({\n        open: true,\n        title: 'Confirm email',\n        content: <>We sent an email to you to confirm your account. Please check this.</>\n      })\n      history.push('/u/signin')\n    } catch (error) {\n      history.push('/u/signin')\n    }\n  }\n\n  useEffect(() => {\n    const confirm = async () => {\n      try {\n        setShowLoading(true)\n        const { user, token } = await api.confirmEmail(confirmationToken as string)\n        setShowLoading(false)\n        setUser(user)\n        localStorage.setItem('token', JSON.stringify(token))\n        setBasicModalState({\n          open: true,\n          title: 'Welcome to Rakonto!',\n          content: (\n            <>\n              Thank you for joining the world&apos;s first platform specifically designed to create, view and share your\n              most important stories. Enjoy!\n            </>\n          )\n        })\n        history.push('/a/home')\n      } catch (error) {\n        setShowLoading(false)\n        if (error.response.data.code === '1003') {\n          setFormModalState({\n            open: true,\n            title: 'Expired link',\n            type: 'warning',\n            initialValues: { email: '' },\n            validationSchema: schema,\n            isConfirmation: true,\n            onSubmit: handleSubmit,\n            content: (\n              <>\n                <div\n                  style={{\n                    marginBottom: '16px'\n                  }}\n                >\n                  This link has expired. Please enter your email address to resend another link to you to confirm your\n                  account.\n                </div>\n                <div>\n                  <Form>\n                    <Input name=\"email\" placeholder=\"Email address\" />\n                  </Form>\n                </div>\n              </>\n            )\n          })\n        }\n\n        if (error.response.data.code === '1002') {\n          setBasicModalState({\n            open: true,\n            title: 'Confirm email',\n            type: 'error',\n            content: (\n              <>\n                This token not found. <br />\n                if you have registered, please try to login to request another confirmation email.\n              </>\n            )\n          })\n          history.push('/u/signin')\n        }\n      }\n    }\n    confirm()\n  }, [])\n\n  return (\n    <>\n      {children}\n      <Dimmer active={showLoading} page>\n        <Header as=\"h2\" icon inverted>\n          <Icon name=\"spinner\" loading />\n        </Header>\n      </Dimmer>\n    </>\n  )\n}\n\nexport default ConfirmEmail\n","import { Button } from 'semantic-ui-react'\nimport styled from 'styled-components'\n\nexport const DropAreaBox = styled.div`\n  height: 50vh;\n`\n\nconst SelectFileButton = styled(Button)`\n  &.ui.button {\n    margin-top: 3em;\n    margin-bottom: 1.5em;\n  }\n`\n\nSelectFileButton.defaultProps = {\n  fluid: true,\n  size: 'massive'\n}\n\nconst HugeButton = styled(Button)`\n  &.ui.button {\n    display: flex;\n    flex-flow: column;\n    align-items: center;\n    i.icon:not(.button):not(.dropdown) {\n      margin: unset;\n      color: #4471c3;\n    }\n    h3 {\n      font-weight: 300;\n    }\n  }\n`\n\nHugeButton.defaultProps = {\n  fluid: true,\n  size: 'massive'\n}\n\nexport { HugeButton, SelectFileButton }\n","import styled, { css } from 'styled-components'\n\ninterface iDropArea {\n  isDragActive: boolean\n  isDragAccept: boolean\n  isDragReject: boolean\n}\n\nconst DropAreaWrapper = styled.div<iDropArea>`\n  text-align: center;\n  &.ui.placeholder.segment {\n    border-width: 2px;\n    border-radius: 2px;\n    ${({ isDragActive, isDragAccept, isDragReject }) => {\n      if (isDragReject) {\n        return css`\n          border-color: #ff1744;\n        `\n      }\n      if (isDragAccept) {\n        return css`\n          border-color: #00e676;\n        `\n      }\n      if (isDragActive) {\n        return css`\n          border-color: #2196f3;\n        `\n      }\n      return css`\n        border-color: #eeeeee;\n      `\n    }};\n    border-style: dashed;\n    background-color: #fafafa;\n  }\n  &.ui.placeholder .header {\n    margin: 1em;\n  }\n  &.ui.placeholder .header:not(:first-child):before {\n    content: unset;\n  }\n  &.ui.placeholder button {\n    margin-top: 1em;\n  }\n  height: 100%;\n  width: 100%;\n`\n\nDropAreaWrapper.defaultProps = {\n  className: 'ui placeholder segment'\n}\n\nexport { DropAreaWrapper }\n","import React from 'react'\nimport { DropEvent, FileRejection, useDropzone } from 'react-dropzone'\nimport { DropAreaWrapper } from './style'\nimport { Button, Header, Icon } from 'semantic-ui-react'\nimport LoadingArea from '@root/components/suport/LoadingArea'\n\ninterface iDropArea {\n  handleDrop: <T extends File>(acceptedFiles: T[], fileRejections: FileRejection[], event: DropEvent) => void\n  isUploading: boolean\n  progress: number\n}\n\nconst DropArea: React.FC<iDropArea> = ({ handleDrop, isUploading, progress }) => {\n  const { open, getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject } = useDropzone({\n    accept: ['audio/*', 'video/*'],\n    noClick: true,\n    noKeyboard: true,\n    onDrop: handleDrop\n  })\n\n  return (\n    <DropAreaWrapper\n      {...getRootProps()}\n      isDragActive={isDragActive}\n      isDragAccept={isDragAccept}\n      isDragReject={isDragReject}\n    >\n      <input {...getInputProps()} />\n      {isUploading && (\n        <LoadingArea\n          progress={progress !== 100 ? progress : undefined}\n          message={progress === 100 ? 'Processing...' : ''}\n          isLoading={isUploading}\n        />\n      )}\n      {!isUploading && (\n        <>\n          <Header icon>\n            <Icon name=\"upload\" />\n            Drag and drop your video, audio files to upload\n          </Header>\n          <Header>or</Header>\n          <Button primary onClick={open}>\n            Select file\n          </Button>\n        </>\n      )}\n    </DropAreaWrapper>\n  )\n}\n\nexport default DropArea\n","import { useState } from 'react'\nimport { api } from '@root/api'\nimport { useHistory } from 'react-router-dom'\nimport { toast } from 'react-semantic-toasts'\n\nexport interface Item {\n  key: number\n  value: string\n}\n\nexport const useCreateStory = (): { createStory: (file: File) => void; progress: number; isUploading: boolean } => {\n  const history = useHistory()\n  const [progress, setProgress] = useState<number>(0)\n  const [isUploading, setIsUploading] = useState<boolean>(false)\n\n  const createStory = async (file: File) => {\n    setIsUploading(true)\n    try {\n      const { id } = await api.createStory(file, event => {\n        const progress = Math.round((event.loaded * 100) / event.total)\n        setProgress(progress)\n      })\n      history.push(`/a/stories/${id}/edit`)\n    } catch (error) {\n      console.log(error)\n      toast({\n        type: 'error',\n        title: error.response.data.message,\n        time: 3000,\n        description: `Error: ${error.response.data.code}`\n      })\n    } finally {\n      setProgress(100)\n      setIsUploading(false)\n    }\n  }\n\n  return { createStory, progress, isUploading }\n}\n","import React from 'react'\nimport { Grid, Icon } from 'semantic-ui-react'\nimport { SelectFileButton, DropAreaBox, HugeButton } from './style'\nimport { mediaQueryState } from '@root/states/mediaQueryState'\nimport DropArea from './DropArea'\nimport { useRecoilValue } from 'recoil'\nimport { useCreateStory } from '@root/hooks/useCreateStory'\nimport { Link, useHistory } from 'react-router-dom'\nimport { ContentArea, Layout } from '../style'\n\nconst Index: React.FC = () => {\n  const history = useHistory()\n  const { isMobile } = useRecoilValue(mediaQueryState)\n  const { createStory, progress, isUploading } = useCreateStory()\n\n  const handleDrop = async (acceptedFiles: File[]) => {\n    await createStory(acceptedFiles[0])\n  }\n\n  return (\n    <ContentArea>\n      <Layout>\n        <Link to={'/a/stories'}>\n          <Icon name=\"arrow left\" />\n          Back\n        </Link>\n        <Grid centered stackable>\n          <Grid.Column width={10}>\n            {!isMobile ? (\n              <DropAreaBox>\n                <DropArea isUploading={isUploading} progress={progress} handleDrop={handleDrop} />\n              </DropAreaBox>\n            ) : (\n              <>\n                <SelectFileButton primary basic fluid size=\"big\" onClick={open}>\n                  Select file\n                </SelectFileButton>\n              </>\n            )}\n          </Grid.Column>\n          <Grid.Row>\n            <Grid.Column width={5}>\n              <HugeButton disabled={isUploading} onClick={() => history.push('/a/stories/record/video')}>\n                <Icon name=\"video\" size=\"big\" />\n                <h3>Record your video</h3>\n              </HugeButton>\n            </Grid.Column>\n            <Grid.Column width={5}>\n              <HugeButton disabled={isUploading} onClick={() => history.push('/a/stories/record/audio')}>\n                <Icon name=\"microphone\" size=\"big\" />\n                <h3>Record your audio</h3>\n              </HugeButton>\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n      </Layout>\n    </ContentArea>\n  )\n}\n\nexport default Index\n","import styled from 'styled-components'\nimport { ContentArea as SContentArea } from '../style'\nimport { Item, Menu as SMenu } from 'semantic-ui-react'\n\nexport const Menu = styled(SMenu)`\n  margin: unset !important;\n  @media only screen and (max-width: 767px) {\n    margin: 1em !important;\n  }\n`\n\nexport const PreviewBox = styled.div`\n  background-color: black;\n  & > div {\n    max-height: 720px;\n    max-width: 1280px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n`\n\nexport const ContentBox = styled.div`\n  display: flex;\n  flex-flow: row;\n  min-height: 65vh;\n  @media only screen and (max-width: 1024px) {\n    flex-flow: column;\n  }\n`\n\nexport const VideosArea = styled.div`\n  background-color: #f8f8f8;\n  flex-flow: row;\n  min-width: 650px;\n  padding: 24px 16px;\n  @media only screen and (max-width: 1024px) {\n    flex: 1;\n    width: unset;\n  }\n`\n\nexport const Content = styled.div`\n  padding: 24px 16px;\n  width: auto;\n  flex: 1;\n`\n\nexport const ContentArea = styled(SContentArea)`\n  overflow: auto;\n`\n\nexport const StoryItem = styled(Item)`\n  &.item {\n    border: 1px solid #e0e1e2 !important;\n    max-height: 200px;\n    min-width: 700px;\n  }\n  &.item > .content {\n    padding: 16px 0px 16px 14px !important;\n    background-color: white !important;\n    & > .description {\n      max-width: fit-content;\n      -webkit-line-clamp: 5;\n      -webkit-box-orient: vertical;\n      display: -webkit-box;\n      overflow: hidden;\n      margin-right: 24px;\n      height: 100px;\n    }\n    & > .description {\n    }\n    & > .meta {\n      display: flex;\n      align-items: center;\n    }\n  }\n  &.item > .lazyImage {\n    background-color: #000000;\n    height: 200px;\n    width: 352px;\n    & > .ui.image img {\n      margin-left: auto;\n      margin-right: auto;\n      max-width: inherit;\n      height: inherit;\n    }\n  }\n\n  @media only screen and (max-width: 1024px) {\n    &.item {\n      height: unset;\n      min-width: unset;\n    }\n  }\n\n  @media only screen and (max-width: 767px) {\n    &.item > .lazyImage {\n      height: unset;\n      width: unset;\n    }\n  }\n`\n","import React from 'react'\nimport { Dropdown } from 'semantic-ui-react'\nimport { useRecoilValue } from 'recoil'\nimport { mediaQueryState } from '@root/states/mediaQueryState'\nimport { Menu as SMenu } from './style'\n\ninterface iMenu {\n  tab: string\n  onChange: (name: string) => void\n  showMenu: {\n    transcript: boolean\n    people: boolean\n    places: boolean\n    timeline: boolean\n    gallery: boolean\n    files: boolean\n    links: boolean\n  }\n}\n\nconst Menu: React.FC<iMenu> = ({ tab, showMenu, onChange }) => {\n  const { isMobile, isTablet } = useRecoilValue(mediaQueryState)\n\n  if (isTablet || isMobile) {\n    return (\n      <SMenu vertical>\n        <Dropdown item text={tab}>\n          <Dropdown.Menu>\n            <Dropdown.Item onClick={() => onChange('information')}>Information</Dropdown.Item>\n            {showMenu.transcript && <Dropdown.Item onClick={() => onChange('transcript')}>Transcript</Dropdown.Item>}\n            {showMenu.people && <Dropdown.Item onClick={() => onChange('people')}>People</Dropdown.Item>}\n            {showMenu.places && <Dropdown.Item onClick={() => onChange('places')}>Places</Dropdown.Item>}\n            {showMenu.timeline && <Dropdown.Item onClick={() => onChange('timeline')}>Timeline</Dropdown.Item>}\n            {showMenu.gallery && <Dropdown.Item onClick={() => onChange('gallery')}>Gallery</Dropdown.Item>}\n            {showMenu.files && <Dropdown.Item onClick={() => onChange('files')}>Files</Dropdown.Item>}\n            {showMenu.links && <Dropdown.Item onClick={() => onChange('links')}>Links</Dropdown.Item>}\n          </Dropdown.Menu>\n        </Dropdown>\n      </SMenu>\n    )\n  }\n  return (\n    <SMenu pointing={true} stackable secondary>\n      <SMenu.Item name=\"Information\" active={tab === 'information'} onClick={() => onChange('information')} />\n      {showMenu.transcript && (\n        <SMenu.Item name=\"Transcript\" active={tab === 'transcript'} onClick={() => onChange('transcript')} />\n      )}\n      {showMenu.people && <SMenu.Item name=\"People\" active={tab === 'people'} onClick={() => onChange('people')} />}\n      {showMenu.places && <SMenu.Item name=\"Places\" active={tab === 'places'} onClick={() => onChange('places')} />}\n      {showMenu.timeline && (\n        <SMenu.Item name=\"Timeline\" active={tab === 'timeline'} onClick={() => onChange('timeline')} />\n      )}\n      {showMenu.gallery && <SMenu.Item name=\"Gallery\" active={tab === 'gallery'} onClick={() => onChange('gallery')} />}\n      {showMenu.files && <SMenu.Item name=\"Files\" active={tab === 'files'} onClick={() => onChange('files')} />}\n      {showMenu.links && <SMenu.Item name=\"Links\" active={tab === 'links'} onClick={() => onChange('links')} />}\n    </SMenu>\n  )\n}\n\nexport default Menu\n","import styled, { css } from 'styled-components'\n\nexport const Video = styled.video<{ preview?: string }>`\n  ${props => {\n    if (props.preview)\n      return css`\n        & > div.vjs-poster:hover {\n          background-image: url(${props.preview}) !important;\n        }\n      `\n  }}\n`\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport React from 'react'\n\nimport { Video } from './style'\nimport 'video.js/dist/video-js.css'\nimport '@silvermine/videojs-quality-selector/dist/css/quality-selector.css'\n\nimport videojs, { VideoJsPlayer, VideoJsPlayerOptions } from 'video.js'\nimport videojsQualitySelector from '@silvermine/videojs-quality-selector'\nvideojsQualitySelector(videojs)\n\ninterface iVideoJs {\n  options: VideoJsPlayerOptions\n  onReady?: any\n  type: 'audio' | 'video'\n  preview?: string\n}\n\nexport const VideoJS: React.FC<iVideoJs> = ({ options, onReady, type, preview }) => {\n  const videoRef = React.useRef(null)\n  const playerRef = React.useRef<VideoJsPlayer | null>(null)\n\n  React.useEffect(() => {\n    // make sure Video.js player is only initialized once\n    if (!playerRef.current) {\n      const videoElement = videoRef.current\n      if (!videoElement) return\n\n      const player = (playerRef.current = videojs(videoElement, options, () => {\n        console.log('player is ready')\n        onReady && onReady(player)\n      }))\n    } else {\n      // you can update player here [update player through props]\n      // const player = playerRef.current;\n      // player.autoplay(options.autoplay);\n      // player.src(options.sources);\n    }\n  }, [options])\n\n  // Dispose the Video.js player when the functional component unmounts\n  React.useEffect(() => {\n    return () => {\n      if (playerRef.current) {\n        playerRef.current.dispose()\n        playerRef.current = null\n      }\n    }\n  }, [])\n\n  return (\n    <div data-vjs-player>\n      {type === 'video' && <Video preview={preview} ref={videoRef} className=\"video-js vjs-big-play-centered\" />}\n      {type === 'audio' && <audio ref={videoRef} className=\"video-js vjs-big-play-centered\" />}\n    </div>\n  )\n}\n\nexport default VideoJS\n","import React, { useEffect, useRef, useState } from 'react'\nimport videojs, { VideoJsPlayer, VideoJsPlayerOptions } from 'video.js'\nimport videojsQualitySelector from '@silvermine/videojs-quality-selector'\n\nimport VideoJS from '@root/components/suport/VideoJS'\n\nconst VideoJsWrapper: React.FC<{ options: VideoJsPlayerOptions; preview?: string }> = ({ options, preview }) => {\n  const _options = {\n    ...options,\n    controlBar: {\n      subtitlesButton: !!options.tracks?.length,\n      children: ['playToggle', 'progressControl', 'volumePanel', 'qualitySelector', 'fullscreenToggle']\n    }\n  }\n\n  return <VideoJS preview={preview} options={_options} type=\"video\" />\n}\n\nexport default VideoJsWrapper\n","import styled, { css } from 'styled-components'\n\nexport const Audio = styled.div`\n  position: relative;\n  & > canvas {\n    position: absolute;\n    top: 0;\n  }\n`\n","import React from 'react'\nimport { Audio } from './style'\nimport { VideoJsPlayerOptions } from 'video.js'\nimport VideoJS from '../VideoJS'\n\nconst AudioJsWrapper: React.FC<{ options: VideoJsPlayerOptions; id: string }> = ({ options, id }) => {\n  const _options = {\n    ...options\n    // plugins: {\n    //   wavesurfer: {\n    //     backend: 'MediaElement',\n    //     displayMilliseconds: false,\n    //     debug: true,\n    //     waveColor: 'grey',\n    //     progressColor: 'black',\n    //     cursorColor: 'black',\n    //     interact: true,\n    //     hideScrollbar: true\n    //   }\n    // }\n  }\n\n  return (\n    <Audio>\n      <VideoJS options={_options} type=\"audio\" />\n    </Audio>\n  )\n}\n\nexport default AudioJsWrapper\n","import React from 'react'\nimport { AudioDetails, MediaType, Resolutions, SubtitleType, VideoDetails } from '@root/types'\nimport VideoJsWrapper from './VideoJs'\nimport AudioJsWrapper from './AudioJs'\nimport { VideoJsPlayerOptions } from 'video.js'\n\ninterface iVideoPlayer {\n  media?: VideoDetails | AudioDetails\n  cover?: string\n  defaultRes?: Resolutions\n  type?: MediaType\n  subtitles: SubtitleType[]\n}\n\ntype PlaySource = {\n  id: string\n  bitrate?: number\n  duration?: number\n  format?: string\n  height?: number\n  src: string\n  size?: number\n  width?: number\n  label?: Resolutions\n  selected: boolean\n  type: 'video/mp4' | 'audio/mp3'\n}\n\nconst sortByRes = (a: any, b: any) => {\n  const aNumber = parseInt(a.replace('p', ''))\n  const bNumber = parseInt(b.replace('p', ''))\n  if (aNumber > bNumber) {\n    return -1\n  }\n  if (bNumber > aNumber) {\n    return 1\n  }\n  return 0\n}\n\nconst Player: React.FC<iVideoPlayer> = ({ subtitles, media, type, defaultRes = '720p', cover }) => {\n  const options: VideoJsPlayerOptions = {\n    poster: cover,\n    controls: true,\n    fluid: true,\n    aspectRatio: '16:9',\n    muted: false,\n    tracks: subtitles.map(subtitle => ({\n      // If develop mode need replace proxy port = subtitle.url.replace('8080', '3000')\n      src: subtitle.url,\n      srclang: subtitle.language,\n      language: subtitle.language,\n      label: subtitle.language\n    }))\n  }\n\n  if (type === 'VIDEO') {\n    const alternatives = (media as VideoDetails).alternatives\n    const gifs = (media as VideoDetails).gifs\n\n    const getGif = (index = 0): string => {\n      const gif = gifs[Object.keys(gifs).sort(sortByRes)[0] as Resolutions]\n      if (!gif?.length) return cover || ''\n      if (gif[0].id) {\n        return gif[0].url\n      }\n      return getGif(index + 1)\n    }\n\n    options.sources = Object.keys(alternatives)\n      .sort(sortByRes)\n      .reduce<PlaySource[]>((acc, key): PlaySource[] => {\n        const res = key as unknown as Resolutions\n        const alternavite = alternatives[res]\n        if (!alternavite?.length) return acc\n        acc.push({\n          id: alternavite[0].id,\n          src: alternavite[0].url,\n          bitrate: alternavite[0].info.bitRate as number,\n          duration: alternavite[0].info.duration as number,\n          height: alternavite[0].info.height as number,\n          width: alternavite[0].info.width as number,\n          label: res,\n          selected: res === defaultRes,\n          type: 'video/mp4'\n        })\n        return acc\n      }, [] as PlaySource[])\n    return <VideoJsWrapper preview={getGif()} options={options} />\n  }\n\n  if (type === 'AUDIO') {\n    const alternatives = (media as AudioDetails).alternatives\n    options.sources = alternatives.reduce<PlaySource[]>((acc, value, index): PlaySource[] => {\n      acc.push({\n        id: value.id,\n        src: value.url,\n        selected: index === 0,\n        type: 'audio/mp3'\n      })\n      return acc\n    }, [] as PlaySource[])\n    return <AudioJsWrapper id={media?.id || ''} options={options} />\n  }\n  return null\n}\n\nexport default Player\n","import styled from 'styled-components'\n\nexport const EditorBox = styled.div`\n  box-sizing: border-box;\n  border: 1px solid #ddd;\n  cursor: text;\n  padding: 16px;\n  border-radius: 2px;\n  margin-bottom: 2em;\n  box-shadow: inset 0px 1px 8px -3px #ababab;\n  background: #fefefe;\n  &:global(.public-DraftEditor-content) {\n    min-height: 140px;\n  }\n`\n","import React, { MouseEvent, ReactElement } from 'react'\nimport { MentionData, MentionPluginTheme } from '@draft-js-plugins/mention'\nimport Avatar from '@root/components/suport/Avatar'\n\nexport interface EntryComponentProps {\n  className?: string\n  onMouseDown(event: MouseEvent): void\n  onMouseUp(event: MouseEvent): void\n  onMouseEnter(event: MouseEvent): void\n  role: string\n  id: string\n  theme?: MentionPluginTheme\n  mention: MentionData\n  isFocused: boolean\n  searchValue?: string\n}\n\nconst Entry: React.FC<EntryComponentProps> = ({ mention, theme, ...parentProps }) => {\n  return (\n    <div {...parentProps}>\n      <div className={theme?.mentionSuggestionsEntryContainer}>\n        <div className={theme?.mentionSuggestionsEntryContainerLeft}>\n          <Avatar picture={mention.avatar} name={mention.name} />\n        </div>\n        <div className={theme?.mentionSuggestionsEntryContainerRight}>\n          <div className={theme?.mentionSuggestionsEntryText}>{mention.name}</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Entry\n","import React, { useCallback, useMemo, useState } from 'react'\nimport createMentionPlugin, { defaultSuggestionsFilter, MentionData } from '@draft-js-plugins/mention'\nimport mentionsStyles from './MentionsStyles.module.css'\nimport Entry from './Entry'\nimport Editor from '@draft-js-plugins/editor'\nimport { EditorState } from 'draft-js'\n\ninterface iMention {\n  mentions?: MentionData[]\n  state: EditorState\n  onChange: (state: EditorState) => void\n  readOnly?: boolean\n  ref?: React.ForwardedRef<Editor>\n}\n\nconst EditorWithMentions: React.FC<iMention> = React.forwardRef<Editor, iMention>(\n  ({ mentions, state, onChange, readOnly }, ref) => {\n    const [open, setOpen] = useState(false)\n    const [suggestions, setSuggestions] = useState(mentions || [])\n    const { MentionSuggestions, plugins } = useMemo(() => {\n      const mentionPlugin = createMentionPlugin({\n        entityMutability: 'IMMUTABLE',\n        theme: mentionsStyles,\n        mentionPrefix: '@',\n        supportWhitespace: true\n      })\n\n      const { MentionSuggestions } = mentionPlugin\n      const plugins = [mentionPlugin]\n      return { plugins, MentionSuggestions }\n    }, [])\n\n    const onOpenChange = useCallback((_open: boolean) => {\n      setOpen(_open)\n    }, [])\n    const onSearchChange = useCallback(({ value }: { value: string }) => {\n      setSuggestions(defaultSuggestionsFilter(value, mentions || []))\n    }, [])\n\n    const MentionComponent = (\n      <MentionSuggestions\n        open={open}\n        onOpenChange={onOpenChange}\n        suggestions={suggestions}\n        onSearchChange={onSearchChange}\n        entryComponent={Entry}\n        popoverContainer={({ children }) => <div>{children}</div>}\n      />\n    )\n\n    return (\n      <>\n        <Editor\n          readOnly={readOnly}\n          editorKey={'editor'}\n          editorState={state}\n          onChange={onChange}\n          plugins={plugins}\n          ref={ref}\n        />\n        {MentionComponent}\n      </>\n    )\n  }\n)\n\nexport default EditorWithMentions\n","import React, { ReactNode, useCallback, useRef, useState } from 'react'\nimport { convertToRaw, EditorState } from 'draft-js'\nimport Editor from '@draft-js-plugins/editor'\nimport { EditorBox } from './style'\nimport EditorWithMentions from '../EditorWithMentions'\nimport { Button } from 'semantic-ui-react'\nimport { toast } from 'react-semantic-toasts'\nimport { CommentFormType } from '@root/types'\nimport { MentionData } from '@draft-js-plugins/mention'\n\ninterface iCommentEditor {\n  createAction: (comment: CommentFormType) => void\n  mentions?: MentionData[]\n  id: string\n}\n\nconst CommentEditor: React.FC<iCommentEditor> = ({ id, mentions, createAction }) => {\n  const ref = useRef<Editor>(null)\n  const [editorState, setEditorState] = useState(EditorState.createEmpty())\n\n  const handleSave = async () => {\n    try {\n      await createAction({\n        body: JSON.stringify(convertToRaw(editorState.getCurrentContent())),\n        storyId: id\n      })\n      setEditorState(EditorState.createEmpty())\n    } catch (error) {\n      toast({\n        type: 'error',\n        title: error.response.data.message,\n        time: 3000,\n        description: `Error: ${error.response.data.code}`\n      })\n    }\n  }\n\n  const onChange = useCallback((_editorState: EditorState) => {\n    setEditorState(_editorState)\n  }, [])\n\n  return (\n    <>\n      <EditorBox\n        onClick={() => {\n          ref.current?.focus()\n        }}\n      >\n        <EditorWithMentions mentions={mentions} onChange={onChange} state={editorState} ref={ref} />\n      </EditorBox>\n      <Button content=\"Send comment\" labelPosition=\"left\" icon=\"edit\" primary onClick={handleSave} />\n    </>\n  )\n}\n\nexport default CommentEditor\n","import styled from 'styled-components'\nimport { Comment as SComment } from 'semantic-ui-react'\n\nexport const EditorBox = styled.div`\n  box-sizing: border-box;\n  border: 1px solid #ddd;\n  cursor: text;\n  padding: 16px;\n  border-radius: 2px;\n  margin-bottom: 2em;\n  box-shadow: inset 0px 1px 8px -3px #ababab;\n  background: #fefefe;\n  &:global(.public-DraftEditor-content) {\n    min-height: 140px;\n  }\n`\n\nexport const CommentWrapper = styled(SComment)`\n  background-color: red;\n  & > div.avatar {\n    height: 36px !important;\n    span {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n    }\n  }\n  & > * div.avatar {\n    height: 36px !important;\n    span {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n    }\n  }\n`\n","import React, { useState } from 'react'\nimport Truncate from 'react-truncate'\n\ninterface iShowMore {\n  lines?: number\n  more?: JSX.Element | string\n  less?: JSX.Element | string\n  anchorClass?: string\n}\n\nconst ShowMore: React.FC<iShowMore> = ({\n  children,\n  lines = 3,\n  more = 'Show more',\n  less = 'Show less',\n  anchorClass = ''\n}) => {\n  const [expanded, setExpanded] = useState<boolean>(false)\n  const [truncated, setTruncated] = useState<boolean>(false)\n\n  const handleTruncate = (value: boolean) => {\n    if (value !== truncated) {\n      setTruncated(value)\n    }\n  }\n\n  const toggleLines = (event: { preventDefault: () => void }) => {\n    event.preventDefault()\n    setExpanded(!expanded)\n  }\n\n  return (\n    <div>\n      <Truncate\n        lines={!expanded && lines}\n        ellipsis={\n          <span>\n            ...{' '}\n            <a href=\"#\" className={anchorClass} onClick={toggleLines}>\n              {more}\n            </a>\n          </span>\n        }\n        onTruncate={handleTruncate}\n      >\n        {children}\n      </Truncate>\n      {!truncated && expanded && (\n        <span>\n          {' '}\n          <a href=\"#\" className={anchorClass} onClick={toggleLines}>\n            {less}\n          </a>\n        </span>\n      )}\n    </div>\n  )\n}\n\nexport default ShowMore\n","import React, { useCallback, useRef, useState } from 'react'\nimport { convertFromRaw, convertToRaw, EditorState } from 'draft-js'\nimport { formatDistance, parseJSON, subDays } from 'date-fns'\nimport Editor from '@draft-js-plugins/editor'\nimport { MentionData } from '@draft-js-plugins/mention'\nimport { EditorBox, CommentWrapper } from './style'\nimport { CommentFormType, CommentType } from '@root/types'\nimport { useRecoilValue } from 'recoil'\nimport { userState } from '@root/states/userState'\nimport EditorWithMentions from '../EditorWithMentions'\nimport ShowMore from '@root/components/suport/ShowMore'\nimport Avatar from '@root/components/suport/Avatar'\nimport { toast } from 'react-semantic-toasts'\n\ninterface iComment {\n  mentions?: MentionData[]\n  comment: CommentType\n  id: string\n  deleteComment: (commentId: string) => void\n  editComment: (commentId: string, data: CommentFormType) => Promise<void>\n}\n\nconst Comment: React.FC<iComment> = ({ comment, editComment, deleteComment, mentions, id }) => {\n  const ref = useRef<Editor>(null)\n  const [editorState, setEditorState] = useState(\n    EditorState.createWithContent(convertFromRaw(JSON.parse(comment.body)))\n  )\n  const user = useRecoilValue(userState)\n  const [isEditing, setIsEditing] = useState<boolean>(false)\n\n  const onChange = useCallback((_editorState: EditorState) => {\n    setEditorState(_editorState)\n  }, [])\n\n  const handleDelete = async (commentId: string) => {\n    await deleteComment(commentId)\n  }\n\n  const handleEdit = async () => {\n    setIsEditing(true)\n    ref.current?.focus()\n  }\n\n  const handleCancel = async () => {\n    setIsEditing(false)\n    setEditorState(EditorState.createWithContent(convertFromRaw(JSON.parse(comment.body))))\n  }\n\n  const handleSave = async () => {\n    try {\n      const content = JSON.stringify(convertToRaw(editorState.getCurrentContent()))\n      await editComment(comment.id, {\n        body: content,\n        storyId: id,\n        parentId: comment.parentId\n      })\n      setIsEditing(false)\n      toast({\n        type: 'success',\n        title: 'Saved',\n        time: 3000\n      })\n    } catch (error) {\n      toast({\n        type: 'error',\n        title: error.response.data.message || error.message,\n        time: 3000,\n        description: `Error: ${error.response.data.code || error.status}`\n      })\n    }\n  }\n\n  const isOwner = user?.id === comment.author.id\n\n  const name = `${comment.author.firstName.charAt(0).toUpperCase() + comment.author.firstName.slice(1)} ${\n    comment.author.lastName.charAt(0).toUpperCase() + comment.author.lastName.slice(1)\n  }`\n\n  return (\n    <CommentWrapper>\n      <CommentWrapper.Avatar as={Avatar} picture={comment.author?.picture?.thumbnail || ''} name={name} />\n      <CommentWrapper.Content>\n        <CommentWrapper.Author as=\"a\">{name}</CommentWrapper.Author>\n        <CommentWrapper.Metadata>\n          <span>{formatDistance(parseJSON(comment.updatedAt), new Date(), { addSuffix: true })}</span>\n        </CommentWrapper.Metadata>\n        <CommentWrapper.Text>\n          {isEditing ? (\n            <EditorBox\n              onClick={() => {\n                ref.current?.focus()\n              }}\n            >\n              <EditorWithMentions mentions={mentions} onChange={onChange} state={editorState} ref={ref} />\n            </EditorBox>\n          ) : (\n            <ShowMore lines={3}>\n              <EditorWithMentions readOnly={true} mentions={mentions} onChange={onChange} state={editorState} />\n            </ShowMore>\n          )}\n        </CommentWrapper.Text>\n        <CommentWrapper.Actions>\n          {isOwner && (\n            <>\n              {isEditing ? (\n                <>\n                  <CommentWrapper.Action onClick={handleSave}>Save</CommentWrapper.Action>\n                  <CommentWrapper.Action onClick={handleCancel}>Cancel</CommentWrapper.Action>\n                </>\n              ) : (\n                <>\n                  <CommentWrapper.Action\n                    onClick={() => {\n                      handleEdit()\n                    }}\n                  >\n                    Edit\n                  </CommentWrapper.Action>\n                  <CommentWrapper.Action\n                    onClick={() => {\n                      handleDelete(comment.id)\n                    }}\n                  >\n                    Delete\n                  </CommentWrapper.Action>\n                </>\n              )}\n            </>\n          )}\n        </CommentWrapper.Actions>\n      </CommentWrapper.Content>\n    </CommentWrapper>\n  )\n}\n\nexport default Comment\n","import React from 'react'\nimport { Comment as SComment, Form } from 'semantic-ui-react'\nimport { CommentType, WatcherType } from '@root/types'\nimport CommentEditor from './CommentEditor'\nimport Comment from './Comment'\nimport { useCommentApi } from './useCommentApi'\n\ninterface iCommentThread {\n  comments: CommentType[]\n  watchers: WatcherType[]\n  id: string\n}\n\nconst CommentThread: React.FC<iCommentThread> = ({ id, comments: initialComments, watchers }) => {\n  const { createComment, deleteComment, editComment, comments } = useCommentApi(id, initialComments)\n\n  const mentions = watchers\n    ?.filter(w => w.user != null)\n    .map(w => {\n      return {\n        id: w.user.id,\n        name: `${w.user.firstName} ${w.user.lastName}`,\n        avatar: w.user.picture?.thumbnail\n      }\n    })\n\n  return (\n    <SComment.Group threaded>\n      {comments.map(comment => (\n        <Comment\n          key={comment.id}\n          comment={comment}\n          mentions={mentions}\n          id={id}\n          deleteComment={deleteComment}\n          editComment={editComment}\n        />\n      ))}\n\n      <Form reply>\n        <CommentEditor mentions={mentions} createAction={createComment} id={id} />\n      </Form>\n    </SComment.Group>\n  )\n}\n\nexport default CommentThread\n","import { useState } from 'react'\nimport { api } from '@root/api'\nimport { CommentFormType, CommentType } from '@root/types'\n\nexport const useCommentApi = (\n  storyId: string,\n  comments: CommentType[]\n): {\n  comments: CommentType[]\n  isLoading: boolean\n  createComment: (comment: CommentFormType) => Promise<void>\n  deleteComment: (id: string) => Promise<void>\n  editComment: (commentId: string, data: CommentFormType) => Promise<void>\n} => {\n  const [localComments, setLocalComments] = useState<CommentType[]>(comments)\n  const [isLoading, setIsLoading] = useState<boolean>(true)\n\n  const createComment = async (comment: CommentFormType) => {\n    const newComment = await api.createComment(comment)\n    setLocalComments([newComment, ...localComments])\n  }\n\n  const deleteComment = async (id: string): Promise<void> => {\n    await api.deleteComment(id)\n    setLocalComments(localComments.filter(comment => comment.id !== id))\n  }\n\n  const editComment = async (id: string, data: CommentFormType): Promise<void> => {\n    const newComment = await api.editComment(id, data)\n    setLocalComments(\n      localComments.map(comment => {\n        if (comment.id === newComment.id) {\n          return newComment\n        }\n        return comment\n      })\n    )\n  }\n\n  return { comments: localComments, isLoading, createComment, deleteComment, editComment }\n}\n","import styled from 'styled-components'\n\nexport const Title = styled.div`\n  font-size: 20px;\n  font-style: normal;\n  font-weight: 700;\n  line-height: 24px;\n  letter-spacing: 0em;\n  text-align: left;\n  margin-bottom: 24px;\n`\n\nexport const SecondTitle = styled.div`\n  font-size: 16px;\n`\n\nexport const Author = styled.div`\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  & > span {\n    margin-left: 16px;\n  }\n`\n\nexport const Description = styled.div`\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 20px;\n  letter-spacing: 0em;\n  text-align: left;\n`\n","import React from 'react'\nimport { CommentType, UserType, WatcherType } from '@root/types'\nimport CommentThread from '@root/components/suport/CommentThread'\nimport ShowMore from '@root/components/suport/ShowMore'\nimport { Header } from 'semantic-ui-react'\nimport { Title, Description, Author, SecondTitle } from './style'\nimport Avatar from '@root/components/suport/Avatar'\n\ninterface iInfo {\n  description: string\n  title: string\n  subTitle: string\n  owner: UserType\n  comments: CommentType[]\n  watchers: WatcherType[]\n  storyId: string\n}\n\nconst Info: React.FC<iInfo> = ({ storyId, description, title, subTitle, owner, watchers, comments }) => {\n  const name = `${owner.firstName?.charAt(0).toUpperCase() + owner.firstName?.slice(1)} ${\n    owner.lastName?.charAt(0).toUpperCase() + owner.lastName?.slice(1)\n  }`\n  return (\n    <>\n      <Title>{title}</Title>\n      {subTitle && <SecondTitle>{subTitle}</SecondTitle>}\n      <ShowMore>\n        <Description>{description}</Description>\n      </ShowMore>\n\n      <Header as=\"h3\" dividing>\n        About the author\n      </Header>\n      <Author>\n        <Avatar name={name} picture={owner?.picture?.thumbnail} />\n        <span>{name}</span>\n      </Author>\n      <ShowMore>\n        <Description>{owner.about}</Description>\n      </ShowMore>\n      <Header as=\"h3\" dividing>\n        Comments\n      </Header>\n      <CommentThread comments={comments} watchers={watchers} id={storyId} />\n    </>\n  )\n}\n\nexport default Info\n","import styled from 'styled-components'\nimport { List as SList } from 'semantic-ui-react'\n\nexport const List = styled(SList)`\n  & > .ui.segment.item {\n    padding: 12px;\n    i {\n      vertical-align: middle;\n    }\n  }\n`\n\nexport const Actions = styled.div`\n  display: table-cell;\n  vertical-align: middle;\n  div {\n    display: flex;\n    .ui.button {\n      background-color: unset;\n    }\n  }\n`\n","import React from 'react'\nimport { Segment, Icon } from 'semantic-ui-react'\nimport { LinkType } from '@root/types'\nimport { List } from './style'\n\ninterface iFiles {\n  links: LinkType[]\n}\n\nconst LinksList: React.FC<iFiles> = ({ links }) => {\n  return (\n    <List relaxed=\"very\" size=\"big\">\n      {links.map(link => (\n        <List.Item item=\"true\" key={link.id} as={Segment}>\n          <Icon name=\"chain\" size=\"big\" />\n          <List.Content verticalAlign=\"middle\">\n            <List.Header>\n              <a href={link.url} target=\"_blank\" rel=\"noreferrer\">\n                <b>{link.url}</b>\n              </a>\n            </List.Header>\n          </List.Content>\n        </List.Item>\n      ))}\n    </List>\n  )\n}\nexport default LinksList\n","import React from 'react'\nimport { LinkType } from '@root/types'\nimport { Header as SHeader } from 'semantic-ui-react'\nimport LinksList from './LinksList'\n\ninterface iLinks {\n  links: LinkType[]\n}\n\nconst Links: React.FC<iLinks> = ({ links }) => {\n  return (\n    <>\n      <SHeader as=\"h1\">List of links</SHeader>\n      <LinksList links={links} />\n    </>\n  )\n}\n\nexport default Links\n","import styled from 'styled-components'\nimport { List as SList } from 'semantic-ui-react'\n\nexport const List = styled(SList)`\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    height: unset;\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n\n  & > .ui.segment.item {\n    padding: 12px;\n    i {\n      vertical-align: middle;\n    }\n  }\n`\n","import React from 'react'\nimport { Segment, Icon } from 'semantic-ui-react'\nimport { FileType } from '@root/types'\nimport { List } from './style'\n\ninterface iFiles {\n  files: FileType[]\n}\n\nconst FilesList: React.FC<iFiles> = ({ files }) => {\n  return (\n    <List relaxed=\"very\" size=\"big\">\n      {files.map(file => (\n        <List.Item item=\"true\" key={file.id} as={Segment}>\n          <Icon name=\"file alternate outline\" size=\"big\" />\n          <List.Content verticalAlign=\"middle\">\n            <List.Header>\n              <a href={file.url}>\n                <b>{file.originalName}</b>\n              </a>\n            </List.Header>\n          </List.Content>\n        </List.Item>\n      ))}\n    </List>\n  )\n}\nexport default FilesList\n","import React from 'react'\nimport { FileType } from '@root/types'\nimport { Header as SHeader } from 'semantic-ui-react'\nimport FilesList from './FilesList'\n\ninterface iFiles {\n  files: FileType[]\n}\n\nconst Files: React.FC<iFiles> = ({ files }) => {\n  return (\n    <>\n      <SHeader as=\"h1\">List of files</SHeader>\n      <FilesList files={files} />\n    </>\n  )\n}\n\nexport default Files\n","import styled from 'styled-components'\n\nexport const GridImages = styled.div`\n  display: flex;\n  flex-flow: wrap;\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    height: unset;\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n\n  & > .ui.segment.item {\n    padding: 12px;\n  }\n`\nexport const GridItem = styled.div`\n  cursor: pointer;\n  width: 250px;\n  height: 285px;\n  padding: 8px;\n  position: relative;\n`\n\nexport const ImageBox = styled.div`\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.85);\n  display: flex;\n  justify-content: center;\n  & > .ui.image {\n    object-fit: contain;\n    width: unset;\n    height: unset;\n  }\n`\n","import styled from 'styled-components'\nimport { Button as SButton } from 'semantic-ui-react'\n\nexport const Box = styled.div`\n  display: flex;\n  flex-flow: column;\n`\n\nexport const Stage = styled.div`\n  max-width: 90vw;\n  min-width: 85vw;\n  height: 95vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  img {\n    object-fit: contain;\n    width: 100%;\n    height: 100%;\n  }\n  @media only screen and (max-width: 767px) {\n    height: 85vh;\n  }\n`\n\nexport const PreviewArea = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  @media only screen and (max-width: 767px) {\n    flex-flow: column;\n  }\n`\n\nexport const Header = styled.div`\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  & > i {\n    cursor: pointer;\n  }\n`\n\nexport const Footer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  position: absolute;\n  bottom: 10px;\n  right: 10px;\n`\n\nexport const Button = styled(SButton)`\n  &.ui.button {\n    background-color: rgba(255, 255, 255, 0.5);\n    box-shadow: unset;\n    color: white;\n    margin: 0.25em;\n  }\n`\n","import React, { useEffect, useState } from 'react'\nimport { Dimmer, Image, Loader, Icon } from 'semantic-ui-react'\nimport { Box, Button, PreviewArea, Footer, Stage, Header } from './style'\nimport { ImageType } from '@root/types'\nimport { useRecoilValue } from 'recoil'\nimport { mediaStatusState } from '@root/states/mediaStatusState'\n\ninterface iImageViewer {\n  images: ImageType[]\n  index: number | null\n  show: boolean\n  onClose: () => void\n  onNextClick: () => void\n  onPrevClick: () => void\n}\nconst ImageViewer: React.FC<iImageViewer> = ({ images, onNextClick, onPrevClick, show = false, index, onClose }) => {\n  const mediaStatus = useRecoilValue(mediaStatusState)\n  const [selectedImage, setSelectedImage] = useState<ImageType | null>(null)\n  const [progress, setProgress] = useState<boolean>(true)\n\n  useEffect(() => {\n    if (!images.length || index === null) return\n    setSelectedImage(images[index])\n    setProgress(!images[index]?.thumbnail)\n  }, [index, images])\n\n  useEffect(() => {\n    if (!selectedImage) return\n    const id = selectedImage.id\n    if (!mediaStatus[id]) return\n    const { payload, finished } = mediaStatus[id]\n    setProgress(true)\n    if (finished) {\n      setProgress(false)\n      setSelectedImage(payload)\n    }\n  }, [mediaStatus, selectedImage])\n\n  const handleNext = () => {\n    setProgress(true)\n    onNextClick()\n  }\n\n  const handlePrev = () => {\n    setProgress(true)\n    onPrevClick()\n  }\n\n  return (\n    <Dimmer active={show} page>\n      <Box>\n        <Header>\n          <Icon name=\"close\" size=\"big\" onClick={onClose} />\n        </Header>\n        <PreviewArea>\n          {(index || 0) > 0 && (\n            <Button icon=\"angle left\" circular size=\"big\" onClick={handlePrev} disabled={index === 0} />\n          )}\n          <Stage>\n            {!progress ? (\n              <Image src={selectedImage?.thumbnail} />\n            ) : (\n              <Loader active inverted>\n                Loading...\n              </Loader>\n            )}\n          </Stage>\n          {(index || 0) < images.length - 1 && (\n            <Button icon=\"angle right\" circular size=\"big\" onClick={handleNext} disabled={index === images.length} />\n          )}\n        </PreviewArea>\n        <Footer>\n          {selectedImage?.originalName} | {(index || 0) + 1} of {images.length}\n        </Footer>\n      </Box>\n    </Dimmer>\n  )\n}\n\nexport default ImageViewer\n","import React, { useEffect, useState } from 'react'\nimport { GridItem, ImageBox } from './style'\nimport { Image, Loader } from 'semantic-ui-react'\nimport { ImageType } from '@root/types'\nimport { useRecoilValue } from 'recoil'\nimport { mediaStatusState } from '@root/states/mediaStatusState'\n\ninterface iGalleryItem {\n  onClick: () => void\n  image: ImageType\n}\n\nconst GalleryItem: React.FC<iGalleryItem> = ({ image, onClick }) => {\n  const mediaStatus = useRecoilValue(mediaStatusState)\n  const [progress, setProgress] = useState<boolean>(!image.thumbnail)\n  const [src, setSrc] = useState<string>(image.thumbnail)\n  const id = image.id\n\n  useEffect(() => {\n    if (!mediaStatus[id]) return\n    const { payload, finished } = mediaStatus[id]\n    setProgress(true)\n    if (finished) {\n      setProgress(false)\n      setSrc(payload.thumbnail)\n    }\n  }, [mediaStatus])\n\n  return (\n    <GridItem>\n      <ImageBox>\n        {!progress ? (\n          <Image src={src} onClick={onClick} size=\"big\" />\n        ) : (\n          <Loader active inverted>\n            Processing...\n          </Loader>\n        )}\n      </ImageBox>\n    </GridItem>\n  )\n}\n\nexport default GalleryItem\n","import React, { useState } from 'react'\nimport { GridImages } from './style'\nimport ImageViewer from '@root/components/suport/ImageViewer'\nimport { GalleryType } from '@root/types'\nimport GalleryItem from './GalleryItem'\n\ninterface iGallery {\n  galleries: GalleryType[]\n}\n\nconst Gallery: React.FC<iGallery> = ({ galleries }) => {\n  const [selectedImage, setSelectedImage] = useState<number | null>(0)\n  const [showPreview, setShowPreview] = useState<boolean>(false)\n\n  const handleShowPreview = (index: number) => {\n    setSelectedImage(index)\n    setShowPreview(true)\n  }\n\n  return (\n    <>\n      <GridImages>\n        {galleries.map((value, index) => {\n          return <GalleryItem key={value.id} image={value.image} onClick={() => handleShowPreview(index)} />\n        })}\n      </GridImages>\n      <ImageViewer\n        images={galleries.map(gallery => gallery.image)}\n        index={selectedImage}\n        show={showPreview}\n        onNextClick={() => {\n          if (selectedImage === null) return\n          setSelectedImage(selectedImage + 1)\n        }}\n        onPrevClick={() => {\n          if (selectedImage === null) return\n          setSelectedImage(selectedImage - 1)\n        }}\n        onClose={() => {\n          setShowPreview(false)\n          setSelectedImage(null)\n        }}\n      />\n    </>\n  )\n}\n\nexport default Gallery\n","import styled from 'styled-components'\nimport { List as SList } from 'semantic-ui-react'\n\nexport const List = styled(SList)`\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    height: unset;\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n\n  & > .ui.segment.item {\n    padding: 12px;\n  }\n`\n","import React from 'react'\nimport { Segment } from 'semantic-ui-react'\nimport Avatar from '@root/components/suport/Avatar'\nimport { PersonType } from '@root/types'\nimport { List } from './style'\n\ninterface iPeoples {\n  persons: PersonType[]\n}\n\nconst Peoples: React.FC<iPeoples> = ({ persons }) => {\n  return (\n    <List relaxed=\"very\" size=\"big\">\n      {persons.map(person => (\n        <List.Item item=\"true\" key={person.id} as={Segment}>\n          <div className=\"ui image\">\n            <Avatar name={person.name} picture={person.picture?.thumbnail} />\n          </div>\n          <List.Content verticalAlign=\"middle\">\n            <List.Header>{person.name}</List.Header>\n            <List.Description>\n              <a href={person.link} target=\"_blank\" rel=\"noreferrer\">\n                <b>{person.link}</b>\n              </a>{' '}\n            </List.Description>\n          </List.Content>\n        </List.Item>\n      ))}\n    </List>\n  )\n}\nexport default Peoples\n","import React from 'react'\nimport { PersonType } from '@root/types'\nimport { Header } from 'semantic-ui-react'\nimport Peoples from './Peoples'\n\ninterface iPeople {\n  persons?: PersonType[]\n}\n\nconst People: React.FC<iPeople> = ({ persons = [] }) => {\n  return (\n    <>\n      <Header as=\"h1\">List of people</Header>\n      <Peoples persons={persons} />\n    </>\n  )\n}\n\nexport default People\n","import styled from 'styled-components'\n\nexport const OcurrenciesArea = styled.div`\n  & > * div.card-description {\n    word-break: break-all;\n  }\n  & > * section.timeline-card-content {\n    min-height: unset;\n  }\n`\n","import React, { Fragment } from 'react'\nimport { TimelineType } from '@root/types'\nimport { OcurrenciesArea } from './style'\nimport { Chrono } from 'react-chrono'\nimport { formatRelative, parse } from 'date-fns'\nimport ShowMore from '@root/components/suport/ShowMore'\nimport { Header } from 'semantic-ui-react'\n\ninterface iTimeline {\n  ocurrencies: TimelineType[]\n}\n\nconst Timeline: React.FC<iTimeline> = ({ ocurrencies }) => {\n  const items = ocurrencies.map(item => {\n    console.log('as')\n    const date = parse(item.at as unknown as string, \"yyyy-MM-dd'T'HH:mm:ss'Z'\", new Date())\n    return {\n      title: formatRelative(date, new Date())\n    }\n  })\n  return (\n    <OcurrenciesArea>\n      <Chrono items={items} mode=\"VERTICAL\">\n        {ocurrencies.map(item => (\n          <Fragment key={item.id}>\n            <Header>{item.title}</Header>\n            {item.description && <ShowMore>{item.description}</ShowMore>}\n          </Fragment>\n        ))}\n      </Chrono>\n    </OcurrenciesArea>\n  )\n}\n\nexport default Timeline\n","import styled from 'styled-components'\nimport { Button as SButton } from 'semantic-ui-react'\n\nexport const SaveButton = styled(SButton)`\n  &.ui.button {\n    margin-top: 12px;\n    margin-bottom: 12px;\n  }\n`\n\nexport const EditorWrapper = styled.div`\n  & > .transcript-wrapper {\n    > .transcript-editor {\n      overflow: auto;\n    }\n  }\n`\n","import React, { useState } from 'react'\nimport { EditorState, ContentState } from 'draft-js'\nimport { EditorWrapper } from './style'\nimport { TranscriptionType } from '@root/types'\nimport htmlToDraft from 'html-to-draftjs'\nimport { Editor } from 'react-draft-wysiwyg'\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\n\ninterface iTranscript {\n  transcription?: TranscriptionType | null\n}\n\nconst Transcript: React.FC<iTranscript> = ({ children, transcription }) => {\n  const [value] = useState<EditorState>(() => {\n    if (!transcription) return EditorState.createEmpty()\n    const contentBlock = htmlToDraft(transcription.content)\n    const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks)\n    return EditorState.createWithContent(contentState)\n  })\n\n  return (\n    <EditorWrapper>\n      <Editor\n        editorState={value}\n        wrapperClassName=\"transcript-wrapper\"\n        editorClassName=\"transcript-editor\"\n        readOnly={true}\n        toolbarHidden\n      />\n    </EditorWrapper>\n  )\n}\n\nexport default Transcript\n","import styled from 'styled-components'\nimport { List as SList } from 'semantic-ui-react'\n\nexport const List = styled(SList)`\n  overflow: auto;\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n`\n\nexport const Item = styled.div`\n  position: relative;\n  min-width: 500px;\n  & > div:not(:last-child) {\n    padding: 8px 16px;\n  }\n  & > div:last-child {\n    height: 260px;\n  }\n\n  @media only screen and (max-width: 1024px) {\n    min-width: unset;\n  }\n`\n","import React, { useRef, useEffect, useState } from 'react'\nimport 'leaflet/dist/leaflet.css'\nimport L, { Map, LatLngExpression } from 'leaflet'\nimport markerIcon from 'leaflet/dist/images/marker-icon.png'\nimport markerShadow from 'leaflet/dist/images/marker-shadow.png'\n\ninterface iMapViewer {\n  position: LatLngExpression\n  markers: LatLngExpression[]\n}\n\nconst MapViewer: React.FC<iMapViewer> = ({ position, markers }) => {\n  const mapElement = useRef<HTMLDivElement | null>(null)\n  const [map, setMap] = useState<Map | null>(null)\n\n  const icon = L.icon({\n    iconUrl: markerIcon,\n    shadowUrl: markerShadow\n  })\n\n  useEffect(() => {\n    if (!mapElement.current) return\n    setMap(L.map(mapElement.current).setView(position, 20))\n  }, [mapElement])\n\n  useEffect(() => {\n    if (!map) return\n    L.tileLayer(\n      'https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoicGhpbGlwZWNhcnJhenpvbmkiLCJhIjoiY2tyMWhmMmhmMjF2djJvcGF0NDEwbXE5eCJ9.F30oIQhfwLRHrl5pRgdz4g',\n      {\n        attribution:\n          'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery  <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n        maxZoom: 18,\n        id: 'mapbox/streets-v11',\n        tileSize: 512,\n        zoomOffset: -1,\n        accessToken: 'your.mapbox.access.token'\n      }\n    ).addTo(map)\n    markers.forEach(marker => L.marker(marker, { icon }).addTo(map))\n  }, [markers, map])\n\n  return <div ref={mapElement} />\n}\n\nexport default MapViewer\n","import React from 'react'\nimport { PlaceType } from '@root/types'\nimport { Item, List } from './style'\nimport { LatLngExpression } from 'leaflet'\nimport { Segment } from 'semantic-ui-react'\nimport MapViewer from '@root/components/suport/MapViewer'\n\ninterface iTimeline {\n  places: PlaceType[]\n}\n\nconst Places: React.FC<iTimeline> = ({ places }) => {\n  return (\n    <List>\n      {places.map(place => {\n        const position: LatLngExpression = [Number(place.latitude), Number(place.longitude)]\n        return (\n          <Item item=\"true\" key={place.id} as={Segment}>\n            <div>\n              <b>\n                <label>Name:</label>\n              </b>{' '}\n              {place.name}\n            </div>\n            <div>\n              <b>\n                <label>Description:</label>\n              </b>{' '}\n              {place.description}\n            </div>\n            <div>\n              <b>\n                <label>Address:</label>\n              </b>{' '}\n              {place.location}\n            </div>\n            <MapViewer position={position} markers={[position]} />\n          </Item>\n        )\n      })}\n    </List>\n  )\n}\n\nexport default Places\n","import React, { useState } from 'react'\nimport { Header } from 'semantic-ui-react'\nimport { StoryItem } from './style'\nimport LazyImage from '@root/components/suport/LazyImage'\nimport { Link } from 'react-router-dom'\nimport { StoryType } from '@root/types'\nimport { useStoryPreview } from '@root/hooks/useStoryPreview'\nimport Avatar from '@root/components/suport/Avatar'\n\ninterface iStory {\n  story: StoryType\n}\n\nconst Story: React.FC<iStory> = ({ story }) => {\n  const [hover, setHover] = useState<boolean>(false)\n\n  const { video, owner, type } = story\n\n  const { preview } = useStoryPreview({ video })\n\n  const name = `${owner.firstName.charAt(0).toUpperCase() + owner.firstName.slice(1)} ${\n    owner.lastName.charAt(0).toUpperCase() + owner.lastName.slice(1)\n  }`\n\n  return (\n    <StoryItem onMouseEnter={() => setHover(true)} onMouseLeave={() => setHover(false)}>\n      <LazyImage className={`${type?.toLowerCase()}`} src={hover ? preview : story.thumbnail} wrapped rounded={false} />\n      <StoryItem.Content>\n        <StoryItem.Header as={Link} to={`/a/stories/${story.id}`}>\n          {story.title}\n        </StoryItem.Header>\n        <StoryItem.Description>{story.description}</StoryItem.Description>\n        <StoryItem.Meta>\n          <Avatar name={name} picture={owner.picture?.thumbnail} />\n          <span>{name}</span>\n        </StoryItem.Meta>\n      </StoryItem.Content>\n    </StoryItem>\n  )\n}\n\ninterface iRelatedVideos {\n  stories: StoryType[]\n}\n\nconst RelatedVideos: React.FC<iRelatedVideos> = ({ stories = [] }) => {\n  return (\n    <>\n      <Header as=\"h3\" dividing>\n        Related stories\n      </Header>\n      <StoryItem.Group>\n        {stories.map(item => (\n          <Story key={item.id} story={item} />\n        ))}\n      </StoryItem.Group>\n    </>\n  )\n}\n\nexport default RelatedVideos\n","import React, { useEffect } from 'react'\nimport { useHistory, useLocation, useParams } from 'react-router-dom'\nimport { useApiStory } from './useApiStory'\nimport Menu from './Menu'\nimport { parse, stringify } from 'qs'\nimport { Location } from 'history'\nimport Player from '@root/components/suport/Player'\nimport { PreviewBox, ContentArea, ContentBox, VideosArea, Content } from './style'\nimport LoadingArea from '@root/components/suport/LoadingArea'\nimport Info from './TabsContent/Info'\nimport Links from './TabsContent/Links'\nimport Files from './TabsContent/Files'\nimport Gallery from './TabsContent/Gallery'\nimport People from './TabsContent/People'\nimport Timeline from './TabsContent/Timeline'\nimport Transcript from './TabsContent/Transcript'\nimport Places from './TabsContent/Places'\nimport RelatedVideos from './RelatedVideos'\nimport { UserType } from '@root/types'\n\nconst StoryShow: React.FC = () => {\n  const { search, pathname } = useLocation()\n  const history = useHistory()\n  const parsedQs = parse(search, { ignoreQueryPrefix: true })\n  const { tab } = parsedQs\n\n  const { storyId } = useParams<{ storyId: string; tab: string }>()\n  const { story, isLoading } = useApiStory(storyId)\n\n  const {\n    type,\n    video,\n    audio,\n    thumbnail,\n    owner,\n    title,\n    description,\n    collections,\n    comments,\n    persons,\n    files,\n    links,\n    transcription,\n    galleryEntries,\n    timelineEntries,\n    places,\n    watchers,\n    subtitles\n  } = story\n\n  const showMenu = {\n    transcript: !!transcription,\n    people: !!persons?.length,\n    places: !!places?.length,\n    timeline: !!timelineEntries?.length,\n    gallery: !!galleryEntries?.length,\n    files: !!files?.length,\n    links: !!links?.length\n  }\n\n  const handleTabChange = (name: string, isToReplace?: boolean) => {\n    const search = stringify(\n      {\n        ...parsedQs,\n        tab: name\n      },\n      { addQueryPrefix: true }\n    )\n    if (isToReplace) {\n      history.replace({\n        pathname,\n        search\n      } as unknown as Location)\n      return\n    }\n    history.push({\n      pathname,\n      search\n    } as unknown as Location)\n  }\n\n  useEffect(() => {\n    if (!tab) handleTabChange('information', true)\n    if (isLoading) return\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    if (!showMenu[tab]) handleTabChange('information', true)\n  }, [tab, isLoading])\n\n  const stiwchRender = () => {\n    switch (tab) {\n      case 'places':\n        return <Places places={places || []} />\n      case 'people':\n        return <People persons={persons || []} />\n      case 'transcript':\n        return <Transcript transcription={transcription} />\n      case 'timeline':\n        return <Timeline ocurrencies={timelineEntries || []} />\n      case 'gallery':\n        return <Gallery galleries={galleryEntries || []} />\n      case 'files':\n        return <Files files={files || []} />\n      case 'links':\n        return <Links links={links || []} />\n      default:\n        return (\n          <Info\n            storyId={storyId}\n            subTitle={(collections && collections[0]?.title) || ''}\n            title={title as string}\n            description={description as string}\n            owner={owner as UserType}\n            comments={comments || []}\n            watchers={watchers || []}\n          />\n        )\n    }\n  }\n\n  return (\n    <LoadingArea isLoading={isLoading}>\n      <ContentArea>\n        <PreviewBox>\n          <div>\n            <Player subtitles={subtitles || []} type={type} media={video || audio} cover={thumbnail} />\n          </div>\n        </PreviewBox>\n        <Menu tab={tab as string} onChange={handleTabChange} showMenu={showMenu} />\n        <ContentBox>\n          <Content>{stiwchRender()}</Content>\n          {!!collections?.length && !!collections[0].stories.length && (\n            <VideosArea>\n              <RelatedVideos stories={collections[0]?.stories} />\n            </VideosArea>\n          )}\n        </ContentBox>\n      </ContentArea>\n    </LoadingArea>\n  )\n}\n\nexport default StoryShow\n","import { useCallback, useEffect, useState } from 'react'\nimport { api } from '@root/api'\nimport { StoryType } from '@root/types'\nimport { useHistory } from 'react-router-dom'\n\nexport const useApiStory = (\n  storyId: string\n): {\n  story: Partial<StoryType>\n  isLoading: boolean\n  getStory: () => void\n} => {\n  const [story, setStory] = useState<Partial<StoryType>>({})\n  const [isLoading, setIsLoading] = useState<boolean>(true)\n  const history = useHistory()\n\n  const getStory = useCallback(async () => {\n    setIsLoading(true)\n    try {\n      setStory(await api.getStory(storyId))\n    } catch (error) {\n      if (error.response.status === 403) {\n        return history.replace('/a/403')\n      }\n\n      if (error.response.status === 404) {\n        return history.replace('/a/404')\n      }\n\n      if (error.response.status === 400) {\n        return history.replace('/a/404')\n      }\n\n      throw error\n    } finally {\n      setIsLoading(false)\n    }\n  }, [storyId])\n\n  useEffect(() => {\n    getStory()\n  }, [storyId])\n\n  return { story, isLoading, getStory }\n}\n","import React from 'react'\nimport { Menu as SMenu, Dropdown } from 'semantic-ui-react'\nimport { useRecoilValue } from 'recoil'\nimport { mediaQueryState } from '@root/states/mediaQueryState'\n\ninterface iMenu {\n  tab: string\n  onChange: (name: string) => void\n}\n\nconst Menu: React.FC<iMenu> = ({ tab, onChange }) => {\n  const { isMobile, isTablet } = useRecoilValue(mediaQueryState)\n  if (isTablet || isMobile) {\n    return (\n      <SMenu vertical>\n        <Dropdown item text={tab}>\n          <Dropdown.Menu>\n            <Dropdown.Item onClick={() => onChange('information')}>Information</Dropdown.Item>\n            <Dropdown.Item onClick={() => onChange('transcript')}>Transcript</Dropdown.Item>\n            <Dropdown.Item onClick={() => onChange('people')}>People</Dropdown.Item>\n            <Dropdown.Item onClick={() => onChange('places')}>Places</Dropdown.Item>\n            <Dropdown.Item onClick={() => onChange('timeline')}>Timeline</Dropdown.Item>\n            <Dropdown.Item onClick={() => onChange('gallery')}>Gallery</Dropdown.Item>\n            <Dropdown.Item onClick={() => onChange('subtitles')}>Subtitles</Dropdown.Item>\n            <Dropdown.Item onClick={() => onChange('files')}>Files</Dropdown.Item>\n            <Dropdown.Item onClick={() => onChange('links')}>Links</Dropdown.Item>\n            <Dropdown.Item onClick={() => onChange('share')}>Share</Dropdown.Item>\n          </Dropdown.Menu>\n        </Dropdown>\n      </SMenu>\n    )\n  }\n  return (\n    <SMenu pointing={true} stackable secondary>\n      <SMenu.Item name=\"Information\" active={tab === 'information'} onClick={() => onChange('information')} />\n      <SMenu.Item name=\"Transcript\" active={tab === 'transcript'} onClick={() => onChange('transcript')} />\n      <SMenu.Item name=\"People\" active={tab === 'people'} onClick={() => onChange('people')} />\n      <SMenu.Item name=\"Places\" active={tab === 'places'} onClick={() => onChange('places')} />\n      <SMenu.Item name=\"Timeline\" active={tab === 'timeline'} onClick={() => onChange('timeline')} />\n      <SMenu.Item name=\"Gallery\" active={tab === 'gallery'} onClick={() => onChange('gallery')} />\n      <SMenu.Item name=\"Subtitles\" active={tab === 'subtitles'} onClick={() => onChange('subtitles')} />\n      <SMenu.Item name=\"Files\" active={tab === 'files'} onClick={() => onChange('files')} />\n      <SMenu.Item name=\"Links\" active={tab === 'links'} onClick={() => onChange('links')} />\n      <SMenu.Item name=\"Share\" active={tab === 'share'} onClick={() => onChange('share')} />\n    </SMenu>\n  )\n}\n\nexport default Menu\n","import * as yup from 'yup'\n\nexport default yup.object().shape({\n  title: yup.string().required()\n})\n","import styled, { css } from 'styled-components'\nimport { Button } from 'semantic-ui-react'\n\ninterface iDropArea {\n  isDragActive: boolean\n  isDragAccept: boolean\n  isDragReject: boolean\n  thumbSrc: string\n}\n\nconst DropAreaWrapper = styled.div<iDropArea>`\n  margin-top: 20px;\n  text-align: center;\n  height: 124px;\n  width: 219px;\n  &.ui.placeholder.segment {\n    min-height: unset;\n  }\n  & > .ui.header,\n  & > .ui.icon.header .icon {\n    font-size: 1em;\n  }\n  @media only screen and (max-width: 1024px) {\n    height: 124px;\n    width: 219px;\n    &.ui.placeholder.segment {\n      min-height: unset;\n    }\n  }\n  &.ui.placeholder.segment {\n    border-width: 2px;\n    border-radius: 2px;\n    ${({ isDragActive, isDragAccept, isDragReject }) => {\n      if (isDragReject) {\n        return css`\n          border-color: #ff1744;\n        `\n      }\n      if (isDragAccept) {\n        return css`\n          border-color: #00e676;\n        `\n      }\n      if (isDragActive) {\n        return css`\n          border-color: #2196f3;\n        `\n      }\n      return css`\n        border-color: #eeeeee;\n      `\n    }};\n    border-style: dashed;\n    background-color: #fafafa;\n    ${({ thumbSrc }) => {\n      if (thumbSrc)\n        return css`\n          background-image: url(${thumbSrc});\n          background-size: contain;\n          background-repeat: no-repeat;\n          background-position: center;\n        `\n    }};\n  }\n  &.ui.placeholder .header {\n    margin: 1em;\n  }\n  &.ui.placeholder .header:not(:first-child):before {\n    content: unset;\n  }\n  &.ui.placeholder button {\n    margin-top: 1em;\n  }\n`\n\nDropAreaWrapper.defaultProps = {\n  className: 'ui placeholder segment'\n}\n\nexport { DropAreaWrapper }\n\nexport const ButtonRemove = styled(Button)`\n  &.button,\n  &.ui.basic.black.button {\n    box-shadow: unset !important;\n  }\n`\n","import { VideoJsPlayer } from 'video.js'\n\nexport type Pageable<T> = {\n  totalPages: number\n  totalElements: number\n  size: number\n  content: T[]\n  number: number\n  sort: {\n    sorted: boolean\n    unsorted: boolean\n    empty: boolean\n  }\n  numberOfElements: number\n  pageable: {\n    offset: number\n    sort: {\n      sorted: boolean\n      unsorted: boolean\n      empty: boolean\n    }\n    pageNumber: 0\n    unpaged: boolean\n    paged: boolean\n    pageSize: 0\n  }\n  first: boolean\n  last: boolean\n  empty: boolean\n}\n\nexport type UserType = {\n  id: string\n  email: string\n  firstName: string\n  lastName: string\n  picture: ImageType\n  about: string\n  location: string\n}\n\nexport type UserFormType = {\n  firstName: string\n  lastName: string\n  pictureId: string | null\n  about: string\n  location: string\n}\n\nexport type AuthType = {\n  token: string\n  user: UserType\n}\n\nexport type SigninFormType = {\n  email: string\n  password: string\n}\n\nexport type SingupFormType = {\n  firstName: string\n  lastName: string\n  email: string\n  password: string\n  confirmation: string\n}\n\nexport type PasswordResetForm = {\n  token: string\n  confirmation: string\n  password: string\n}\n\nexport type PasswordChangeForm = {\n  newPassword: string\n  confirmation: string\n  password: string\n}\n\nexport type MediaType = 'AUDIO' | 'VIDEO'\nexport enum Resolutions {\n  '360p' = '360p',\n  '480p' = '480p',\n  '720p' = '720p',\n  '1028p' = '1028p'\n}\n\nexport type Media = {\n  id: string\n  info: Partial<{\n    [key: string]: string | number | null\n  }>\n  url: string\n}\n\nexport type Gif = {\n  id: string\n  resolution: string\n  url: string\n}\n\nexport type Thumbnail = {\n  id: string\n  num: number\n  resolution: string\n  url: string\n}\n\nexport type VideoDetails = {\n  id: string\n  processedAt?: Date\n  alternatives: Partial<Record<Resolutions, Media[]>>\n  gifs: Partial<Record<Resolutions, Gif[]>>\n  thumbnails: Partial<Record<Resolutions, Thumbnail[]>>\n  thumbnail: string\n}\n\nexport type AudioDetails = {\n  id: string\n  processedAt: Date\n  alternatives: Media[]\n}\n\nexport type StoryType = {\n  audio: AudioDetails\n  collections: CollectionType[]\n  cover: ImageType\n  description: string\n  id: string\n  thumbnail: string\n  ready: boolean\n  published?: boolean\n  title: string\n  owner: UserType\n  type: MediaType\n  video: VideoDetails\n  watchers: WatcherType[]\n  persons: PersonType[]\n  files: FileType[]\n  links: LinkType[]\n  transcription: TranscriptionType | null\n  galleryEntries: GalleryType[]\n  timelineEntries: TimelineType[]\n  places: PlaceType[]\n  subtitles: SubtitleType[]\n  comments: CommentType[]\n}\n\nexport type StoryUpdateType = {\n  title: string\n  description: string\n  coverId: string\n  collections: string[]\n}\n\nexport type CollectionType = {\n  id: string\n  title: string\n  description: string\n  cover: ImageType\n  thumbnail: string\n  stories: StoryType[]\n}\n\nexport type CollectionFormType = {\n  title: string\n  description?: string\n  coverId?: string\n}\n\nexport type ImageType = {\n  id: string\n  processedAt: Date\n  thumbnail: string\n  originalName: string\n  thumbnails: Record<\n    string,\n    {\n      id: string\n      url: string\n      resolution: string\n    }\n  >[]\n}\n\nexport type GalleryType = {\n  id: string\n  image: ImageType\n  updatedAt: Date\n  createdAt: Date\n}\n\nexport type FileType = {\n  id: string\n  createdAt: Date\n  name: string\n  originalName: string\n  url: string\n  size: number\n  mimeType: string\n}\n\nexport type SubtitleType = FileType & {\n  language: LanguageEnum\n}\n\nexport type LinkType = {\n  id: string\n  url: string\n}\n\nexport type TranscriptionType = {\n  id: string\n  content: string\n  updatedAt: Date\n  createdAt: Date\n}\n\nexport type WatcherType = {\n  id: string\n  email: string\n  notifiedAt: Date\n  updatedAt: Date\n  createdAt: Date\n  user: UserType\n}\n\nexport type PersonFormType = {\n  name: string\n  link: string\n  pictureId: string | null\n}\n\nexport type LinkFormType = {\n  url: string\n  storyId: string\n}\n\nexport type TranscriptionFormType = {\n  content: string\n  storyId: string\n}\n\nexport type PersonType = {\n  id: string\n  name: string\n  link: string\n  picture: ImageType\n}\n\nexport type TimelineType = {\n  id: string\n  title: string\n  description: string\n  at: Date\n}\n\nexport type TimelineFormType = {\n  storyId: string\n  title: string\n  description: string\n  at: Date\n}\n\nexport type PlaceType = {\n  id: string\n  name: string\n  description: string\n  location: string\n  latitude: string\n  longitude: string\n}\n\nexport type PlaceFormType = {\n  storyId: string\n  name: string\n  description: string\n  location: string\n  latitude: string\n  longitude: string\n}\n\nexport type addWatcherType = {\n  storyId: string\n  email: string\n}\n\nexport type CommentType = {\n  id: string\n  parentId: string\n  author: UserType\n  body: string\n  mentions: UserType[]\n  createdAt: Date\n  updatedAt: Date\n}\n\nexport type CommentFormType = {\n  storyId: string\n  parentId?: string\n  body: string\n}\n\nexport type LocationSearchType = {\n  boundingbox: string[]\n  class: string\n  // eslint-disable-next-line camelcase\n  display_name: string\n  icon: string\n  importance: number\n  lat: string\n  licence: string\n  lon: string\n  osmId: number\n  osmType: string\n  placeId: number\n  type: string\n}\n\nexport enum LanguageEnum {\n  'arabic' = 'arabic',\n  'brazilianPortuguese' = 'brazilian portuguese',\n  'danish' = 'danish',\n  'dutch' = 'dutch',\n  'english' = 'english',\n  'farsi' = 'farsi',\n  'finnish' = 'finnish',\n  'french' = 'french',\n  'greek' = 'greek',\n  'hebrew' = 'hebrew',\n  'indonesian' = 'indonesian',\n  'italian' = 'italian',\n  'malay' = 'malay',\n  'norwegian' = 'norwegian',\n  'romanian' = 'romanian',\n  'spanish' = 'spanish',\n  'swedish' = 'swedish',\n  'turkish' = 'turkish',\n  'vietnamese' = 'vietnamese',\n  'albanian' = 'albanian',\n  'armenian' = 'armenian',\n  'azerbaijani' = 'azerbaijani',\n  'basque' = 'basque',\n  'belarusian' = 'belarusian',\n  'bengali' = 'bengali',\n  'bosnian' = 'bosnian',\n  'bulgarian' = 'bulgarian',\n  'burmese' = 'burmese',\n  'catalan' = 'catalan',\n  'chinese' = 'chinese',\n  'croatian' = 'croatian',\n  'czech' = 'czech',\n  'esperanto' = 'esperanto',\n  'estonian' = 'estonian',\n  'georgian' = 'georgian',\n  'german' = 'german',\n  'greenlandic' = 'greenlandic',\n  'hindi' = 'hindi',\n  'hungarian' = 'hungarian',\n  'icelandic' = 'icelandic',\n  'japanese' = 'japanese',\n  'kannada' = 'kannada',\n  'korean' = 'korean',\n  'kurdish' = 'kurdish',\n  'latvian' = 'latvian',\n  'lithuanian' = 'lithuanian',\n  'macedonian' = 'macedonian',\n  'malayalam' = 'malayalam',\n  'manipuri' = 'manipuri',\n  'mongolian' = 'mongolian',\n  'nepali' = 'nepali',\n  'pashto' = 'pashto',\n  'polish' = 'polish',\n  'portuguese' = 'portuguese',\n  'punjabi' = 'punjabi',\n  'russian' = 'russian',\n  'serbian' = 'serbian',\n  'sinhala' = 'sinhala',\n  'slovak' = 'slovak',\n  'slovenian' = 'slovenian',\n  'somali' = 'somali',\n  'sundanese' = 'sundanese',\n  'swahili' = 'swahili',\n  'tagalog' = 'tagalog',\n  'tamil' = 'tamil',\n  'telugu' = 'telugu',\n  'thai' = 'thai',\n  'ukrainian' = 'ukrainian',\n  'urdu' = 'urdu',\n  'yoruba' = 'yoruba'\n}\n\nexport interface iPlayer extends VideoJsPlayer {\n  recordedData: any\n  convertedData: any\n  deviceErrorCode: any\n  record: any\n}\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport { Client } from '@stomp/stompjs'\nimport SockeJS from 'sockjs-client'\n\nexport const useCoverStatus = (\n  coverId?: string,\n  callback?: (id: string) => void\n): {\n  coverProgress: number\n  isProcessingCover: boolean\n  startProcess: () => void\n} => {\n  const [coverProgress, setCoverProgress] = useState<number>(0)\n  const coverIdRef = useRef<string | undefined | null>(null)\n  const [isProcessingCover, setIsProcessingCover] = useState<boolean>(false)\n  const [client] = useState<Client>(new Client())\n\n  const getToken = () => {\n    const tokenItem = localStorage.getItem('token')\n    return tokenItem ? JSON.parse(tokenItem) : null\n  }\n\n  const startProcess = useCallback(() => {\n    setIsProcessingCover(true)\n    client.configure({\n      webSocketFactory: () => new SockeJS(`/api/ws?jwt=${getToken()}`),\n      onConnect: () => {\n        client.subscribe('/user/queue/media-progress', (message: { body: string }) => {\n          const { total, current, id } = JSON.parse(message.body)\n          if (!coverIdRef.current) return\n          if (coverIdRef.current !== id) return\n          const progress = Math.round((current / total) * 100)\n          setCoverProgress(progress)\n          if (current === total) setIsProcessingCover(false)\n          if (callback) callback(id)\n        })\n      }\n    })\n    client.activate()\n  }, [client, coverId, callback])\n\n  useEffect(() => {\n    coverIdRef.current = coverId\n  }, [coverIdRef, coverId])\n\n  useEffect(() => {\n    if (!isProcessingCover && client.connected) {\n      client.deactivate()\n    }\n  }, [isProcessingCover, client])\n\n  return { coverProgress, isProcessingCover, startProcess }\n}\n","import React, { useEffect } from 'react'\nimport { useDropzone } from 'react-dropzone'\nimport { DropAreaWrapper, ButtonRemove } from './style'\nimport { Button, Header, Icon, Grid } from 'semantic-ui-react'\nimport LoadingArea from '@root/components/suport/LoadingArea'\nimport { useCoverApi } from './useCoverApi'\nimport { useCoverStatus } from './useCoverStatus'\nimport { ImageType } from '@root/types'\n\ninterface iCoverDropArea {\n  onIdChange: (coverId: string | undefined) => void\n  progress?: number\n  message?: string\n  ButtonLabel?: string\n  noClick?: boolean\n  cover?: Partial<ImageType>\n}\n\nconst CoverDropArea: React.FC<iCoverDropArea> = ({\n  onIdChange,\n  message,\n  noClick = true,\n  ButtonLabel = 'Upload',\n  cover\n}) => {\n  const { coverInfo, uploadProgress, isUploadingCover, upload, getCoverInfo, removeCover } = useCoverApi({ cover })\n  const { coverProgress, isProcessingCover, startProcess } = useCoverStatus(coverInfo?.id, getCoverInfo)\n\n  useEffect(() => {\n    onIdChange(coverInfo?.id)\n  }, [coverInfo])\n\n  const handleDrop = async (acceptedFiles: File[]) => {\n    await upload(acceptedFiles[0])\n    startProcess()\n  }\n\n  const { open, getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject } = useDropzone({\n    accept: ['image/*'],\n    noClick: noClick,\n    noKeyboard: true,\n    onDrop: handleDrop\n  })\n\n  return (\n    <Grid style={{ margin: 0 }}>\n      <Grid.Row>\n        <DropAreaWrapper\n          {...getRootProps()}\n          thumbSrc={coverInfo?.thumbnail || ''}\n          isDragActive={isDragActive}\n          isDragAccept={isDragAccept}\n          isDragReject={isDragReject}\n        >\n          <input {...getInputProps()} />\n          {isUploadingCover && <LoadingArea isLoading={isUploadingCover} progress={uploadProgress} />}\n          {isProcessingCover && (\n            <LoadingArea isLoading={isProcessingCover} progress={coverProgress} message={'Processing cover...'} />\n          )}\n          {!isUploadingCover && !isProcessingCover && (\n            <>\n              {!coverInfo?.thumbnail && (\n                <Header icon>\n                  <Icon name=\"upload\" />\n                  Drag and drop your cover\n                </Header>\n              )}\n            </>\n          )}\n        </DropAreaWrapper>\n      </Grid.Row>\n      {message && (\n        <Grid.Row>\n          <div>{message}</div>\n        </Grid.Row>\n      )}\n      <Grid.Row>\n        <Button type=\"button\" primary basic onClick={open}>\n          {ButtonLabel}\n        </Button>\n        <ButtonRemove type=\"button\" disabled={!coverInfo?.thumbnail} color=\"black\" basic onClick={removeCover}>\n          Remove\n        </ButtonRemove>\n      </Grid.Row>\n    </Grid>\n  )\n}\n\nexport default CoverDropArea\n","import { useCallback, useState } from 'react'\nimport { api } from '@root/api'\nimport { ImageType } from '@root/types'\n\ninterface iUseCoverApi {\n  coverInfo?: Partial<ImageType>\n  uploadProgress: number\n  isUploadingCover: boolean\n  upload: (file: File) => void\n  getCoverInfo: (id: string) => void\n  removeCover: () => void\n}\n\nexport const useCoverApi = ({ cover }: { cover?: Partial<ImageType> }): iUseCoverApi => {\n  const [isUploadingCover, setIsUploadingCover] = useState<boolean>(false)\n  const [uploadProgress, setUploadProgress] = useState<number>(0)\n  const [coverInfo, setCoverInfo] = useState<Partial<ImageType> | undefined>(cover)\n\n  const upload = async (file: File) => {\n    setIsUploadingCover(true)\n    const result = await api.uploadImage(file, ({ loaded, total }) => {\n      const progress = Math.round((loaded * 100) / total) - 1\n      setUploadProgress(progress < 0 ? 0 : progress)\n    })\n    setUploadProgress(100)\n    setIsUploadingCover(false)\n    setCoverInfo(result)\n  }\n\n  const getCoverInfo = useCallback(\n    async (id: string) => {\n      const result = await api.getImage(id)\n      setCoverInfo(result)\n    },\n    [coverInfo]\n  )\n\n  const removeCover = useCallback(async () => {\n    setCoverInfo(undefined)\n  }, [coverInfo])\n\n  return { coverInfo, uploadProgress, isUploadingCover, upload, getCoverInfo, removeCover }\n}\n","import React, { useState } from 'react'\nimport { Formik } from 'formik'\nimport { Button, Header, Modal as SModal } from 'semantic-ui-react'\nimport { ModalDescription } from '../style'\nimport { Input } from '@root/components/suport/FormFields'\nimport schema from './schema'\nimport { useCollectionApi } from './useCollectionApi'\nimport { FormikHelpers } from 'formik/dist/types'\nimport CoverDropArea from '@root/components/suport/CoverDropArea'\nimport { CollectionType } from '@root/types'\n\ninterface iAddEditPersonFormModal {\n  open: boolean\n  onClose: (collection?: CollectionType) => void\n}\n\ninterface iformikValues {\n  title: string\n}\n\nconst AddEditLinkFormModal: React.FC<iAddEditPersonFormModal> = ({ open, onClose }) => {\n  const [coverId, setCoverId] = useState<string | undefined>()\n  const { createCollection } = useCollectionApi()\n\n  const submit = async (values: iformikValues, helpers: FormikHelpers<iformikValues>) => {\n    const collection = await createCollection({ title: values.title, coverId: coverId })\n    onClose(collection)\n    helpers.resetForm()\n  }\n\n  return (\n    <Formik\n      initialValues={{\n        title: ''\n      }}\n      validationSchema={schema}\n      onSubmit={submit}\n    >\n      {({ isSubmitting, handleSubmit }) => {\n        return (\n          <SModal open={open} size=\"tiny\">\n            <Header content={'New collection'} />\n            <SModal.Content image>\n              <ModalDescription>\n                <Input\n                  name=\"title\"\n                  label=\"Title\"\n                  onKeyPress={(e: React.KeyboardEvent) => {\n                    if (e.key === 'Enter') e.preventDefault()\n                  }}\n                />\n                <CoverDropArea onIdChange={setCoverId} noClick={false} ButtonLabel=\"Upload cover\" />\n              </ModalDescription>\n            </SModal.Content>\n            <SModal.Actions>\n              <Button\n                negative\n                disabled={isSubmitting}\n                loading={isSubmitting}\n                type=\"button\"\n                onClick={() => onClose()}\n                basic\n              >\n                Cancel\n              </Button>\n              <Button\n                primary\n                disabled={isSubmitting}\n                loading={isSubmitting}\n                onClick={() => {\n                  handleSubmit()\n                }}\n              >\n                Save\n              </Button>\n            </SModal.Actions>\n          </SModal>\n        )\n      }}\n    </Formik>\n  )\n}\n\nexport default AddEditLinkFormModal\n","import { api } from '@root/api'\nimport { CollectionFormType, CollectionType } from '@root/types'\n\ninterface iUseCollectionApi {\n  createCollection: (data: CollectionFormType) => Promise<CollectionType>\n}\n\nexport const useCollectionApi = (): iUseCollectionApi => {\n  const createCollection = async (data: CollectionFormType): Promise<CollectionType> => {\n    const collection = await api.createCollection(data)\n    return collection\n  }\n\n  return {\n    createCollection\n  }\n}\n","import styled from 'styled-components'\n\nexport const Box = styled.div`\n  padding-bottom: 100px;\n`\n\nexport const CollectionArea = styled.div`\n  display: flex;\n  & > div:first-child {\n    @media only screen and (max-width: 1024px) {\n      order: 1;\n    }\n    flex: 1;\n    margin-right: 8px;\n  }\n\n  & > div:last-child {\n    margin-top: 20px;\n    margin-bottom: 32px;\n  }\n`\n","import React, { useState } from 'react'\nimport { Input, TextArea, Select } from '@root/components/suport/FormFields'\nimport AddCollectionFormModal from '@root/components/modals/AddCollectionFormModal'\nimport { useCollectionList } from './useCollectionList'\nimport { Button } from 'semantic-ui-react'\nimport { CollectionArea } from './style'\nimport { CollectionType } from '@root/types'\nimport { useFormikContext } from 'formik'\n\nconst StoryDetailForm: React.FC = () => {\n  const { collectionList, isLoading, setCollectionList } = useCollectionList()\n  const [openModal, setOpenModal] = useState<boolean>(false)\n  const { setFieldValue } = useFormikContext()\n\n  const handleClose = (collection?: CollectionType) => {\n    if (collection) {\n      setCollectionList([{ key: collection.id, value: collection.id, text: collection.title }, ...collectionList])\n      setFieldValue('collections', collection.id)\n    }\n    setOpenModal(false)\n  }\n\n  return (\n    <>\n      <Input\n        name=\"title\"\n        placeholder=\"Add a title\"\n        label=\"Title\"\n        onKeyPress={(e: React.KeyboardEvent) => {\n          if (e.key === 'Enter') e.preventDefault()\n        }}\n      />\n      <TextArea\n        name=\"description\"\n        label=\"Description\"\n        placeholder=\"Talk about your video\"\n        rows={26}\n        onKeyPress={(e: React.KeyboardEvent) => {\n          if (e.key === 'Enter') e.preventDefault()\n        }}\n      />\n      <CollectionArea>\n        <Select\n          loading={isLoading}\n          options={collectionList}\n          label=\"Collection\"\n          name=\"collections\"\n          placeholder=\"Select\"\n          onKeyPress={(e: React.KeyboardEvent) => {\n            if (e.key === 'Enter') e.preventDefault()\n          }}\n        />\n        <div>\n          <Button id=\"publish\" type=\"button\" primary={true} onClick={() => setOpenModal(true)}>\n            New collection\n          </Button>\n        </div>\n      </CollectionArea>\n      <AddCollectionFormModal open={openModal} onClose={handleClose} />\n    </>\n  )\n}\n\nexport default StoryDetailForm\n","import { Dispatch, SetStateAction, useCallback, useEffect, useState } from 'react'\nimport { api } from '@root/api'\nimport { DropdownItemProps } from 'semantic-ui-react'\nimport { CollectionType } from '@root/types'\n\nexport const useCollectionList = (): {\n  collectionList: DropdownItemProps[]\n  isLoading: boolean\n  setCollectionList: Dispatch<SetStateAction<DropdownItemProps[]>>\n} => {\n  const [collectionList, setCollectionList] = useState<DropdownItemProps[]>([])\n  const [isLoading, setIsLoading] = useState<boolean>(false)\n\n  const fetch = useCallback(async () => {\n    setIsLoading(true)\n    try {\n      const { content } = await api.getCollections(0, 1000)\n      setCollectionList(\n        content.map((item: Partial<{ id: string; title: string }>): DropdownItemProps => {\n          return { key: item.id, value: item.id, text: item.title }\n        })\n      )\n    } finally {\n      setIsLoading(false)\n    }\n  }, [])\n\n  useEffect(() => {\n    fetch()\n  }, [])\n\n  return { collectionList, isLoading, setCollectionList }\n}\n","import styled from 'styled-components'\n\nexport const Layout = styled.div`\n  display: flex;\n  @media only screen and (max-width: 1024px) {\n    flex-direction: column;\n    align-items: center;\n    flex-flow: column;\n    overflow-x: hidden;\n    & :nth-child(1) {\n      order: 2;\n    }\n    & :nth-child(2) {\n      order: 1;\n    }\n    & > div {\n      flex: 1;\n      width: 100%;\n    }\n  }\n\n  @media only screen and (max-width: 767px) {\n    height: calc(100% - 140px);\n  }\n`\n\nexport const ColumnForm = styled.div`\n  padding: 0 12px;\n  flex: 1;\n  @media only screen and (max-width: 1024px) {\n    flex: unset;\n    margin-top: 20px;\n  }\n`\n\nexport const ColumnPreview = styled.div`\n  width: fit-content;\n  padding: 0 12px;\n  min-width: 450px;\n  max-width: 720px;\n  flex: 1;\n`\nexport const Header = styled.div`\n  margin-bottom: 12px;\n`\n","import styled from 'styled-components'\n\nimport { Layout as SLayout } from '../style'\n\nexport const SaveButtonArea = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  margin-bottom: 12px;\n  @media only screen and (max-width: 1024px) {\n    flex-flow: row-reverse;\n  }\n`\n\nexport const Layout = styled(SLayout)`\n  @media only screen and (max-width: 1024px) {\n    height: calc(100% - 188px);\n  }\n`\n","import React, { useCallback, useState } from 'react'\nimport { Button } from 'semantic-ui-react'\nimport StoryDetailForm from './StoryDetailForm'\nimport { Layout, SaveButtonArea } from './style'\nimport CoverDropArea from '@root/components/suport/CoverDropArea'\nimport { StoryType, StoryUpdateType, WatcherType } from '@root/types'\nimport { Formik, Form } from 'formik'\nimport LoadingArea from '@root/components/suport/LoadingArea'\nimport { ColumnPreview, ColumnForm } from '../style'\nimport { toast } from 'react-semantic-toasts'\n\ninterface iInfo {\n  story: Partial<StoryType>\n  updateStory: (newValues: Partial<StoryUpdateType>) => void\n  isLoading: boolean\n}\n\ninterface iformikValues {\n  title: string\n  collections: string\n  watchers: WatcherType[]\n  description: string\n  watcherShare: string\n  published: boolean\n}\n\nconst StoryDetails: React.FC<iInfo> = ({ isLoading, story, updateStory, children }) => {\n  const { title = '', published = false, collections = [], watchers = [], description = '', cover = { id: '' } } = story\n\n  const [coverId, setCoverId] = useState<string | undefined>()\n\n  const submit = useCallback(\n    async (values: iformikValues) => {\n      const newValues: Partial<StoryUpdateType> = {\n        coverId: coverId,\n        title: values.title,\n        description: values.description,\n        collections: [values.collections]\n      }\n      try {\n        await updateStory(newValues)\n        toast({\n          type: 'success',\n          title: 'Saved',\n          time: 3000\n        })\n      } catch (error) {\n        toast({\n          type: 'error',\n          title: error.response.data.message,\n          time: 3000,\n          description: `Error: ${error.response.data.code}`\n        })\n      }\n    },\n    [coverId]\n  )\n\n  const initialValues: iformikValues = {\n    title: title || '',\n    collections: collections[0]?.id || '',\n    watchers: watchers || [],\n    description: description || '',\n    watcherShare: '',\n    published\n  }\n\n  return (\n    <LoadingArea isLoading={isLoading}>\n      <Formik initialValues={initialValues} onSubmit={submit}>\n        {({ handleSubmit }) => (\n          <Form>\n            <Layout>\n              <ColumnForm>\n                <SaveButtonArea>\n                  <Button\n                    id=\"publish\"\n                    type=\"button\"\n                    primary={true}\n                    onClick={() => {\n                      handleSubmit()\n                    }}\n                  >\n                    Save\n                  </Button>\n                </SaveButtonArea>\n                <StoryDetailForm />\n              </ColumnForm>\n              <ColumnPreview>\n                {children}\n                <CoverDropArea\n                  onIdChange={setCoverId}\n                  cover={cover}\n                  ButtonLabel=\"Change cover\"\n                  message=\"Add an image that displays when people see your story.\"\n                />\n              </ColumnPreview>\n            </Layout>\n          </Form>\n        )}\n      </Formik>\n    </LoadingArea>\n  )\n}\n\nexport default StoryDetails\n","import styled from 'styled-components'\nimport { Button as SButton } from 'semantic-ui-react'\n\nexport const SaveButton = styled(SButton)`\n  &.ui.button {\n    margin-bottom: 12px;\n  }\n`\n\nexport const EditorWrapper = styled.div`\n  & > .transcript-wrapper {\n    height: 40em;\n    > .transcript-editor {\n      height: 33.5em;\n      overflow: auto;\n      border: 1px solid #f1f1f1;\n    }\n  }\n`\n","import React, { useState, useEffect } from 'react'\nimport { EditorState, convertToRaw, ContentState } from 'draft-js'\nimport { Layout, ColumnForm, ColumnPreview, Header } from '../style'\nimport { SaveButton, EditorWrapper } from './style'\nimport { api } from '@root/api'\nimport { TranscriptionType } from '@root/types'\nimport draftToHtml from 'draftjs-to-html'\nimport htmlToDraft from 'html-to-draftjs'\nimport { Editor } from 'react-draft-wysiwyg'\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\nimport { toast } from 'react-semantic-toasts'\n\ninterface iTranscript {\n  storyId: string\n  refresh: () => void\n  transcription?: TranscriptionType | null\n}\n\nconst Transcript: React.FC<iTranscript> = ({ children, refresh, transcription, storyId }) => {\n  const [value, setValue] = useState<EditorState>(EditorState.createEmpty())\n\n  useEffect(() => {\n    if (transcription) {\n      const contentBlock = htmlToDraft(transcription.content)\n      if (contentBlock) {\n        const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks)\n        const editorState = EditorState.createWithContent(contentState)\n        setValue(editorState)\n      }\n    }\n  }, [transcription])\n\n  const onChange = (value: EditorState) => {\n    setValue(value)\n  }\n\n  const handleSave = async () => {\n    try {\n      const content = draftToHtml(convertToRaw(value.getCurrentContent()))\n      if (!transcription) {\n        await api.createTranscriptions({\n          content,\n          storyId: storyId\n        })\n        refresh()\n        toast({\n          type: 'success',\n          title: 'Saved',\n          time: 3000\n        })\n        return\n      }\n\n      await api.updateTranscriptions(transcription.id, {\n        content,\n        storyId: storyId\n      })\n      refresh()\n      toast({\n        type: 'success',\n        title: 'Saved',\n        time: 3000\n      })\n    } catch (error) {\n      toast({\n        type: 'error',\n        title: error.response.data.message,\n        time: 3000,\n        description: `Error: ${error.response.data.code}`\n      })\n    }\n  }\n\n  return (\n    <Layout>\n      <ColumnForm>\n        <Header>\n          A transcript can help people find specific information in your story. Copy and paste, or type your transcript\n          text here. Remember to save your work!\n        </Header>\n        <div>\n          <SaveButton primary id=\"save\" onClick={handleSave}>\n            Save\n          </SaveButton>\n        </div>\n        <label>Transcription</label>\n        <EditorWrapper>\n          <Editor\n            editorState={value}\n            onEditorStateChange={onChange}\n            wrapperClassName=\"transcript-wrapper\"\n            editorClassName=\"transcript-editor\"\n            toolbar={{\n              inline: { inDropdown: true },\n              list: { inDropdown: true },\n              textAlign: { inDropdown: true },\n              link: { inDropdown: true },\n              history: { inDropdown: true }\n            }}\n          />\n        </EditorWrapper>\n      </ColumnForm>\n      <ColumnPreview>{children}</ColumnPreview>\n    </Layout>\n  )\n}\n\nexport default Transcript\n","import * as yup from 'yup'\n\nexport default yup.object().shape({\n  title: yup.string().required(),\n  description: yup.string(),\n  at: yup.date().required()\n})\n","import React, { useEffect, useState } from 'react'\nimport { Formik } from 'formik'\nimport { Button, Header, Modal as SModal } from 'semantic-ui-react'\nimport { ModalDescription } from '../style'\nimport { Input, TextArea } from '@root/components/suport/FormFields'\nimport schema from './schema'\nimport { TimelineType } from '@root/types'\n\ninterface iAddEditTimelineFormModal {\n  timeline: TimelineType | null\n  open: boolean\n  onClose: (ocurrency: TimelineType | null) => void\n}\n\ninterface iformikValues {\n  description: string\n  title: string\n  at: Date\n  id?: string\n}\n\nconst AddEditTimelineFormModal: React.FC<iAddEditTimelineFormModal> = ({ timeline, open, onClose }) => {\n  const [initialValues, setInitialValues] = useState<iformikValues>({\n    description: timeline?.description || '',\n    title: timeline?.title || '',\n    at: timeline?.at || new Date(),\n    id: timeline?.id\n  })\n\n  const isEdit = !!timeline?.id\n\n  const submit = async (values: iformikValues) => {\n    onClose({\n      at: values.at,\n      title: values.title,\n      description: values.description,\n      id: values.id || ''\n    })\n  }\n\n  useEffect(() => {\n    setInitialValues({\n      description: timeline?.description || '',\n      title: timeline?.title || '',\n      at: timeline?.at || new Date(),\n      id: timeline?.id || ''\n    })\n  }, [timeline])\n\n  return (\n    <Formik initialValues={initialValues} validationSchema={schema} onSubmit={submit}>\n      {({ isSubmitting, handleSubmit, setValues }) => {\n        useEffect(() => {\n          setValues(initialValues)\n        }, [initialValues])\n        return (\n          <SModal open={open} size=\"tiny\">\n            <Header content={isEdit ? 'Edit event' : 'New event'} />\n            <SModal.Content image>\n              <ModalDescription>\n                <Input\n                  name=\"title\"\n                  label=\"Title\"\n                  onKeyPress={(e: React.KeyboardEvent) => {\n                    if (e.key === 'Enter') e.preventDefault()\n                  }}\n                />\n                <TextArea\n                  rows={4}\n                  name=\"description\"\n                  label=\"Description\"\n                  onKeyPress={(e: React.KeyboardEvent) => {\n                    if (e.key === 'Enter') e.preventDefault()\n                  }}\n                />\n                <Input\n                  name=\"at\"\n                  label=\"At\"\n                  type=\"date\"\n                  onKeyPress={(e: React.KeyboardEvent) => {\n                    if (e.key === 'Enter') e.preventDefault()\n                  }}\n                />\n              </ModalDescription>\n            </SModal.Content>\n            <SModal.Actions>\n              <Button\n                negative\n                disabled={isSubmitting}\n                loading={isSubmitting}\n                type=\"button\"\n                onClick={() => onClose(null)}\n                basic\n              >\n                Cancel\n              </Button>\n              <Button\n                primary\n                disabled={isSubmitting}\n                loading={isSubmitting}\n                onClick={() => {\n                  handleSubmit()\n                }}\n              >\n                Save\n              </Button>\n            </SModal.Actions>\n          </SModal>\n        )\n      }}\n    </Formik>\n  )\n}\n\nexport default AddEditTimelineFormModal\n","import styled from 'styled-components'\nimport { List as SList, Button as SButton } from 'semantic-ui-react'\n\nexport const AddButton = styled(SButton)`\n  &.ui.button {\n    margin-bottom: 12px;\n  }\n`\n\nexport const List = styled(SList)`\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    height: unset;\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n`\n\nexport const Item = styled.div`\n  position: relative;\n  min-width: 500px;\n  & > div {\n    padding: 8px 16px;\n    word-break: break-word;\n  }\n  @media only screen and (max-width: 1024px) {\n    min-width: unset;\n  }\n`\n\nexport const Actions = styled.div`\n  position: absolute;\n  top: 10px;\n  right: 10px;\n`\n","import React from 'react'\nimport { Actions, List, Item } from './style'\nimport { Button, Segment } from 'semantic-ui-react'\nimport { TimelineType } from '@root/types'\nimport { format, parse } from 'date-fns'\n\ninterface iOcurrencies {\n  ocurrencies: TimelineType[]\n  removeOcurrence: (timeline: TimelineType) => void\n}\n\nconst Ocurrencies: React.FC<iOcurrencies> = ({ ocurrencies, removeOcurrence }) => {\n  return (\n    <List>\n      {ocurrencies.map(ocurrence => {\n        return (\n          <Item item=\"true\" key={ocurrence.id} as={Segment}>\n            <div>\n              <b>\n                <label>At:</label>\n              </b>{' '}\n              {format(parse(ocurrence.at as unknown as string, \"yyyy-MM-dd'T'HH:mm:ss'Z'\", new Date()), 'PPP')}\n            </div>\n            <div>\n              <b>\n                <label>Title:</label>\n              </b>{' '}\n              {ocurrence.title}\n            </div>\n            <div>\n              <b>\n                <label>Description:</label>\n              </b>{' '}\n              {ocurrence.description}\n            </div>\n            <Actions>\n              <div>\n                <Button icon=\"pencil\" circular disabled />\n                <Button icon=\"trash\" circular onClick={() => removeOcurrence(ocurrence)} />\n              </div>\n            </Actions>\n          </Item>\n        )\n      })}\n    </List>\n  )\n}\n\nexport default Ocurrencies\n","import React, { useState } from 'react'\nimport LoadingArea from '@root/components/suport/LoadingArea'\nimport { ColumnForm, ColumnPreview, Header, Layout } from '../style'\nimport { TimelineType } from '@root/types'\nimport { useTimelineApi } from './useTimelineApi'\nimport AddEditTimelineFormModal from '@root/components/modals/AddEditTimelineFormModal'\nimport Ocurrencies from './Ocurrencies'\nimport { AddButton } from './style'\nimport { useSetRecoilState } from 'recoil'\nimport { basicModalState } from '@root/components/modals/BasicModal'\n\ninterface iTimeline {\n  isLoading: boolean\n  storyId: string\n  refresh: () => void\n  ocurrencies: TimelineType[]\n}\n\nconst Timeline: React.FC<iTimeline> = ({ isLoading, refresh, storyId, ocurrencies, children }) => {\n  const [openModal, setOpenModal] = useState<boolean>(false)\n  const { addOccurrence, removeOccurrence } = useTimelineApi()\n  const setBasicModalState = useSetRecoilState(basicModalState)\n\n  const addEditTimeline = (timeline?: TimelineType) => {\n    setOpenModal(true)\n  }\n\n  const HandleRemove = async (timeline: TimelineType) => {\n    setBasicModalState({\n      open: true,\n      title: 'Remove ocurrence',\n      isConfirmation: true,\n      onClose: async isSuccess => {\n        if (!isSuccess) return\n        await removeOccurrence(timeline.id)\n        await refresh()\n      },\n      content: (\n        <>\n          Do you want remove <b>{timeline.title}</b> from this story?\n        </>\n      )\n    })\n  }\n\n  return (\n    <Layout>\n      <LoadingArea isLoading={isLoading}>\n        <ColumnForm>\n          <Header>\n            Add important events mentioned in the story, and enable people to view these events on a timeline\n          </Header>\n          <AddButton primary onClick={() => addEditTimeline()}>\n            Add new event\n          </AddButton>\n          <Ocurrencies ocurrencies={ocurrencies} removeOcurrence={HandleRemove} />\n        </ColumnForm>\n        <ColumnPreview>{children}</ColumnPreview>\n        <AddEditTimelineFormModal\n          timeline={null}\n          open={openModal}\n          onClose={async ocurrency => {\n            if (ocurrency && !ocurrency.id) {\n              await addOccurrence({\n                storyId: storyId,\n                at: ocurrency.at,\n                description: ocurrency.description,\n                title: ocurrency.title\n              })\n            }\n            setOpenModal(false)\n            refresh()\n          }}\n        />\n      </LoadingArea>\n    </Layout>\n  )\n}\n\nexport default Timeline\n","import { api } from '@root/api'\nimport { TimelineFormType } from '@root/types'\n\ninterface iUsePeopleApi {\n  addOccurrence: (data: TimelineFormType) => void\n  removeOccurrence: (timelineId: string) => void\n}\n\nexport const useTimelineApi = (): iUsePeopleApi => {\n  const addOccurrence = async (data: TimelineFormType) => {\n    await api.createTimeline(data)\n  }\n\n  const removeOccurrence = async (timelineId: string) => {\n    await api.deleteTimeline(timelineId)\n  }\n\n  return {\n    addOccurrence,\n    removeOccurrence\n  }\n}\n","import React, { useRef } from 'react'\nimport { Button, ButtonProps } from 'semantic-ui-react'\n\ninterface iUploadButton extends ButtonProps {\n  onSelected: (event: React.ChangeEvent<HTMLInputElement>) => void\n  accept?: string | undefined\n  multiple?: boolean\n}\nconst UploadButton: React.FC<iUploadButton> = ({ api, multiple = false, accept, onSelected, children, ...rest }) => {\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  const handleFileSelectClick = () => {\n    inputRef?.current?.click()\n  }\n\n  return (\n    <>\n      <input ref={inputRef} type=\"file\" multiple={multiple} hidden={true} onChange={onSelected} accept={accept} />\n      <Button onClick={handleFileSelectClick} {...rest}>\n        {children && children}\n      </Button>\n    </>\n  )\n}\n\nexport default UploadButton\n","import styled from 'styled-components'\nimport { List as SList } from 'semantic-ui-react'\n\nexport const UploadButtonArea = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  margin-bottom: 12px;\n  @media only screen and (max-width: 1024px) {\n    flex-flow: row-reverse;\n  }\n`\n\nexport const ProgressBox = styled.div`\n  flex: 1;\n  margin: 0 10px;\n`\n\nexport const List = styled(SList)`\n  overflow: auto;\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    height: unset;\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n\n  & > .ui.segment.item {\n    padding: 12px;\n    i {\n      vertical-align: middle;\n    }\n  }\n`\n\nexport const Actions = styled.div`\n  display: table-cell;\n  vertical-align: middle;\n  div {\n    display: flex;\n    .ui.button {\n      background-color: unset;\n    }\n  }\n`\n","import React from 'react'\nimport { Segment, Button, Icon } from 'semantic-ui-react'\nimport { FileType } from '@root/types'\nimport { List, Actions } from './style'\nimport { api } from '@root/api'\n\ninterface iFiles {\n  files: FileType[]\n  onRemove: (file: FileType) => void\n}\n\nconst FilesList: React.FC<iFiles> = ({ files, onRemove }) => {\n  return (\n    <List relaxed=\"very\" size=\"big\">\n      {files.map(file => (\n        <List.Item item=\"true\" key={file.id} as={Segment}>\n          <Icon name=\"file alternate outline\" size=\"big\" />\n          <List.Content verticalAlign=\"middle\">\n            <List.Header>\n              <a href={file.url}>\n                <b>{file.originalName}</b>\n              </a>\n            </List.Header>\n          </List.Content>\n          <Actions>\n            <div>\n              <Button icon=\"trash\" circular onClick={() => onRemove(file)} />\n            </div>\n          </Actions>\n        </List.Item>\n      ))}\n    </List>\n  )\n}\nexport default FilesList\n","import React, { useEffect, useState } from 'react'\nimport { Layout, ColumnForm, ColumnPreview, Header } from '../style'\nimport UploadButton from '@root/components/suport/UploadButton'\nimport { api } from '@root/api'\nimport { FileType } from '@root/types'\nimport { Divider, Header as SHeader, Progress } from 'semantic-ui-react'\nimport FilesList from './FilesList'\nimport LoadingArea from '@root/components/suport/LoadingArea'\nimport { useSetRecoilState } from 'recoil'\nimport { basicModalState } from '@root/components/modals/BasicModal'\nimport { toast } from 'react-semantic-toasts'\nimport { ProgressBox, UploadButtonArea } from './style'\n\ninterface iFiles {\n  files: FileType[]\n  storyId: string\n  refresh: () => void\n  isLoading: boolean\n}\n\nconst Files: React.FC<iFiles> = ({ storyId, refresh, files, isLoading, children }) => {\n  const setBasicModalState = useSetRecoilState(basicModalState)\n  const [progressFiles, setProgressFiles] = useState<Record<string, number>>({})\n  const [progress, setProgress] = useState<number>(0)\n  const [totalFiles, setTotalFiles] = useState<number>(0)\n\n  const onRemove = async (value: FileType) => {\n    setBasicModalState({\n      open: true,\n      title: 'Remove file',\n      isConfirmation: true,\n      onClose: async (isSuccess: boolean) => {\n        if (!isSuccess) return\n        await api.deleteFile(value.id)\n        refresh()\n      },\n      content: (\n        <>\n          Do you want remove file <b>{value.originalName}</b> from this story?\n        </>\n      )\n    })\n  }\n\n  useEffect(() => {\n    console.log(progressFiles)\n  }, [progressFiles])\n\n  useEffect(() => {\n    const max = totalFiles * 100\n    const allValues = Object.values(progressFiles)\n    const current = allValues.reduce((a, b) => a + b, 0)\n    setProgress((current / max) * 100)\n  }, [progressFiles, totalFiles])\n\n  const upload = async (file: File) => {\n    try {\n      await api.uploadFile(storyId, file, ({ loaded, total }) => {\n        const progress = Math.round((loaded * 100) / total)\n        setProgressFiles(prevValue => {\n          prevValue[file.name] = progress < 0 ? 0 : progress\n          return { ...prevValue }\n        })\n      })\n    } catch (error) {\n      toast({\n        type: 'error',\n        title: error.response.data.message,\n        time: 3000,\n        description: `Error: ${error.response.data.code}`\n      })\n    }\n  }\n\n  const handleSelected = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (!event.target.files?.length) return\n    const files = Array.from(event.target.files)\n    setTotalFiles(files.length)\n    await Promise.all(files.map(file => upload(file)))\n    setProgressFiles({})\n    setTotalFiles(0)\n    setProgress(0)\n    refresh()\n  }\n\n  return (\n    <Layout>\n      <LoadingArea isLoading={isLoading}>\n        <ColumnForm>\n          <Header>Link files to your video for viewers to download</Header>\n          <UploadButtonArea>\n            <UploadButton onSelected={handleSelected} primary multiple={true}>\n              Upload new file\n            </UploadButton>\n            <ProgressBox>{!!progress && <Progress percent={progress} progress={true} />}</ProgressBox>\n          </UploadButtonArea>\n          <Divider />\n          <SHeader as=\"h1\">List of files</SHeader>\n          <FilesList files={files} onRemove={onRemove} />\n        </ColumnForm>\n        <ColumnPreview>{children}</ColumnPreview>\n      </LoadingArea>\n    </Layout>\n  )\n}\n\nexport default Files\n","import styled from 'styled-components'\nimport { Button as SButton, List as SList } from 'semantic-ui-react'\n\nexport const AddButton = styled(SButton)`\n  &.ui.button {\n    margin-bottom: 12px;\n  }\n`\n\nexport const List = styled(SList)`\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    height: unset;\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n\n  & > .ui.segment.item {\n    padding: 12px;\n    i {\n      vertical-align: middle;\n    }\n  }\n`\n\nexport const Actions = styled.div`\n  display: table-cell;\n  vertical-align: middle;\n  div {\n    display: flex;\n    .ui.button {\n      background-color: unset;\n    }\n  }\n`\n\nexport const Header = styled.div`\n  padding-top: 32px;\n  padding-bottom: 16px;\n`\n","import React from 'react'\nimport { Segment, Button, Icon } from 'semantic-ui-react'\nimport { LinkType } from '@root/types'\nimport { List, Actions } from './style'\n\ninterface iFiles {\n  links: LinkType[]\n  onRemove: (link: LinkType) => void\n}\n\nconst LinksList: React.FC<iFiles> = ({ links, onRemove }) => {\n  return (\n    <List relaxed=\"very\" size=\"big\">\n      {links.map(link => (\n        <List.Item item=\"true\" key={link.id} as={Segment}>\n          <Icon name=\"chain\" size=\"big\" />\n          <List.Content verticalAlign=\"middle\">\n            <List.Header>\n              <a href={link.url} target=\"_blank\" rel=\"noreferrer\">\n                <b>{link.url}</b>\n              </a>\n            </List.Header>\n          </List.Content>\n          <Actions>\n            <div>\n              <Button icon=\"trash\" circular onClick={() => onRemove(link)} />\n            </div>\n          </Actions>\n        </List.Item>\n      ))}\n    </List>\n  )\n}\nexport default LinksList\n","import * as yup from 'yup'\n\nexport default yup.object().shape({\n  url: yup.string().required().url()\n})\n","import React from 'react'\nimport { Formik } from 'formik'\nimport { Button, Header, Modal as SModal } from 'semantic-ui-react'\nimport { ModalDescription } from '../style'\nimport { Input } from '@root/components/suport/FormFields'\nimport schema from './schema'\nimport { useLinkApi } from './useLinkApi'\nimport { FormikHelpers } from 'formik/dist/types'\n\ninterface iAddEditPersonFormModal {\n  open: boolean\n  storyId: string\n  onClose: (reload: boolean) => void\n}\n\ninterface iformikValues {\n  url: string\n}\n\nconst AddEditLinkFormModal: React.FC<iAddEditPersonFormModal> = ({ open, storyId, onClose }) => {\n  const { createLink } = useLinkApi()\n\n  const submit = async (values: iformikValues, helpers: FormikHelpers<iformikValues>) => {\n    await createLink({ url: values.url, storyId: storyId })\n    onClose(true)\n    helpers.resetForm()\n  }\n\n  return (\n    <Formik\n      initialValues={{\n        url: ''\n      }}\n      validationSchema={schema}\n      onSubmit={submit}\n    >\n      {({ isSubmitting, handleSubmit }) => {\n        return (\n          <SModal open={open} size=\"tiny\">\n            <Header content={'New link'} />\n            <SModal.Content image>\n              <ModalDescription>\n                <Input\n                  name=\"url\"\n                  label=\"Link url\"\n                  onKeyPress={(e: React.KeyboardEvent) => {\n                    if (e.key === 'Enter') e.preventDefault()\n                  }}\n                />\n              </ModalDescription>\n            </SModal.Content>\n            <SModal.Actions>\n              <Button\n                negative\n                disabled={isSubmitting}\n                loading={isSubmitting}\n                type=\"button\"\n                onClick={() => onClose(false)}\n                basic\n              >\n                Cancel\n              </Button>\n              <Button\n                primary\n                disabled={isSubmitting}\n                loading={isSubmitting}\n                onClick={() => {\n                  handleSubmit()\n                }}\n              >\n                Save\n              </Button>\n            </SModal.Actions>\n          </SModal>\n        )\n      }}\n    </Formik>\n  )\n}\n\nexport default AddEditLinkFormModal\n","import { api } from '@root/api'\nimport { LinkFormType, LinkType } from '@root/types'\n\ninterface iUsePeopleApi {\n  createLink: (data: LinkFormType) => Promise<LinkType>\n}\n\nexport const useLinkApi = (): iUsePeopleApi => {\n  const createLink = async (data: LinkFormType) => {\n    const link = await api.createLink(data)\n    return link\n  }\n\n  return {\n    createLink\n  }\n}\n","import React, { useState } from 'react'\nimport { Layout, ColumnForm, ColumnPreview, Header as HeaderTitle } from '../style'\nimport { AddButton } from './style'\nimport { api } from '@root/api'\nimport { LinkType } from '@root/types'\nimport { Divider, Header as SHeader } from 'semantic-ui-react'\nimport LinksList from './LinksList'\nimport LoadingArea from '@root/components/suport/LoadingArea'\nimport { useSetRecoilState } from 'recoil'\nimport { basicModalState } from '@root/components/modals/BasicModal'\nimport AddEditLinkFormModal from '@root/components/modals/AddEditLinkFormModal'\n\ninterface iLinks {\n  links: LinkType[]\n  storyId: string\n  refresh: () => void\n  isLoading: boolean\n}\n\nconst Links: React.FC<iLinks> = ({ storyId, refresh, links, isLoading, children }) => {\n  const setBasicModalState = useSetRecoilState(basicModalState)\n  const [openModal, setOpenModal] = useState<boolean>(false)\n\n  const onRemove = async (value: LinkType) => {\n    setBasicModalState({\n      open: true,\n      title: 'Remove link',\n      isConfirmation: true,\n      onClose: async (isSuccess: boolean) => {\n        if (!isSuccess) return\n        await api.deleteLink(value.id)\n        refresh()\n      },\n      content: (\n        <>\n          Do you want remove link <b>{value.url}</b> from this story?\n        </>\n      )\n    })\n  }\n\n  const handleSelected = async () => {\n    refresh()\n  }\n\n  return (\n    <Layout>\n      <LoadingArea isLoading={isLoading}>\n        <ColumnForm>\n          <HeaderTitle></HeaderTitle>\n          <AddButton primary id=\"save\" onClick={() => setOpenModal(true)}>\n            Add a new link\n          </AddButton>\n          <Divider />\n          <SHeader as=\"h1\">List of links</SHeader>\n          <LinksList links={links} onRemove={onRemove} />\n        </ColumnForm>\n        <ColumnPreview>{children}</ColumnPreview>\n      </LoadingArea>\n      <AddEditLinkFormModal\n        storyId={storyId}\n        open={openModal}\n        onClose={async reload => {\n          setOpenModal(false)\n          if (reload) refresh()\n        }}\n      />\n    </Layout>\n  )\n}\n\nexport default Links\n","import styled from 'styled-components'\nimport { Dropdown } from 'semantic-ui-react'\n\nexport const UploadButtonArea = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  margin-bottom: 12px;\n  @media only screen and (max-width: 1024px) {\n    flex-flow: row-reverse;\n  }\n`\n\nexport const ProgressBox = styled.div`\n  flex: 1;\n  margin: 0 10px;\n`\n\nexport const GridImages = styled.div`\n  display: flex;\n  flex-flow: wrap;\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    height: unset;\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n\n  & > .ui.segment.item {\n    padding: 12px;\n  }\n`\nexport const GridItem = styled.div`\n  cursor: pointer;\n  width: 250px;\n  height: 285px;\n  padding: 8px;\n  position: relative;\n`\n\nexport const ImageBox = styled.div`\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.85);\n  display: flex;\n  justify-content: center;\n  & > .ui.image {\n    object-fit: contain;\n    width: unset;\n    height: unset;\n  }\n`\nexport const Actions = styled(Dropdown)`\n  position: absolute;\n  background: #e0e1e2 none;\n  z-index: 1;\n  border-radius: 10em;\n  padding: 0.78571429em 0.78571429em 0.78571429em;\n  &.ui.dropdown {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    i.icon {\n      margin: unset;\n      width: 1.358em;\n    }\n  }\n`\n","import React, { useEffect, useState } from 'react'\nimport { Actions, GridItem, ImageBox } from './style'\nimport { Image, Loader } from 'semantic-ui-react'\nimport { ImageType } from '@root/types'\nimport { useRecoilValue } from 'recoil'\nimport { mediaStatusState } from '@root/states/mediaStatusState'\n\ninterface iGalleryItem {\n  onClick: () => void\n  onDeleteClick: () => void\n  image: ImageType\n}\n\nconst GalleryItem: React.FC<iGalleryItem> = ({ image, onClick, onDeleteClick }) => {\n  const mediaStatus = useRecoilValue(mediaStatusState)\n  const [progress, setProgress] = useState<boolean>(!image.thumbnail)\n  const [src, setSrc] = useState<string>(image.thumbnail)\n  const id = image.id\n\n  useEffect(() => {\n    if (!mediaStatus[id]) return\n    const { payload, finished } = mediaStatus[id]\n    setProgress(true)\n    if (finished) {\n      setProgress(false)\n      setSrc(payload.thumbnail)\n    }\n  }, [mediaStatus])\n\n  return (\n    <GridItem>\n      <Actions pointing=\"right\" icon=\"ellipsis vertical\">\n        <Actions.Menu>\n          <Actions.Item text=\"Delete\" icon=\"close\" onClick={onDeleteClick} />\n        </Actions.Menu>\n      </Actions>\n      <ImageBox>\n        {!progress ? (\n          <Image src={src} onClick={onClick} size=\"big\" />\n        ) : (\n          <Loader active inverted>\n            Processing...\n          </Loader>\n        )}\n      </ImageBox>\n    </GridItem>\n  )\n}\n\nexport default GalleryItem\n","import React, { useEffect, useState } from 'react'\nimport { Progress } from 'semantic-ui-react'\nimport { Layout, ColumnForm, ColumnPreview, Header } from '../style'\nimport { GridImages, UploadButtonArea, ProgressBox } from './style'\nimport ImageViewer from '@root/components/suport/ImageViewer'\nimport { GalleryType } from '@root/types'\nimport UploadButton from '@root/components/suport/UploadButton'\nimport { api } from '@root/api'\nimport LoadingArea from '@root/components/suport/LoadingArea'\nimport GalleryItem from './GalleryItem'\nimport { toast } from 'react-semantic-toasts'\n\ninterface iGallery {\n  galleries: GalleryType[]\n  storyId: string\n  refresh: () => void\n  isLoading: boolean\n}\n\nconst Gallery: React.FC<iGallery> = ({ children, isLoading, galleries, storyId, refresh }) => {\n  const [selectedImage, setSelectedImage] = useState<number | null>(0)\n  const [showPreview, setShowPreview] = useState<boolean>(false)\n  const [progressFiles, setProgressFiles] = useState<Record<string, number>>({})\n  const [progress, setProgress] = useState<number>(0)\n  const [totalFiles, setTotalFiles] = useState<number>(0)\n\n  const handleShowPreview = (index: number) => {\n    setSelectedImage(index)\n    setShowPreview(true)\n  }\n\n  const handleDelete = async (id: string) => {\n    await api.deleteGallery(id)\n    refresh()\n  }\n\n  useEffect(() => {\n    const max = totalFiles * 100\n    const allValues = Object.values(progressFiles)\n    const current = allValues.reduce((a, b) => a + b, 0)\n    setProgress((current / max) * 100)\n  }, [progressFiles, totalFiles])\n\n  const upload = async (file: File) => {\n    try {\n      const image = await api.uploadImage(file, ({ loaded, total }) => {\n        const progress = Math.round((loaded * 100) / total)\n        setProgressFiles(prevValue => {\n          prevValue[file.name] = progress < 0 ? 0 : progress\n          return { ...prevValue }\n        })\n      })\n      await api.createGallery(storyId, image.id)\n    } catch (error) {\n      toast({\n        type: 'error',\n        title: error.response.data.message,\n        time: 3000,\n        description: `Error: ${error.response.data.code}`\n      })\n    }\n  }\n\n  const handleSelected = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (!event.target.files?.length) return\n    const files = Array.from(event.target.files)\n    setTotalFiles(files.length)\n    await Promise.all(files.map(file => upload(file)))\n    refresh()\n    setProgressFiles({})\n    setTotalFiles(0)\n    setProgress(0)\n  }\n\n  return (\n    <Layout>\n      <LoadingArea isLoading={isLoading}>\n        <ColumnForm>\n          <Header>Create a photo gallery to accompany and enhance your story.</Header>\n          <UploadButtonArea>\n            <UploadButton accept=\"image/*\" onSelected={handleSelected} disabled={!!progress} primary multiple={true}>\n              Upload photos\n            </UploadButton>\n            <ProgressBox>{!!progress && <Progress percent={progress} progress={true} />}</ProgressBox>\n          </UploadButtonArea>\n          <GridImages>\n            {galleries.map((value, index) => {\n              return (\n                <GalleryItem\n                  key={value.id}\n                  image={value.image}\n                  onClick={() => handleShowPreview(index)}\n                  onDeleteClick={() => handleDelete(value.id)}\n                />\n              )\n            })}\n          </GridImages>\n        </ColumnForm>\n        <ImageViewer\n          images={galleries.map(gallery => gallery.image)}\n          index={selectedImage}\n          show={showPreview}\n          onNextClick={() => {\n            if (selectedImage === null) return\n            setSelectedImage(selectedImage + 1)\n          }}\n          onPrevClick={() => {\n            if (selectedImage === null) return\n            setSelectedImage(selectedImage - 1)\n          }}\n          onClose={() => {\n            setShowPreview(false)\n            setSelectedImage(null)\n          }}\n        />\n        <ColumnPreview>{children}</ColumnPreview>\n      </LoadingArea>\n    </Layout>\n  )\n}\n\nexport default Gallery\n","import styled from 'styled-components'\nimport { List as SList } from 'semantic-ui-react'\n\nexport const List = styled(SList)`\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    height: unset;\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n\n  & > .ui.segment.item {\n    padding: 12px;\n    i {\n      vertical-align: middle;\n    }\n  }\n`\n\nexport const Actions = styled.div`\n  display: table-cell;\n  vertical-align: middle;\n  div {\n    display: flex;\n    .ui.button {\n      background-color: unset;\n    }\n  }\n`\n\nexport const Box = styled.div`\n  display: flex;\n  flex-flow: column;\n  & > .ui.selection {\n    margin-bottom: 32px;\n  }\n`\n","import React from 'react'\nimport { Segment, Button, Icon } from 'semantic-ui-react'\nimport { SubtitleType } from '@root/types'\nimport { List, Actions } from './style'\n\ninterface iFiles {\n  subtitles: SubtitleType[]\n  onRemove: (file: SubtitleType) => void\n}\n\nconst SubtitleList: React.FC<iFiles> = ({ subtitles, onRemove }) => {\n  return (\n    <List relaxed=\"very\" size=\"big\">\n      {subtitles.map(subtitle => (\n        <List.Item item=\"true\" key={subtitle.id} as={Segment}>\n          <Icon name=\"file alternate outline\" size=\"big\" />\n          <List.Content verticalAlign=\"middle\">\n            <List.Header>\n              <a href={subtitle.url}>\n                <b>{subtitle.originalName}</b>\n              </a>\n            </List.Header>\n            <List.Description>Language: {subtitle.language}</List.Description>\n          </List.Content>\n          <Actions>\n            <div>\n              <Button icon=\"trash\" circular onClick={() => onRemove(subtitle)} />\n            </div>\n          </Actions>\n        </List.Item>\n      ))}\n    </List>\n  )\n}\nexport default SubtitleList\n","import React, { useState } from 'react'\nimport { Layout, ColumnForm, ColumnPreview, Header } from '../style'\nimport { Box } from './style'\nimport UploadButton from '@root/components/suport/UploadButton'\nimport { api } from '@root/api'\nimport { LanguageEnum, SubtitleType } from '@root/types'\nimport { Divider, DropdownProps, Header as SHeader, Select } from 'semantic-ui-react'\nimport SubtitleList from './SubtitleList'\nimport LoadingArea from '@root/components/suport/LoadingArea'\nimport { useSetRecoilState } from 'recoil'\nimport { basicModalState } from '@root/components/modals/BasicModal'\nimport { toast } from 'react-semantic-toasts'\n\ninterface iSubtitles {\n  subtitles: SubtitleType[]\n  storyId: string\n  refresh: () => void\n  isLoading: boolean\n}\n\nconst countryOptions = Object.values(LanguageEnum).map(item => ({ key: item, value: item, text: item }))\n\nconst Subtitles: React.FC<iSubtitles> = ({ storyId, refresh, subtitles, isLoading, children }) => {\n  const setBasicModalState = useSetRecoilState(basicModalState)\n  const [selectedLanguage, setSelectedLanguage] = useState<LanguageEnum | undefined>()\n\n  const onRemove = async (value: SubtitleType) => {\n    setBasicModalState({\n      open: true,\n      title: 'Remove subtitle',\n      isConfirmation: true,\n      onClose: async (isSuccess: boolean) => {\n        try {\n          if (!isSuccess) return\n          await api.deleteSubtitle(value.id)\n          refresh()\n          toast({\n            type: 'success',\n            title: `Subtitle removed`,\n            time: 3000\n          })\n        } catch (error) {\n          toast({\n            type: 'error',\n            title: error.response.data.message,\n            time: 3000,\n            description: `Error: ${error.response.data.code}`\n          })\n        }\n      },\n      content: (\n        <>\n          Do you want remove subtitle <b>{value.originalName}</b> from this story?\n        </>\n      )\n    })\n  }\n\n  const handleSelected = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (!event.target.files?.length) return\n    const file: File = event.target.files[0]\n    try {\n      await api.uploadSubtitle(storyId, selectedLanguage as LanguageEnum, file, ({ loaded, total }) => {\n        const progress = Math.round((loaded * 100) / total)\n        console.log(progress < 0 ? 0 : progress)\n      })\n      refresh()\n      setSelectedLanguage(undefined)\n      toast({\n        type: 'success',\n        title: `Subtitle uploaded`,\n        time: 3000\n      })\n    } catch (error) {\n      toast({\n        type: 'error',\n        title: error.response.data.message,\n        time: 3000,\n        description: `Error: ${error.response.data.code}`\n      })\n    }\n  }\n\n  const handleSelectChange = (e: React.SyntheticEvent<HTMLElement>, { value }: DropdownProps) => {\n    setSelectedLanguage(value as LanguageEnum)\n  }\n\n  return (\n    <Layout>\n      <LoadingArea isLoading={isLoading}>\n        <ColumnForm>\n          <Header>\n            Add subtitles to your video. Select a language and upload a file. Upload files for different languages and\n            help users understand content in any supported language.\n          </Header>\n          <Box>\n            <Select\n              placeholder=\"Select your language\"\n              options={countryOptions}\n              fluid\n              onChange={handleSelectChange}\n              value={selectedLanguage}\n            />\n            <UploadButton onSelected={handleSelected} disabled={!selectedLanguage} primary fluid accept={'.vtt'}>\n              Upload new subtitle\n            </UploadButton>\n          </Box>\n          <Divider />\n          <SHeader as=\"h1\">List of subtitles</SHeader>\n          <SubtitleList subtitles={subtitles} onRemove={onRemove} />\n        </ColumnForm>\n        <ColumnPreview>{children}</ColumnPreview>\n      </LoadingArea>\n    </Layout>\n  )\n}\n\nexport default Subtitles\n","import styled from 'styled-components'\nimport { Search as SSearch, List as SList, Button as SButton } from 'semantic-ui-react'\n\nexport const AddButton = styled(SButton)`\n  &.ui.button {\n    margin-bottom: 12px;\n  }\n`\n\nexport const Search = styled(SSearch)`\n  margin-top: 4px;\n  & > .ui.input {\n    display: flex;\n    input {\n      border-radius: unset;\n    }\n  }\n`\n\nexport const List = styled(SList)`\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    height: unset;\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n\n  & > .ui.segment.item {\n    padding: 12px;\n  }\n`\n\nexport const SearchItem = styled.span`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  & > div {\n    margin-right: 8px;\n  }\n`\n\nexport const Actions = styled.div`\n  display: table-cell;\n  vertical-align: middle;\n  div {\n    display: flex;\n    .ui.button {\n      background-color: unset;\n    }\n  }\n`\n","import React from 'react'\nimport { Segment, Button } from 'semantic-ui-react'\nimport Avatar from '@root/components/suport/Avatar'\nimport { PersonType } from '@root/types'\nimport { List, Actions } from './style'\n\ninterface iPeoples {\n  persons: PersonType[]\n  removePerson: (person: PersonType) => void\n  editPerson: (person: PersonType) => void\n}\n\nconst Peoples: React.FC<iPeoples> = ({ persons, removePerson, editPerson }) => {\n  return (\n    <List relaxed=\"very\" size=\"big\">\n      {persons.map(person => (\n        <List.Item item=\"true\" key={person.id} as={Segment}>\n          <div className=\"ui image\">\n            <Avatar name={person.name} picture={person.picture?.thumbnail} />\n          </div>\n          <List.Content verticalAlign=\"middle\">\n            <List.Header>{person.name}</List.Header>\n            <List.Description>\n              <a href={person.link} target=\"_blank\" rel=\"noreferrer\">\n                <b>{person.link}</b>\n              </a>{' '}\n            </List.Description>\n          </List.Content>\n          <Actions>\n            <div>\n              <Button\n                icon=\"pencil\"\n                circular\n                onClick={() => {\n                  editPerson(person)\n                }}\n              />\n              <Button icon=\"trash\" circular onClick={() => removePerson(person)} />\n            </div>\n          </Actions>\n        </List.Item>\n      ))}\n    </List>\n  )\n}\nexport default Peoples\n","import React, { useState } from 'react'\nimport { Search as SSearch, SearchItem } from './style'\nimport { SearchResultData } from 'semantic-ui-react/dist/commonjs/modules/Search/Search'\nimport { SearchResultProps } from 'semantic-ui-react/dist/commonjs/modules/Search/SearchResult'\nimport { PersonType } from '@root/types'\nimport Avatar from '@root/components/suport/Avatar'\n\ninterface iSearch {\n  personList: PersonType[]\n  loading: boolean\n  onChange: (data: SearchResultData) => void\n  onSelected: (data: SearchResultData) => void\n}\n\nconst Search: React.FC<iSearch> = ({ personList, onChange, onSelected, loading }) => {\n  const [value, setValue] = useState<string>('')\n\n  const handleResultSelect = (event: React.MouseEvent<HTMLElement>, data: SearchResultData) => {\n    onSelected(data)\n    setValue('')\n  }\n\n  const handleSearchChange = (event: React.MouseEvent<HTMLElement>, data: SearchResultData) => {\n    onChange(data)\n    setValue(data.value || '')\n  }\n\n  return (\n    <SSearch\n      fluid\n      loading={loading}\n      resultRenderer={({ name, picture }: SearchResultProps) => (\n        <SearchItem>\n          <Avatar name={name} picture={picture?.thumbnail} size=\"small\" />\n          {name}\n        </SearchItem>\n      )}\n      placeholder=\"Search for existing person\"\n      onResultSelect={handleResultSelect}\n      onSearchChange={handleSearchChange}\n      results={personList.map(person => ({ ...person, title: person.name }))}\n      value={value}\n    />\n  )\n}\n\nexport default Search\n","import * as yup from 'yup'\n\nexport default yup.object().shape({\n  name: yup.string().required(),\n  link: yup.string().url()\n})\n","import React, { useEffect, useState } from 'react'\nimport { Formik, FormikHelpers } from 'formik'\nimport { Button, Header, Modal as SModal } from 'semantic-ui-react'\nimport { ModalDescription } from '../style'\nimport UploadAvatar from '@root/components/suport/UploadAvatar'\nimport { Input } from '@root/components/suport/FormFields'\nimport schema from './schema'\nimport { usePeopleApi } from './usePeopleApi'\nimport { PersonType } from '@root/types'\nimport { toast } from 'react-semantic-toasts'\n\ninterface iAddEditPersonFormModal {\n  person: PersonType | null\n  open: boolean\n  onClose: (person: PersonType | null) => void\n  isEdit: boolean\n}\n\ninterface iformikValues {\n  name: string\n  link: string\n}\n\nconst AddEditPersonFormModal: React.FC<iAddEditPersonFormModal> = ({ person, open, onClose }) => {\n  const { updatePerson, createPerson } = usePeopleApi()\n  const [pictureId, setPictureId] = useState<string | null>(person?.picture?.id || null)\n  const [initialValues, setInitialValues] = useState<iformikValues>({\n    name: person?.name || '',\n    link: person?.link || ''\n  })\n\n  const isEdit = !!person?.id\n\n  const submit = async (values: iformikValues, helpers: FormikHelpers<iformikValues>) => {\n    try {\n      if (isEdit) {\n        await updatePerson(person?.id as string, { name: values.name, link: values.link, pictureId })\n        onClose(null)\n      } else {\n        onClose(await createPerson({ name: values.name, link: values.link, pictureId }))\n      }\n      toast({\n        type: 'success',\n        title: 'Saved',\n        time: 3000\n      })\n    } catch (error) {\n      toast({\n        type: 'error',\n        title: error.response.data.message,\n        time: 3000,\n        description: `Error: ${error.response.data.code}`\n      })\n      onClose(null)\n    } finally {\n      helpers.resetForm()\n    }\n  }\n\n  useEffect(() => {\n    setInitialValues({\n      name: person?.name || '',\n      link: person?.link || ''\n    })\n  }, [person])\n\n  const handleUploadPictureChange = (pictureId: string | null) => {\n    setPictureId(pictureId)\n  }\n\n  return (\n    <Formik initialValues={initialValues} validationSchema={schema} onSubmit={submit}>\n      {({ isSubmitting, handleSubmit, setValues, values }) => {\n        useEffect(() => {\n          setValues(initialValues)\n        }, [initialValues])\n        return (\n          <SModal open={open} size=\"tiny\">\n            <Header content={isEdit ? 'Edit person' : 'New person'} />\n            <SModal.Content image>\n              <ModalDescription>\n                <UploadAvatar\n                  name={values?.name || ''}\n                  defaultPicture={person?.picture || null}\n                  onChange={handleUploadPictureChange}\n                />\n                <Input\n                  name=\"name\"\n                  label=\"Full Name\"\n                  onKeyPress={(e: React.KeyboardEvent) => {\n                    if (e.key === 'Enter') e.preventDefault()\n                  }}\n                />\n                <Input\n                  name=\"link\"\n                  label=\"Link\"\n                  onKeyPress={(e: React.KeyboardEvent) => {\n                    if (e.key === 'Enter') e.preventDefault()\n                  }}\n                />\n              </ModalDescription>\n            </SModal.Content>\n            <SModal.Actions>\n              <Button\n                negative\n                disabled={isSubmitting}\n                loading={isSubmitting}\n                type=\"button\"\n                onClick={() => onClose(null)}\n                basic\n              >\n                Cancel\n              </Button>\n              <Button\n                primary\n                disabled={isSubmitting}\n                loading={isSubmitting}\n                onClick={() => {\n                  handleSubmit()\n                }}\n              >\n                Save\n              </Button>\n            </SModal.Actions>\n          </SModal>\n        )\n      }}\n    </Formik>\n  )\n}\n\nexport default AddEditPersonFormModal\n","import { api } from '@root/api'\nimport { PersonFormType, PersonType } from '@root/types'\n\ninterface iUsePeopleApi {\n  createPerson: (data: PersonFormType) => Promise<PersonType>\n  updatePerson: (id: string, data: PersonFormType) => Promise<PersonType>\n}\n\nexport const usePeopleApi = (): iUsePeopleApi => {\n  const createPerson = async (data: PersonFormType) => {\n    const person = await api.createPerson(data)\n    return person\n  }\n\n  const updatePerson = async (id: string, data: PersonFormType) => {\n    return api.updatePerson(id, data)\n  }\n\n  return {\n    updatePerson,\n    createPerson\n  }\n}\n","import React, { useState } from 'react'\nimport { Layout, ColumnForm, ColumnPreview, Header as HeaderTitle } from '../style'\nimport { AddButton } from './style'\nimport { PersonType } from '@root/types'\nimport { Divider, Header } from 'semantic-ui-react'\nimport { useSetRecoilState } from 'recoil'\nimport { usePeopleApi } from './usePeopleApi'\nimport Peoples from './Peoples'\nimport Search from './Search'\nimport { SearchResultData } from 'semantic-ui-react/dist/commonjs/modules/Search/Search'\nimport debounce from 'lodash.debounce'\nimport LoadingArea from '@root/components/suport/LoadingArea'\nimport { basicModalState } from '@root/components/modals/BasicModal'\nimport AddEditPersonFormModal from '@root/components/modals/AddEditPersonFormModal'\nimport { toast } from 'react-semantic-toasts'\n\ninterface iPeople {\n  persons?: PersonType[]\n  storyId: string\n  refresh: () => void\n  isLoading: boolean\n}\n\nconst People: React.FC<iPeople> = ({ storyId, children, isLoading, refresh, persons = [] }) => {\n  const [openModal, setOpenModal] = useState<boolean>(false)\n  const [editPerson, setEditPerson] = useState<PersonType | null>(null)\n  const setBasicModalState = useSetRecoilState(basicModalState)\n  const { personList, loadingPeopleList, addPerson, getPersonList, clearPersonList, removePerson } = usePeopleApi()\n\n  const handleSearchChange = ({ value }: SearchResultData) => {\n    getPersonList(value || '')\n  }\n\n  const handleSearchSelected = async ({ result }: SearchResultData) => {\n    await addPerson(storyId, result.id)\n    setBasicModalState({\n      open: true,\n      title: 'Add person',\n      content: <>{result.name} was added to this story.</>\n    })\n    clearPersonList()\n    await refresh()\n  }\n\n  const HandleRemove = async (person: PersonType) => {\n    setBasicModalState({\n      open: true,\n      title: 'Remove person',\n      isConfirmation: true,\n      onClose: async isSuccess => {\n        try {\n          if (!isSuccess) return\n          await removePerson(storyId, person.id)\n          await refresh()\n          toast({\n            type: 'success',\n            title: 'Removed',\n            time: 3000\n          })\n        } catch (error) {\n          toast({\n            type: 'error',\n            title: error.response.data.message,\n            time: 3000,\n            description: `Error: ${error.response.data.code}`\n          })\n        }\n      },\n      content: (\n        <>\n          Do you want remove <b>{person.name}</b> from this story?\n        </>\n      )\n    })\n  }\n\n  const addEditPerson = (person?: PersonType) => {\n    setOpenModal(true)\n    setEditPerson(person || null)\n  }\n\n  return (\n    <Layout>\n      <LoadingArea isLoading={isLoading}>\n        <ColumnForm>\n          <HeaderTitle>\n            Add people who are interviewed or are mentioned in the story. Users will be able to filter / search for\n            stories mentioning specific people. Include links to external websites to learn more.\n          </HeaderTitle>\n          <AddButton primary id=\"save\" onClick={() => addEditPerson()}>\n            Add a new person\n          </AddButton>\n          <Search\n            personList={personList}\n            loading={loadingPeopleList}\n            onChange={debounce(handleSearchChange, 500)}\n            onSelected={handleSearchSelected}\n          />\n          <Divider />\n          <Header as=\"h1\">List of people</Header>\n          <Peoples persons={persons} removePerson={HandleRemove} editPerson={addEditPerson} />\n        </ColumnForm>\n        <ColumnPreview>{children}</ColumnPreview>\n      </LoadingArea>\n      <AddEditPersonFormModal\n        isEdit={false}\n        open={openModal}\n        person={editPerson}\n        onClose={async person => {\n          if (person) {\n            await addPerson(storyId, person.id)\n          }\n          setOpenModal(false)\n          setEditPerson(null)\n          refresh()\n        }}\n      />\n    </Layout>\n  )\n}\n\nexport default People\n","import { useState } from 'react'\nimport { api } from '@root/api'\nimport { PersonType } from '@root/types'\n\ninterface iUsePeopleApi {\n  getPersonList: (name: string) => void\n  clearPersonList: () => void\n  addPerson: (storyId: string, personId: string) => void\n  removePerson: (storyId: string, personId: string) => void\n  personList: PersonType[]\n  loadingPeopleList: boolean\n}\n\nexport const usePeopleApi = (): iUsePeopleApi => {\n  const [personList, setPersonList] = useState<PersonType[]>([])\n  const [loadingPeopleList, setLoadingPeopleList] = useState<boolean>(false)\n\n  const addPerson = async (storyId: string, personId: string) => {\n    await api.addPersonToStory(storyId, personId)\n  }\n\n  const removePerson = async (storyId: string, personId: string) => {\n    await api.removePersonFromStory(storyId, personId)\n  }\n\n  const clearPersonList = () => {\n    setPersonList([])\n  }\n\n  const getPersonList = async (name: string) => {\n    setLoadingPeopleList(true)\n    try {\n      if (!name) {\n        setPersonList([])\n        return\n      }\n      const result = await api.getPersons(0, 1000, name)\n      setPersonList(result.content)\n    } finally {\n      setLoadingPeopleList(false)\n    }\n  }\n\n  return {\n    getPersonList,\n    personList,\n    loadingPeopleList,\n    removePerson,\n    addPerson,\n    clearPersonList\n  }\n}\n","import * as yup from 'yup'\n\nexport default yup.object().shape({\n  name: yup.string().required(),\n  description: yup.string(),\n  location: yup.string().required()\n})\n","import styled from 'styled-components'\nimport { Search as SSearch } from 'semantic-ui-react'\n\nexport const SearchItem = styled.span`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  & > div {\n    margin-right: 8px;\n  }\n`\n\nexport const Search = styled(SSearch)`\n  margin-top: 4px;\n  & > .ui.input {\n    display: flex;\n    input {\n      border-radius: unset;\n    }\n  }\n`\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { api } from '@root/api'\nimport { SearchProps, SearchResultData } from 'semantic-ui-react/dist/commonjs/modules/Search/Search'\nimport { SearchResultProps } from 'semantic-ui-react/dist/commonjs/modules/Search/SearchResult'\nimport { Search as SSearch, SearchItem } from './style'\nimport { LocationSearchType } from '@root/types'\nimport debounce from 'lodash.debounce'\n\ninterface iSearch {\n  onSelected: (data: SearchResultData) => void\n}\n\nconst Search: React.FC<iSearch> = ({ onSelected }) => {\n  const [address, setAddress] = useState<string>('')\n  const [loading, setLoading] = useState<boolean>(false)\n  const [locationList, setLocationList] = useState<LocationSearchType[]>([])\n\n  const handleResultSelect = (event: React.MouseEvent<HTMLElement>, data: SearchResultData) => {\n    onSelected(data)\n    setAddress('')\n  }\n\n  const search = useCallback(\n    debounce(async value => {\n      setLoading(true)\n      const result = await api.searchLocation(value)\n      setLocationList(result)\n      setLoading(false)\n    }, 500),\n    []\n  )\n\n  useEffect(() => {\n    if (!address) return\n    search(address)\n  }, [address])\n\n  const handleSearchChange = async (event: React.MouseEvent<HTMLElement>, data: SearchProps) => {\n    const { value } = data\n    setAddress(value || '')\n  }\n\n  // eslint-disable-next-line camelcase\n  const renderResult = ({ display_name }: SearchResultProps) => <SearchItem>{display_name}</SearchItem>\n\n  return (\n    <SSearch\n      fluid\n      loading={loading}\n      resultRenderer={renderResult}\n      placeholder=\"Search for an address\"\n      onResultSelect={handleResultSelect}\n      onSearchChange={handleSearchChange}\n      results={locationList}\n      value={address}\n    />\n  )\n}\n\nexport default Search\n","import React, { useEffect, useState } from 'react'\nimport { Formik } from 'formik'\nimport { Button, Header, Modal as SModal } from 'semantic-ui-react'\nimport { ModalDescription } from '../style'\nimport { Input, TextArea } from '@root/components/suport/FormFields'\nimport schema from './schema'\nimport { PlaceType } from '@root/types'\nimport Search from './Search'\n\ninterface iAddEditPlaceFormModal {\n  place: PlaceType | null\n  open: boolean\n  onClose: (place: PlaceType | null) => void\n}\n\ninterface iformikValues {\n  description: string\n  name: string\n  location: string\n  latitude: string\n  longitude: string\n  id?: string\n}\n\nconst AddEditPlaceFormModal: React.FC<iAddEditPlaceFormModal> = ({ place, open, onClose }) => {\n  const [initialValues, setInitialValues] = useState<iformikValues>({\n    description: place?.description || '',\n    name: place?.name || '',\n    location: place?.location || '',\n    latitude: place?.latitude || '',\n    longitude: place?.longitude || ''\n  })\n\n  const isEdit = !!place?.id\n\n  const submit = async (values: iformikValues) => {\n    onClose({\n      description: values.description,\n      name: values.name,\n      location: values.location,\n      latitude: values.latitude,\n      longitude: values.longitude,\n      id: values.id || ''\n    })\n  }\n\n  useEffect(() => {\n    setInitialValues({\n      description: place?.description || '',\n      name: place?.name || '',\n      location: place?.location || '',\n      latitude: place?.latitude || '',\n      longitude: place?.longitude || '',\n      id: place?.id || ''\n    })\n  }, [place])\n\n  return (\n    <Formik initialValues={initialValues} validationSchema={schema} onSubmit={submit}>\n      {({ isSubmitting, handleSubmit, setValues, setFieldValue }) => {\n        useEffect(() => {\n          setValues(initialValues)\n        }, [initialValues])\n        return (\n          <SModal open={open} size=\"tiny\">\n            <Header content={isEdit ? 'Edit location' : 'New location'} />\n            <SModal.Content image>\n              <ModalDescription>\n                <Input\n                  name=\"name\"\n                  label=\"Name\"\n                  onKeyPress={(e: React.KeyboardEvent) => {\n                    if (e.key === 'Enter') e.preventDefault()\n                  }}\n                />\n                <TextArea\n                  rows={4}\n                  name=\"description\"\n                  label=\"Description\"\n                  onKeyPress={(e: React.KeyboardEvent) => {\n                    if (e.key === 'Enter') e.preventDefault()\n                  }}\n                />\n                <Search\n                  onSelected={({ result }) => {\n                    // eslint-disable-next-line camelcase\n                    const { display_name, lat, lon } = result\n                    setFieldValue('location', display_name)\n                    setFieldValue('latitude', lat)\n                    setFieldValue('longitude', lon)\n                  }}\n                />\n                <TextArea\n                  disabled\n                  rows={2}\n                  name=\"location\"\n                  label=\"Address\"\n                  onKeyPress={(e: React.KeyboardEvent) => {\n                    if (e.key === 'Enter') e.preventDefault()\n                  }}\n                />\n              </ModalDescription>\n            </SModal.Content>\n            <SModal.Actions>\n              <Button\n                negative\n                disabled={isSubmitting}\n                loading={isSubmitting}\n                type=\"button\"\n                onClick={() => onClose(null)}\n                basic\n              >\n                Cancel\n              </Button>\n              <Button\n                primary\n                disabled={isSubmitting}\n                loading={isSubmitting}\n                onClick={() => {\n                  handleSubmit()\n                }}\n              >\n                Save\n              </Button>\n            </SModal.Actions>\n          </SModal>\n        )\n      }}\n    </Formik>\n  )\n}\n\nexport default AddEditPlaceFormModal\n","import styled from 'styled-components'\nimport { List as SList, Button as SButton } from 'semantic-ui-react'\n\nexport const AddButton = styled(SButton)`\n  &.ui.button {\n    margin-bottom: 12px;\n  }\n`\n\nexport const List = styled(SList)`\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    height: unset;\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n`\n\nexport const Item = styled.div`\n  position: relative;\n  min-width: 500px;\n  & > div:not(:last-child & :first-child) {\n    padding: 8px 16px;\n  }\n  & > div:last-child {\n    height: 260px;\n  }\n\n  @media only screen and (max-width: 1024px) {\n    min-width: unset;\n  }\n`\n\nexport const Actions = styled.div`\n  position: absolute;\n  top: 10px;\n  right: 10px;\n`\n","import React from 'react'\nimport { Actions, List, Item } from './style'\nimport { Button, Segment } from 'semantic-ui-react'\nimport { PlaceType } from '@root/types'\nimport { LatLngExpression } from 'leaflet'\nimport MapViewer from '@root/components/suport/MapViewer'\n\ninterface iOcurrencies {\n  places: PlaceType[]\n  removeOcurrence: (timeline: PlaceType) => void\n}\n\nconst PlacesList: React.FC<iOcurrencies> = ({ places, removeOcurrence }) => {\n  return (\n    <List>\n      {places.map(place => {\n        const position: LatLngExpression = [Number(place.latitude), Number(place.longitude)]\n        return (\n          <Item item=\"true\" key={place.id} as={Segment}>\n            <Actions>\n              <div>\n                <Button icon=\"pencil\" circular disabled />\n                <Button icon=\"trash\" circular onClick={() => removeOcurrence(place)} />\n              </div>\n            </Actions>\n            <div>\n              <b>\n                <label>Name:</label>\n              </b>{' '}\n              {place.name}\n            </div>\n            <div>\n              <b>\n                <label>Description:</label>\n              </b>{' '}\n              {place.description}\n            </div>\n            <div>\n              <b>\n                <label>Address:</label>\n              </b>{' '}\n              {place.location}\n            </div>\n            <MapViewer position={position} markers={[position]} />\n          </Item>\n        )\n      })}\n    </List>\n  )\n}\n\nexport default PlacesList\n","import React, { useState } from 'react'\nimport LoadingArea from '@root/components/suport/LoadingArea'\nimport { ColumnForm, ColumnPreview, Layout, Header } from '../style'\nimport { PlaceType } from '@root/types'\nimport { usePlacesApi } from './usePlacesApi'\nimport AddEditPlaceFormModal from '@root/components/modals/AddEditPlaceFormModal'\nimport PlacesList from './PlacesList'\nimport { AddButton } from './style'\nimport { useSetRecoilState } from 'recoil'\nimport { basicModalState } from '@root/components/modals/BasicModal'\n\ninterface iTimeline {\n  isLoading: boolean\n  storyId: string\n  refresh: () => void\n  places: PlaceType[]\n}\n\nconst Places: React.FC<iTimeline> = ({ isLoading, refresh, storyId, places, children }) => {\n  const [openModal, setOpenModal] = useState<boolean>(false)\n  const { addPlace, removePlace } = usePlacesApi()\n  const setBasicModalState = useSetRecoilState(basicModalState)\n\n  const addEditPlace = (place?: PlaceType) => {\n    setOpenModal(true)\n  }\n\n  const HandleRemove = async (place: PlaceType) => {\n    setBasicModalState({\n      open: true,\n      title: 'Remove place',\n      isConfirmation: true,\n      onClose: async isSuccess => {\n        if (!isSuccess) return\n        await removePlace(place.id)\n        await refresh()\n      },\n      content: (\n        <>\n          Do you want remove <b>{place.name}</b> from this story?\n        </>\n      )\n    })\n  }\n\n  return (\n    <Layout>\n      <LoadingArea isLoading={isLoading}>\n        <ColumnForm>\n          <Header>\n            Add locations where elements of the story took place. User will be able to see maps with the locations you\n            enter\n          </Header>\n          <AddButton primary onClick={() => addEditPlace()}>\n            Add new location\n          </AddButton>\n          <PlacesList places={places} removeOcurrence={HandleRemove} />\n        </ColumnForm>\n        <ColumnPreview>{children}</ColumnPreview>\n        <AddEditPlaceFormModal\n          place={null}\n          open={openModal}\n          onClose={async place => {\n            if (place) {\n              const { description, longitude, latitude, location, name } = place\n              await addPlace({\n                storyId,\n                description,\n                longitude,\n                latitude,\n                location,\n                name\n              })\n            }\n            setOpenModal(false)\n            refresh()\n          }}\n        />\n      </LoadingArea>\n    </Layout>\n  )\n}\n\nexport default Places\n","import { api } from '@root/api'\nimport { PlaceFormType } from '@root/types'\n\ninterface iUsePeopleApi {\n  addPlace: (data: PlaceFormType) => void\n  removePlace: (placeId: string) => void\n}\n\nexport const usePlacesApi = (): iUsePeopleApi => {\n  const addPlace = async (data: PlaceFormType) => {\n    await api.createPlace(data)\n  }\n\n  const removePlace = async (placeId: string) => {\n    await api.deletePlace(placeId)\n  }\n\n  return {\n    addPlace,\n    removePlace\n  }\n}\n","import styled from 'styled-components'\nimport { Segment } from 'semantic-ui-react'\n\nexport const WhatchersContainer = styled(Segment)`\n  height: 26em;\n  overflow-y: auto;\n`\n\nexport const Box = styled.div`\n  & > div {\n    margin-bottom: 32px;\n  }\n`\n\nexport const Actions = styled.div`\n  display: table-cell;\n  vertical-align: middle;\n  div {\n    display: flex;\n    i {\n      cursor: pointer;\n    }\n  }\n`\n","import React from 'react'\nimport { List, Image, Dropdown } from 'semantic-ui-react'\nimport { WatcherType } from '@root/types'\nimport { Actions } from './style'\n\ninterface iUserList {\n  list: WatcherType[]\n  onRemoveWatcher: (email: string) => void\n  resendInvite: (email: string) => void\n}\n\nconst Whatchers: React.FC<iUserList> = ({ list, onRemoveWatcher, resendInvite }) => {\n  return (\n    <List divided relaxed>\n      {list.map(({ id, email, user }) => (\n        <List.Item key={id}>\n          {user?.picture?.thumbnail ? (\n            <Image avatar src={user.picture.thumbnail} />\n          ) : (\n            <List.Icon name=\"user\" size=\"large\" verticalAlign=\"middle\" />\n          )}\n          <List.Content>\n            <List.Header as=\"a\">{email}</List.Header>\n            {user?.firstName && user?.lastName && (\n              <List.Description as=\"a\">{`${user.firstName} ${user.lastName}`}</List.Description>\n            )}\n          </List.Content>\n          <Actions>\n            <Dropdown pointing=\"right\" icon=\"ellipsis vertical\">\n              <Dropdown.Menu>\n                <Dropdown.Item text=\"Remove\" icon=\"close\" onClick={() => onRemoveWatcher(id)} />\n                <Dropdown.Item text=\"Resend invite\" icon=\"mail outline\" onClick={() => resendInvite(id)} />\n              </Dropdown.Menu>\n            </Dropdown>\n          </Actions>\n        </List.Item>\n      ))}\n    </List>\n  )\n}\n\nexport default Whatchers\n","import * as yup from 'yup'\n\nexport default yup.object().shape({\n  watcher: yup.string().required().email('Must be a valid email!')\n})\n","import React from 'react'\nimport { Layout, ColumnForm, ColumnPreview } from '../style'\nimport { Button, Header, Segment, SegmentGroup, Checkbox, CheckboxProps } from 'semantic-ui-react'\nimport { WhatchersContainer, Box } from './style'\nimport Whatchers from './Whatchers'\nimport { api } from '@root/api'\nimport { WatcherType } from '@root/types'\nimport schema from './schema'\nimport { Form, Formik, FormikHelpers } from 'formik'\nimport { Input } from '@root/components/suport/FormFields'\nimport { toast } from 'react-semantic-toasts'\n\ninterface iTranscript {\n  storyId: string\n  published: boolean\n  refresh: () => void\n  watchers: WatcherType[]\n}\n\ninterface iFormikValues {\n  watcher: string\n}\n\nconst Share: React.FC<iTranscript> = ({ children, refresh, published, watchers, storyId }) => {\n  const handleToogle = async (e: React.FormEvent<HTMLInputElement>, { checked }: CheckboxProps) => {\n    try {\n      await api.publishStory(storyId, !!checked)\n      refresh()\n      toast({\n        type: 'success',\n        title: `Story ${published ? 'Draft' : 'Published'}`,\n        time: 3000\n      })\n    } catch (error) {\n      toast({\n        type: 'error',\n        title: error.response.data.message || 'Something wrong, try again!',\n        time: 3000,\n        description: `Error: ${error.response.data.code || 500}`\n      })\n    }\n  }\n\n  const submit = async ({ watcher }: iFormikValues, helpers: FormikHelpers<iFormikValues>) => {\n    try {\n      await api.addWatcher({ storyId, email: watcher })\n      helpers.resetForm()\n      refresh()\n      toast({\n        type: 'success',\n        title: 'Watcher added',\n        time: 3000\n      })\n    } catch (error) {\n      toast({\n        type: 'error',\n        title: error.response.data.message || 'Something wrong, try again!',\n        time: 3000,\n        description: `Error: ${error.response.data.code || 500}`\n      })\n    }\n  }\n\n  const onRemoveWatcher = async (id: string) => {\n    try {\n      await api.removeWatcher(id)\n      refresh()\n      toast({\n        type: 'success',\n        title: 'Watcher removed',\n        time: 3000\n      })\n    } catch (error) {\n      toast({\n        type: 'error',\n        title: error.response.data.message || 'Something wrong, try again!',\n        time: 3000,\n        description: `Error: ${error.response.data.code || 500}`\n      })\n    }\n  }\n\n  const resendInvite = async (id: string) => {\n    try {\n      await api.notifyWatcher(id)\n      refresh()\n      toast({\n        type: 'success',\n        title: 'Invite resented',\n        time: 3000\n      })\n    } catch (error) {\n      toast({\n        type: 'error',\n        title: error.response.data.message || 'Something wrong, try again!',\n        time: 3000,\n        description: `Error: ${error.response.data.code || 500}`\n      })\n    }\n  }\n\n  const initialValues: iFormikValues = {\n    watcher: ''\n  }\n\n  return (\n    <Formik initialValues={initialValues} onSubmit={submit} validationSchema={schema}>\n      {({ isSubmitting }) => (\n        <Form style={{ height: '100%' }}>\n          <Layout>\n            <ColumnForm>\n              <Checkbox toggle label={published ? 'Published' : 'Draft'} onChange={handleToogle} checked={published} />\n              <SegmentGroup>\n                <Segment>\n                  <Header as=\"h4\" textAlign=\"left\">\n                    Choose who will be able to view your video.\n                  </Header>\n                  <Box>\n                    <Input\n                      fluid\n                      name=\"watcher\"\n                      placeholder=\"type an email\"\n                      onKeyPress={(e: React.KeyboardEvent) => {\n                        if (e.key === 'Enter') e.preventDefault()\n                      }}\n                    />\n                    <Button type=\"submit\" fluid primary loading={isSubmitting}>\n                      Share\n                    </Button>\n                  </Box>\n                </Segment>\n                <WhatchersContainer>\n                  <Whatchers list={watchers} onRemoveWatcher={onRemoveWatcher} resendInvite={resendInvite} />\n                </WhatchersContainer>\n              </SegmentGroup>\n            </ColumnForm>\n            <ColumnPreview>{children}</ColumnPreview>\n          </Layout>\n        </Form>\n      )}\n    </Formik>\n  )\n}\n\nexport default Share\n","import styled from 'styled-components'\n\nexport const PreviewBox = styled.div`\n  width: 100%;\n  min-width: 426px;\n  min-height: 240px;\n  position: relative;\n`\n\nexport const StatusBoxWrapper = styled.div`\n  width: 100%;\n  position: absolute;\n  height: 100%;\n  background-color: #000000;\n  color: white;\n  display: flex;\n  align-items: center;\n  padding: 0 20px;\n  i {\n    margin-right: 0.2em;\n  }\n  div {\n    width: 100%;\n    .ui.header {\n      font-size: 1em;\n      color: white;\n      margin-bottom: 8px;\n    }\n    .ui.progress {\n      background-color: white;\n    }\n  }\n`\n","import React from 'react'\nimport { Icon, Progress, Header, SemanticICONS } from 'semantic-ui-react'\nimport { StatusBoxWrapper, PreviewBox } from './style'\nimport { MediaType, VideoDetails, AudioDetails, SubtitleType } from '@root/types'\nimport Player from '@root/components/suport/Player'\n\ninterface iStatusBox {\n  type?: MediaType\n  progress: number\n}\nconst StatusBox: React.FC<iStatusBox> = ({ type, progress }) => {\n  let iconType = 'file'\n  if (type) iconType += ` ${type?.toLowerCase()}`\n  return (\n    <StatusBoxWrapper>\n      <Icon name={iconType as SemanticICONS} size=\"huge\" />\n      <div>\n        <Header>File processing....</Header>\n        <Progress percent={progress} success active size=\"small\" progress=\"percent\" />\n      </div>\n    </StatusBoxWrapper>\n  )\n}\n\ninterface iPreview {\n  ready?: boolean\n  progress: number\n  type?: MediaType\n  thumbnail?: string\n  media?: AudioDetails | VideoDetails\n  subtitles: SubtitleType[]\n}\n\nconst Preview: React.FC<iPreview> = ({ ready, subtitles, type, progress, thumbnail, media }) => {\n  return (\n    <PreviewBox>\n      {!ready && <StatusBox type={type} progress={progress} />}\n      {ready && <Player subtitles={subtitles} type={type} media={media} cover={thumbnail} />}\n    </PreviewBox>\n  )\n}\n\nexport default Preview\n","import React, { useEffect, useState } from 'react'\nimport { Header, Icon } from 'semantic-ui-react'\nimport { Link, useHistory, useLocation, useParams } from 'react-router-dom'\nimport { useApiStory } from './useApiStory'\nimport { ContentArea, Layout } from '../style'\nimport Menu from './Menu'\nimport { parse, stringify } from 'qs'\nimport { Location } from 'history'\nimport { useRecoilValue } from 'recoil'\nimport { mediaStatusState } from '@root/states/mediaStatusState'\nimport Info from './TabsContent/Info'\nimport Transcript from './TabsContent/Transcript'\nimport Timeline from './TabsContent/Timeline'\nimport Files from './TabsContent/Files'\nimport Links from './TabsContent/Links'\nimport Gallery from './TabsContent/Gallery'\nimport Subtitles from './TabsContent/Subtitles'\nimport People from './TabsContent/People'\nimport Places from './TabsContent/Places'\nimport Share from './TabsContent/Share'\nimport Preview from './PreviewBox'\n\nconst StoryDetails: React.FC = () => {\n  const { search, pathname } = useLocation()\n  const [storyProgress, seStoryProgress] = useState<number>(0)\n  const mediaStatus = useRecoilValue(mediaStatusState)\n  const history = useHistory()\n  const parsedQs = parse(search, { ignoreQueryPrefix: true })\n  const { tab } = parsedQs\n\n  const { storyId } = useParams<{ storyId: string }>()\n  const { story, isLoading, setStory, updateStory, refresh } = useApiStory(storyId)\n\n  const {\n    type,\n    ready,\n    published,\n    video,\n    audio,\n    thumbnail,\n    persons,\n    files,\n    links,\n    transcription,\n    galleryEntries,\n    timelineEntries,\n    places,\n    watchers,\n    subtitles\n  } = story\n\n  useEffect(() => {\n    const id = audio?.id || video?.id || ''\n    if (!mediaStatus[id]) return\n    const { payload, finished, progress } = mediaStatus[id]\n    if (finished) {\n      setStory(value => {\n        return {\n          ...value,\n          ready: true,\n          thumbnail: payload.thumbnail,\n          video: {\n            ...value.video,\n            ...payload\n          }\n        }\n      })\n    }\n    seStoryProgress(progress)\n  }, [mediaStatus])\n\n  const handleTabChange = (name: string, isToReplace?: boolean) => {\n    const search = stringify(\n      {\n        ...parsedQs,\n        tab: name\n      },\n      { addQueryPrefix: true }\n    )\n    if (isToReplace) {\n      history.replace({\n        pathname,\n        search\n      } as unknown as Location)\n      return\n    }\n    history.push({\n      pathname,\n      search\n    } as unknown as Location)\n  }\n\n  useEffect(() => {\n    if (!tab) handleTabChange('information', true)\n  }, [tab])\n\n  const PreviewComponent = (\n    <Preview\n      type={type}\n      media={video || audio}\n      progress={storyProgress}\n      thumbnail={thumbnail}\n      ready={ready}\n      subtitles={subtitles || []}\n    />\n  )\n\n  const stiwchRender = () => {\n    switch (tab) {\n      case 'places':\n        return (\n          <Places isLoading={isLoading} refresh={refresh} storyId={storyId} places={places || []}>\n            {PreviewComponent}\n          </Places>\n        )\n      case 'people':\n        return (\n          <People storyId={storyId} persons={persons} refresh={refresh} isLoading={isLoading}>\n            {PreviewComponent}\n          </People>\n        )\n      case 'transcript':\n        return (\n          <Transcript storyId={storyId} refresh={refresh} transcription={transcription}>\n            {PreviewComponent}\n          </Transcript>\n        )\n      case 'timeline':\n        return (\n          <Timeline isLoading={isLoading} refresh={refresh} storyId={storyId} ocurrencies={timelineEntries || []}>\n            {PreviewComponent}\n          </Timeline>\n        )\n      case 'subtitles':\n        return (\n          <Subtitles isLoading={isLoading} refresh={refresh} storyId={storyId} subtitles={subtitles || []}>\n            {PreviewComponent}\n          </Subtitles>\n        )\n      case 'gallery':\n        return (\n          <Gallery isLoading={isLoading} refresh={refresh} storyId={storyId} galleries={galleryEntries || []}>\n            {PreviewComponent}\n          </Gallery>\n        )\n      case 'files':\n        return (\n          <Files storyId={storyId} refresh={refresh} files={files || []} isLoading={isLoading}>\n            {PreviewComponent}\n          </Files>\n        )\n      case 'links':\n        return (\n          <Links storyId={storyId} refresh={refresh} links={links || []} isLoading={isLoading}>\n            {PreviewComponent}\n          </Links>\n        )\n      case 'share':\n        return (\n          <Share storyId={storyId} watchers={watchers || []} published={!!published} refresh={refresh}>\n            {PreviewComponent}\n          </Share>\n        )\n      default:\n        return (\n          <Info story={story} updateStory={updateStory} isLoading={isLoading}>\n            {PreviewComponent}\n          </Info>\n        )\n    }\n  }\n\n  return (\n    <ContentArea>\n      <Layout>\n        <Link to={'/a/stories'}>\n          <Icon name=\"arrow left\" />\n          Back\n        </Link>\n        <Header as=\"h1\">Story</Header>\n        <Menu tab={tab as string} onChange={handleTabChange} />\n        {stiwchRender()}\n      </Layout>\n    </ContentArea>\n  )\n}\n\nexport default StoryDetails\n","import { Dispatch, SetStateAction, useCallback, useEffect, useState } from 'react'\nimport { api } from '@root/api'\nimport { StoryType, StoryUpdateType } from '@root/types'\n\nexport const useApiStory = (\n  storyId: string\n): {\n  story: Partial<StoryType>\n  updateStory: (data: Partial<StoryUpdateType>) => void\n  setStory: Dispatch<SetStateAction<Partial<StoryType>>>\n  isLoading: boolean\n  isSaving: boolean\n  refresh: () => void\n} => {\n  const [story, setStory] = useState<Partial<StoryType>>({})\n  const [isLoading, setIsLoading] = useState<boolean>(true)\n  const [isSaving, setIsSaving] = useState<boolean>(true)\n\n  const getStory = useCallback(async () => {\n    setIsLoading(true)\n    try {\n      setStory(await api.getStory(storyId))\n    } finally {\n      setIsLoading(false)\n    }\n  }, [storyId])\n\n  const updateStory = useCallback(\n    async (data: Partial<StoryUpdateType>) => {\n      setIsSaving(true)\n      try {\n        setStory(await api.updateStory(storyId, data))\n      } finally {\n        setIsSaving(false)\n      }\n    },\n    [storyId]\n  )\n\n  useEffect(() => {\n    getStory()\n  }, [])\n\n  return { story, updateStory, setStory, isLoading, isSaving, refresh: getStory }\n}\n","import React from 'react'\nimport { Header, Grid, Dropdown } from 'semantic-ui-react'\nimport { useHistory } from 'react-router-dom'\nimport StoryCard from '@root/components/suport/StoryCard'\nimport useInfiniteScroll from '@root/hooks/useInfiniteScroll'\nimport { usePageableRequest } from '@root/hooks/usePageableRequest'\nimport { ContentArea, Layout } from '../style'\nimport { StoryType } from '@root/types'\nimport { api } from '@root/api'\nimport { toast } from 'react-semantic-toasts'\nimport { useSetRecoilState } from 'recoil'\nimport { basicModalState } from '@root/components/modals/BasicModal'\n\nconst Stories: React.FC = () => {\n  const history = useHistory()\n  const setBasicModalState = useSetRecoilState(basicModalState)\n  const { loading, items, hasNextPage, error, loadMore, reload } = usePageableRequest<StoryType>({\n    size: 15,\n    request: api.getStories\n  })\n  const [sentryRef] = useInfiniteScroll({\n    loading,\n    hasNextPage,\n    onLoadMore: loadMore,\n    disabled: !!error,\n    rootMargin: '0px 0px 400px 0px'\n  })\n\n  const handleDelete = async (id: string) => {\n    setBasicModalState({\n      open: true,\n      title: 'Delete story',\n      isConfirmation: true,\n      onClose: async (isSuccess: boolean) => {\n        if (!isSuccess) return\n        try {\n          await api.deleteStory(id)\n          reload()\n        } catch (error) {\n          toast({\n            type: 'error',\n            title: error.response.data.message,\n            time: 3000,\n            description: `Error: ${error.response.data.code}`\n          })\n        }\n      },\n      content: <>Are you sure delete this story?</>\n    })\n  }\n\n  return (\n    <ContentArea>\n      <Layout>\n        <Header as=\"h1\">Stories</Header>\n        <Grid>\n          {items.map(story => {\n            return (\n              <Grid.Column key={story.id} tablet={8} mobile={16} widescreen={4} computer={8} largeScreen={4}>\n                <StoryCard\n                  showAutor={false}\n                  story={story}\n                  onClick={() => history.push(`/a/stories/${story.id}/edit`)}\n                  actions={\n                    <>\n                      <Dropdown pointing=\"bottom right\" icon=\"ellipsis vertical\">\n                        <Dropdown.Menu>\n                          <Dropdown.Item\n                            text=\"Preview\"\n                            icon=\"eye\"\n                            onClick={() => history.push(`/a/stories/${story.id}`)}\n                          />\n                          <Dropdown.Item\n                            text=\"Edit\"\n                            icon=\"pencil\"\n                            onClick={() => history.push(`/a/stories/${story.id}/edit`)}\n                          />\n                          <Dropdown.Item text=\"Delete Forever\" icon=\"trash\" onClick={() => handleDelete(story.id)} />\n                        </Dropdown.Menu>\n                      </Dropdown>\n                    </>\n                  }\n                />\n              </Grid.Column>\n            )\n          })}\n          {hasNextPage && <div ref={sentryRef}>loading...</div>}\n        </Grid>\n      </Layout>\n    </ContentArea>\n  )\n}\n\nexport default Stories\n","import styled from 'styled-components'\nimport { Card as SCard } from 'semantic-ui-react'\nimport PlaceholderCollection from './PlaceholderCollection.png'\n\nexport const Card = styled(SCard)`\n  cursor: pointer;\n  max-width: 329px;\n  max-height: 340px;\n  &:hover {\n    box-shadow: 0 2px 6px 0 #bcbdbd, 0 0 0 2px #d4d4d5;\n  }\n  & > .lazyImage > .image > img {\n    object-fit: contain;\n    width: 100%;\n    height: 200px;\n    background-color: black;\n    position: relative;\n  }\n\n  & > .lazyImage > .image > img::after {\n    content: ' ';\n    background-size: cover;\n    background-position: center;\n    background-repeat: no-repeat;\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    z-index: 2;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n\n  & > .lazyImage > .ui.image > img::after {\n    background-image: url(${PlaceholderCollection});\n  }\n`\n\nexport const Description = styled(SCard.Description)`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2; /* number of lines to show */\n  -webkit-box-orient: vertical;\n  height: 3em;\n`\n\nexport const TextBasicEllipsis = styled(SCard.Meta)`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`\n\nexport const Extra = styled.div`\n  margin-top: 0.5em;\n  margin-bottom: 0.5em;\n  height: 1em;\n  display: flex;\n  align-items: center;\n  & > .icon.audio,\n  & > .icon.video {\n    margin-right: 1rem;\n  }\n  & > .avatar {\n    min-width: 24px;\n    margin-right: 0.8rem;\n  }\n  & > span {\n    flex: 1;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-right: 0.8rem;\n  }\n`\n\nexport const Actions = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: end;\n  line-height: 24px;\n`\n","export default \"data:image/png;base64,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\"","import React, { ReactNode } from 'react'\nimport LazyImage from '../LazyImage'\nimport { Card, Extra, TextBasicEllipsis, Actions } from './style'\nimport { CollectionType } from '@root/types'\n\ninterface iStoryCard {\n  collection: CollectionType\n  onClick?: () => void\n  actions?: ReactNode\n}\n\nconst StorieCard: React.FC<iStoryCard> = ({ onClick, collection, actions }) => {\n  const { title, thumbnail, description, stories } = collection\n\n  const cardProps = {\n    onClick\n  }\n\n  return (\n    <Card fluid as=\"div\" className=\"ui fluid card\" {...cardProps}>\n      <LazyImage src={thumbnail} wrapped rounded={false} />\n      <Card.Content>\n        <Card.Header as={TextBasicEllipsis}>{title}</Card.Header>\n        <Extra>\n          <>\n            <span>{`Stories: ${stories.length}`}</span>\n            {actions && <Actions>{actions}</Actions>}\n          </>\n        </Extra>\n      </Card.Content>\n    </Card>\n  )\n}\n\nexport default StorieCard\n","import styled from 'styled-components'\n\nexport const TitleArea = styled.div`\n  display: flex;\n  & > .ui.button {\n    margin: calc(2rem - 0.14285714em) 1em 1rem;\n    margin-top: -0.14285714em;\n  }\n`\n","import React, { useState } from 'react'\nimport { Header, Grid, Button, Dropdown } from 'semantic-ui-react'\nimport { useHistory } from 'react-router-dom'\nimport CollectionCard from '@root/components/suport/CollectionCard'\nimport useInfiniteScroll from '@root/hooks/useInfiniteScroll'\nimport { usePageableRequest } from '@root/hooks/usePageableRequest'\nimport { ContentArea, Layout } from '../style'\nimport { TitleArea } from './style'\nimport { CollectionType } from '@root/types'\nimport { api } from '@root/api'\nimport AddCollectionFormModal from '@root/components/modals/AddCollectionFormModal'\nimport { toast } from 'react-semantic-toasts'\nimport { useSetRecoilState } from 'recoil'\nimport { basicModalState } from '@root/components/modals/BasicModal'\n\nconst Collections: React.FC = () => {\n  const history = useHistory()\n  const setBasicModalState = useSetRecoilState(basicModalState)\n  const [openModal, setOpenModal] = useState<boolean>(false)\n  const { loading, items, hasNextPage, error, loadMore, setItems, reload } = usePageableRequest<CollectionType>({\n    size: 15,\n    request: api.getCollections\n  })\n  const [sentryRef] = useInfiniteScroll({\n    loading,\n    hasNextPage,\n    onLoadMore: loadMore,\n    disabled: !!error,\n    rootMargin: '0px 0px 400px 0px'\n  })\n\n  const handleClose = (collection?: CollectionType) => {\n    if (collection) {\n      setItems([collection, ...items])\n    }\n    setOpenModal(false)\n  }\n\n  const handleDelete = async (id: string) => {\n    setBasicModalState({\n      open: true,\n      title: 'Delete collection',\n      isConfirmation: true,\n      onClose: async (isSuccess: boolean) => {\n        if (!isSuccess) return\n        try {\n          await api.deleteCollection(id)\n          reload()\n        } catch (error) {\n          if (error.response.status === 500) {\n            toast({\n              type: 'warning',\n              title: 'Delete collection',\n              time: 3000,\n              description: `This collection can't be deleted. You need to remove stories from this collection and after try delete it.`\n            })\n            return\n          }\n          toast({\n            type: 'error',\n            title: error.response.data.message,\n            time: 3000,\n            description: `Error: ${error.response.data.code}`\n          })\n        }\n      },\n      content: <>Are you sure delete this collection?</>\n    })\n  }\n\n  return (\n    <ContentArea>\n      <Layout>\n        <TitleArea>\n          <Header as=\"h1\">Collections</Header>\n          <Button icon=\"add\" circular primary onClick={() => setOpenModal(true)} />\n        </TitleArea>\n        <Grid>\n          {items.map(collection => {\n            return (\n              <Grid.Column key={collection.id} tablet={8} mobile={16} widescreen={4} computer={8} largeScreen={4}>\n                <CollectionCard\n                  collection={collection}\n                  onClick={() => history.push(`/a/collections/${collection.id}/edit`)}\n                  actions={\n                    <>\n                      <Dropdown pointing=\"bottom right\" icon=\"ellipsis vertical\">\n                        <Dropdown.Menu>\n                          {!!collection.stories.length && (\n                            <Dropdown.Item\n                              text=\"Preview\"\n                              icon=\"eye\"\n                              onClick={() => history.push(`/a/stories/${collection.stories[0].id}`)}\n                            />\n                          )}\n                          <Dropdown.Item\n                            text=\"Edit\"\n                            icon=\"pencil\"\n                            onClick={() => history.push(`/a/collections/${collection.id}/edit`)}\n                          />\n                          <Dropdown.Item\n                            text=\"Delete Forever\"\n                            icon=\"trash\"\n                            onClick={() => handleDelete(collection.id)}\n                          />\n                        </Dropdown.Menu>\n                      </Dropdown>\n                    </>\n                  }\n                />\n              </Grid.Column>\n            )\n          })}\n          {hasNextPage && <div ref={sentryRef}>loading...</div>}\n        </Grid>\n        <AddCollectionFormModal open={openModal} onClose={handleClose} />\n      </Layout>\n    </ContentArea>\n  )\n}\n\nexport default Collections\n","import styled from 'styled-components'\nimport { List as SList } from 'semantic-ui-react'\n\nexport const TitleArea = styled.div`\n  display: flex;\n  margin-bottom: 1em;\n`\n\nexport const List = styled(SList)`\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    height: unset;\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n\n  & > .ui.segment.item {\n    padding: 12px;\n  }\n`\n","import React from 'react'\nimport { Segment } from 'semantic-ui-react'\nimport Avatar from '@root/components/suport/Avatar'\nimport { PersonType } from '@root/types'\nimport { List } from './style'\n\ninterface iPeoples {\n  persons: PersonType[]\n}\n\nconst Peoples: React.FC<iPeoples> = ({ persons }) => {\n  return (\n    <List relaxed=\"very\" size=\"big\">\n      {persons.map(person => (\n        <List.Item item=\"true\" key={person.id} as={Segment}>\n          <div className=\"ui image\">\n            <Avatar name={person.name} picture={person.picture?.thumbnail} />\n          </div>\n          <List.Content verticalAlign=\"middle\">\n            <List.Header>{person.name}</List.Header>\n            <List.Description>\n              <a href={person.link} target=\"_blank\" rel=\"noreferrer\">\n                <b>{person.link}</b>\n              </a>{' '}\n            </List.Description>\n          </List.Content>\n        </List.Item>\n      ))}\n    </List>\n  )\n}\nexport default Peoples\n","import React from 'react'\nimport { Header, Grid } from 'semantic-ui-react'\nimport useInfiniteScroll from '@root/hooks/useInfiniteScroll'\nimport { usePageableRequest } from '@root/hooks/usePageableRequest'\nimport { ContentArea, Layout } from '../style'\nimport { TitleArea } from './style'\nimport { PersonType } from '@root/types'\nimport Peoples from './Peoples'\nimport { api } from '@root/api'\n\nconst People: React.FC = () => {\n  const { loading, items, hasNextPage, error, loadMore } = usePageableRequest<PersonType>({\n    size: 15,\n    request: api.getPersons\n  })\n  const [sentryRef] = useInfiniteScroll({\n    loading,\n    hasNextPage,\n    onLoadMore: loadMore,\n    disabled: !!error,\n    rootMargin: '0px 0px 400px 0px'\n  })\n\n  return (\n    <ContentArea>\n      <Layout>\n        <TitleArea>\n          <Header as=\"h1\">People</Header>\n        </TitleArea>\n        <Peoples persons={items} />\n        {hasNextPage && <div ref={sentryRef}>loading...</div>}\n      </Layout>\n    </ContentArea>\n  )\n}\n\nexport default People\n","import styled from 'styled-components'\nimport { List as SList } from 'semantic-ui-react'\n\nexport const TitleArea = styled.div`\n  display: flex;\n  margin-bottom: 1em;\n`\n\nexport const List = styled(SList)`\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    height: unset;\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n`\n\nexport const Item = styled.div`\n  position: relative;\n  min-width: 500px;\n  & > div {\n    padding: 8px 16px;\n  }\n  & > div:last-child {\n    height: 260px;\n  }\n\n  @media only screen and (max-width: 1024px) {\n    min-width: unset;\n  }\n`\n","import React from 'react'\nimport { List, Item } from './style'\nimport { Segment } from 'semantic-ui-react'\nimport { PlaceType } from '@root/types'\nimport { LatLngExpression } from 'leaflet'\nimport MapViewer from '@root/components/suport/MapViewer'\n\ninterface iOcurrencies {\n  places: PlaceType[]\n}\n\nconst PlacesList: React.FC<iOcurrencies> = ({ places }) => {\n  return (\n    <List>\n      {places.map(place => {\n        const position: LatLngExpression = [Number(place.latitude), Number(place.longitude)]\n        return (\n          <Item item=\"true\" key={place.id} as={Segment}>\n            <div>\n              <b>\n                <label>Name:</label>\n              </b>{' '}\n              {place.name}\n            </div>\n            <div>\n              <b>\n                <label>Description:</label>\n              </b>{' '}\n              {place.description}\n            </div>\n            <div>\n              <b>\n                <label>Address:</label>\n              </b>{' '}\n              {place.location}\n            </div>\n            <MapViewer position={position} markers={[position]} />\n          </Item>\n        )\n      })}\n    </List>\n  )\n}\n\nexport default PlacesList\n","import React from 'react'\nimport { Header, Grid } from 'semantic-ui-react'\nimport useInfiniteScroll from '@root/hooks/useInfiniteScroll'\nimport { usePageableRequest } from '@root/hooks/usePageableRequest'\nimport { ContentArea, Layout } from '../style'\nimport { TitleArea } from './style'\nimport { PlaceType } from '@root/types'\nimport PlacesList from './PlacesList'\nimport { api } from '@root/api'\n\nconst Places: React.FC = () => {\n  const { loading, items, hasNextPage, error, loadMore } = usePageableRequest<PlaceType>({\n    size: 15,\n    request: api.getPlaces\n  })\n  const [sentryRef] = useInfiniteScroll({\n    loading,\n    hasNextPage,\n    onLoadMore: loadMore,\n    disabled: !!error,\n    rootMargin: '0px 0px 400px 0px'\n  })\n\n  return (\n    <ContentArea>\n      <Layout>\n        <TitleArea>\n          <Header as=\"h1\">Places</Header>\n        </TitleArea>\n        <PlacesList places={items} />\n        {hasNextPage && <div ref={sentryRef}>loading...</div>}\n      </Layout>\n    </ContentArea>\n  )\n}\n\nexport default Places\n","import styled from 'styled-components'\nimport { List as SList } from 'semantic-ui-react'\n\nexport const TitleArea = styled.div`\n  display: flex;\n  margin-bottom: 1em;\n`\n\nexport const GridImages = styled.div`\n  display: flex;\n  flex-flow: wrap;\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    height: unset;\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n\n  & > .ui.segment.item {\n    padding: 12px;\n  }\n`\nexport const GridItem = styled.div`\n  cursor: pointer;\n  width: 250px;\n  height: 285px;\n  padding: 8px;\n  position: relative;\n`\n\nexport const ImageBox = styled.div`\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.85);\n  display: flex;\n  justify-content: center;\n  & > .ui.image {\n    object-fit: contain;\n    width: unset;\n    height: unset;\n  }\n`\n","import React, { useEffect, useState } from 'react'\nimport { GridItem, ImageBox } from './style'\nimport { Image, Loader } from 'semantic-ui-react'\nimport { ImageType } from '@root/types'\nimport { useRecoilValue } from 'recoil'\nimport { mediaStatusState } from '@root/states/mediaStatusState'\n\ninterface iGalleryItem {\n  image: ImageType\n}\n\nconst GalleryItem: React.FC<iGalleryItem> = ({ image }) => {\n  const mediaStatus = useRecoilValue(mediaStatusState)\n  const [progress, setProgress] = useState<boolean>(!image.thumbnail)\n  const [src, setSrc] = useState<string>(image.thumbnail)\n  const id = image.id\n\n  useEffect(() => {\n    if (!mediaStatus[id]) return\n    const { payload, finished } = mediaStatus[id]\n    setProgress(true)\n    if (finished) {\n      setProgress(false)\n      setSrc(payload.thumbnail)\n    }\n  }, [mediaStatus])\n\n  return (\n    <GridItem>\n      <ImageBox>\n        {!progress ? (\n          <Image src={src} size=\"big\" />\n        ) : (\n          <Loader active inverted>\n            Processing...\n          </Loader>\n        )}\n      </ImageBox>\n    </GridItem>\n  )\n}\n\nexport default GalleryItem\n","import React from 'react'\nimport { Header } from 'semantic-ui-react'\nimport useInfiniteScroll from '@root/hooks/useInfiniteScroll'\nimport { usePageableRequest } from '@root/hooks/usePageableRequest'\nimport { ContentArea, Layout } from '../style'\nimport { TitleArea, GridImages } from './style'\nimport { GalleryType } from '@root/types'\nimport GalleryItem from './GalleryItem'\nimport { api } from '@root/api'\n\nconst People: React.FC = () => {\n  const { loading, items, hasNextPage, error, loadMore } = usePageableRequest<GalleryType>({\n    size: 15,\n    request: api.getGallery\n  })\n  const [sentryRef] = useInfiniteScroll({\n    loading,\n    hasNextPage,\n    onLoadMore: loadMore,\n    disabled: !!error,\n    rootMargin: '0px 0px 400px 0px'\n  })\n\n  return (\n    <ContentArea>\n      <Layout>\n        <TitleArea>\n          <Header as=\"h1\">Photos</Header>\n        </TitleArea>\n        <GridImages>\n          {items.map(value => {\n            return <GalleryItem key={value.id} image={value.image} />\n          })}\n          {hasNextPage && <div ref={sentryRef}>loading...</div>}\n        </GridImages>\n      </Layout>\n    </ContentArea>\n  )\n}\n\nexport default People\n","import styled from 'styled-components'\nimport { List as SList } from 'semantic-ui-react'\n\nexport const TitleArea = styled.div`\n  display: flex;\n  margin-bottom: 1em;\n`\n\nexport const List = styled(SList)`\n  overflow: auto;\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    height: unset;\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n\n  & > .ui.segment.item {\n    padding: 12px;\n    i {\n      vertical-align: middle;\n    }\n  }\n`\n","import React from 'react'\nimport { Segment, Icon } from 'semantic-ui-react'\nimport { FileType } from '@root/types'\nimport { List } from './style'\n\ninterface iFiles {\n  files: FileType[]\n}\n\nconst FilesList: React.FC<iFiles> = ({ files }) => {\n  return (\n    <List relaxed=\"very\" size=\"big\">\n      {files.map(file => (\n        <List.Item item=\"true\" key={file.id} as={Segment}>\n          <Icon name=\"file alternate outline\" size=\"big\" />\n          <List.Content verticalAlign=\"middle\">\n            <List.Header>\n              <a href={file.url}>\n                <b>{file.originalName}</b>\n              </a>\n            </List.Header>\n          </List.Content>\n        </List.Item>\n      ))}\n    </List>\n  )\n}\nexport default FilesList\n","import React from 'react'\nimport { Header } from 'semantic-ui-react'\nimport useInfiniteScroll from '@root/hooks/useInfiniteScroll'\nimport { usePageableRequest } from '@root/hooks/usePageableRequest'\nimport { ContentArea, Layout } from '../style'\nimport { TitleArea } from './style'\nimport FilesList from './FilesList'\nimport { api } from '@root/api'\nimport { FileType } from '@root/types'\n\nconst People: React.FC = () => {\n  const { loading, items, hasNextPage, error, loadMore } = usePageableRequest<FileType>({\n    size: 15,\n    request: api.getFiles\n  })\n  const [sentryRef] = useInfiniteScroll({\n    loading,\n    hasNextPage,\n    onLoadMore: loadMore,\n    disabled: !!error,\n    rootMargin: '0px 0px 400px 0px'\n  })\n\n  return (\n    <ContentArea>\n      <Layout>\n        <TitleArea>\n          <Header as=\"h1\">Files</Header>\n        </TitleArea>\n        <FilesList files={items} />\n        {hasNextPage && <div ref={sentryRef}>loading...</div>}\n      </Layout>\n    </ContentArea>\n  )\n}\n\nexport default People\n","import styled from 'styled-components'\nimport { List as SList } from 'semantic-ui-react'\n\nexport const TitleArea = styled.div`\n  display: flex;\n  margin-bottom: 1em;\n`\n\nexport const List = styled(SList)`\n  padding-bottom: 30px !important;\n  padding-right: 8px !important;\n\n  @media only screen and (max-width: 1024px) {\n    height: unset;\n    padding-bottom: unset;\n    padding-right: unset;\n  }\n`\n\nexport const Item = styled.div`\n  position: relative;\n  min-width: 500px;\n  & > div {\n    padding: 8px 16px;\n    word-break: break-word;\n  }\n  @media only screen and (max-width: 1024px) {\n    min-width: unset;\n  }\n`\n","import React from 'react'\nimport { List, Item } from './style'\nimport { Segment } from 'semantic-ui-react'\nimport { TimelineType } from '@root/types'\nimport { format, parse } from 'date-fns'\n\ninterface iOcurrencies {\n  ocurrencies: TimelineType[]\n}\n\nconst Ocurrencies: React.FC<iOcurrencies> = ({ ocurrencies }) => {\n  return (\n    <List>\n      {ocurrencies.map(ocurrence => {\n        return (\n          <Item item=\"true\" key={ocurrence.id} as={Segment}>\n            <div>\n              <b>\n                <label>At:</label>\n              </b>{' '}\n              {format(parse(ocurrence.at as unknown as string, \"yyyy-MM-dd'T'HH:mm:ss'Z'\", new Date()), 'PPP')}\n            </div>\n            <div>\n              <b>\n                <label>Title:</label>\n              </b>{' '}\n              {ocurrence.title}\n            </div>\n            <div>\n              <b>\n                <label>Description:</label>\n              </b>{' '}\n              {ocurrence.description}\n            </div>\n          </Item>\n        )\n      })}\n    </List>\n  )\n}\n\nexport default Ocurrencies\n","import React from 'react'\nimport { Header } from 'semantic-ui-react'\nimport useInfiniteScroll from '@root/hooks/useInfiniteScroll'\nimport { usePageableRequest } from '@root/hooks/usePageableRequest'\nimport { ContentArea, Layout } from '../style'\nimport { TitleArea } from './style'\nimport Ocurrencies from './Ocurrencies'\nimport { api } from '@root/api'\nimport { TimelineType } from '@root/types'\n\nconst People: React.FC = () => {\n  const { loading, items, hasNextPage, error, loadMore } = usePageableRequest<TimelineType>({\n    size: 15,\n    request: api.getTimelines\n  })\n  const [sentryRef] = useInfiniteScroll({\n    loading,\n    hasNextPage,\n    onLoadMore: loadMore,\n    disabled: !!error,\n    rootMargin: '0px 0px 400px 0px'\n  })\n\n  return (\n    <ContentArea>\n      <Layout>\n        <TitleArea>\n          <Header as=\"h1\">Files</Header>\n        </TitleArea>\n        <Ocurrencies ocurrencies={items} />\n        {hasNextPage && <div ref={sentryRef}>loading...</div>}\n      </Layout>\n    </ContentArea>\n  )\n}\n\nexport default People\n","import * as yup from 'yup'\n\nexport default yup.object().shape({\n  title: yup.string().required()\n})\n","import styled from 'styled-components'\nimport { Item } from 'semantic-ui-react'\n\nexport const Title = styled.div`\n  margin-bottom: 32px;\n`\n\nexport const Layout = styled.div`\n  display: flex;\n  height: 100%;\n  position: relative;\n  padding: 24px;\n  @media only screen and (max-width: 1024px) {\n    flex-direction: column;\n    align-items: center;\n    flex-flow: column;\n    overflow-x: hidden;\n  }\n`\n\nexport const FormArea = styled.div`\n  &:before {\n    content: ' ';\n    background-color: #f8f8f8;\n    position: absolute;\n    left: -23px;\n    top: -22px;\n    bottom: -18px;\n    width: 508px;\n    z-index: -1;\n  }\n  & > * > .ui.button {\n    margin-top: 48px;\n  }\n  @media only screen and (max-width: 1024px) {\n    width: 100%;\n    &:before {\n      display: none;\n    }\n  }\n`\n\nexport const StoriesArea = styled.div`\n  margin-top: 48px;\n  left: 508px;\n  right: 22px;\n  position: absolute;\n  @media only screen and (max-width: 1024px) {\n    width: 100%;\n    position: relative;\n    left: unset;\n    right: unset;\n  }\n`\n\nexport const StoryItem = styled(Item)`\n  &.item {\n    border: 1px solid #e0e1e2 !important;\n    height: 200px;\n    min-width: 600px;\n    max-width: 800px;\n  }\n  &.item > .content {\n    padding: 16px 0px 16px 14px !important;\n    & > .description {\n      max-width: fit-content;\n      -webkit-line-clamp: 7;\n      -webkit-box-orient: vertical;\n      display: -webkit-box;\n      overflow: hidden;\n      margin-right: 24px;\n    }\n  }\n  &.item > .lazyImage {\n    height: 200px;\n    width: 352px;\n  }\n  @media only screen and (max-width: 1024px) {\n    &.item {\n      height: unset;\n      min-width: unset;\n    }\n  }\n\n  @media only screen and (max-width: 767px) {\n    &.item > .lazyImage {\n      height: unset;\n      width: unset;\n    }\n  }\n`\n","import React, { useState } from 'react'\nimport schema from './schema'\nimport { ContentArea } from '../style'\nimport { StoriesArea, FormArea, Layout, Title, StoryItem } from './style'\nimport { Input } from '@root/components/suport/FormFields'\nimport CoverDropArea from '@root/components/suport/CoverDropArea'\nimport LoadingArea from '@root/components/suport/LoadingArea'\nimport { Formik, Form } from 'formik'\nimport { Header, Icon, Button } from 'semantic-ui-react'\nimport { useCollectionApi } from './useCollectionApi'\nimport { Link, useParams } from 'react-router-dom'\nimport LazyImage from '@root/components/suport/LazyImage'\n\ninterface iFormkValues {\n  title: string\n}\n\nconst CollectionsDetails: React.FC = () => {\n  const [coverId, setCoverId] = useState<string | undefined>()\n  const { collectionId } = useParams<{ collectionId: string }>()\n\n  const { collection, isLoading, updateCollection } = useCollectionApi(collectionId)\n\n  const submit = async (values: iFormkValues) => {\n    await updateCollection({ ...values, coverId })\n  }\n\n  const initalValues: iFormkValues = {\n    title: collection?.title || ''\n  }\n\n  return (\n    <LoadingArea isLoading={isLoading}>\n      <ContentArea>\n        <Layout>\n          <FormArea>\n            <Title>\n              <Link to={'/a/collections'}>\n                <Icon name=\"arrow left\" />\n                Back\n              </Link>\n            </Title>\n            <Formik initialValues={initalValues} validationSchema={schema} onSubmit={submit}>\n              <Form>\n                <Input\n                  name=\"title\"\n                  label=\"Title\"\n                  onKeyPress={(e: React.KeyboardEvent) => {\n                    if (e.key === 'Enter') e.preventDefault()\n                  }}\n                />\n                <CoverDropArea\n                  onIdChange={setCoverId}\n                  cover={collection?.cover}\n                  noClick={false}\n                  ButtonLabel=\"Upload cover\"\n                />\n                <Button primary fluid>\n                  Save\n                </Button>\n              </Form>\n            </Formik>\n          </FormArea>\n          <StoriesArea>\n            <Header as=\"h1\">Stories</Header>\n            <StoryItem.Group>\n              {collection?.stories.map(item => (\n                <StoryItem key={item.id}>\n                  <LazyImage src={item.thumbnail} wrapped rounded={false} className={`${item.type?.toLowerCase()}`} />\n                  <StoryItem.Content>\n                    <StoryItem.Header as={Link} to={`/a/stories/${item.id}/edit`}>\n                      {item.title}\n                    </StoryItem.Header>\n                    <StoryItem.Description>{item.description || 'N/A'}</StoryItem.Description>\n                  </StoryItem.Content>\n                </StoryItem>\n              ))}\n            </StoryItem.Group>\n          </StoriesArea>\n        </Layout>\n      </ContentArea>\n    </LoadingArea>\n  )\n}\n\nexport default CollectionsDetails\n","import { api } from '@root/api'\nimport { CollectionFormType, CollectionType } from '@root/types'\nimport { useEffect, useState } from 'react'\n\ninterface iUseCollectionApi {\n  getCollection: () => Promise<void>\n  updateCollection: (data: CollectionFormType) => Promise<void>\n  isLoading: boolean\n  collection?: CollectionType\n}\n\nexport const useCollectionApi = (id: string): iUseCollectionApi => {\n  const [isLoading, setIsLoading] = useState<boolean>(false)\n  const [collection, setCollection] = useState<CollectionType | undefined>(undefined)\n\n  const getCollection = async (): Promise<void> => {\n    setIsLoading(true)\n    const collection = await api.getCollection(id)\n    setCollection(collection)\n    setIsLoading(false)\n  }\n\n  const updateCollection = async (data: CollectionFormType): Promise<void> => {\n    const collection = await api.updateCollection(id, data)\n    setCollection(collection)\n  }\n\n  useEffect(() => {\n    getCollection()\n  }, [])\n\n  return {\n    getCollection,\n    collection,\n    isLoading,\n    updateCollection\n  }\n}\n","import styled from 'styled-components'\n\nexport const Wrapper = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-left: auto;\n  margin-right: auto;\n  min-width: 500px;\n  transform: translateY(-50%) translateX(-50%);\n`\n\nexport const Subtitle = styled.div`\n  text-align: center;\n  padding: 16px 0;\n`\n","import React from 'react'\nimport { Button, Header, Icon, Segment } from 'semantic-ui-react'\nimport { Subtitle, Wrapper } from '@root/components/contents/Error/style'\nimport { useHistory } from 'react-router-dom'\n\nconst Forbidden: React.FC = () => {\n  const history = useHistory()\n  return (\n    <Wrapper>\n      <Segment placeholder>\n        <Header icon>\n          <Icon name=\"warning circle\" />\n          <div>Sorry!</div>\n        </Header>\n        <Subtitle>YOU DON`T HAVE PERMISSION TO ACCESS THIS PAGE</Subtitle>\n        <Button onClick={() => history.goBack()} primary>\n          Go Back\n        </Button>\n      </Segment>\n    </Wrapper>\n  )\n}\n\nexport default Forbidden\n","import React from 'react'\nimport { Subtitle, Wrapper } from './style'\nimport { Button, Header, Icon, Segment } from 'semantic-ui-react'\nimport { useHistory } from 'react-router-dom'\n\nconst NotFound: React.FC = () => {\n  const history = useHistory()\n  return (\n    <Wrapper>\n      <Segment placeholder>\n        <Header icon>\n          <Icon name=\"warning circle\" />\n          <div>Sorry!</div>\n        </Header>\n        <Subtitle>THE PAGE YOU WERE LOOKING FOR DOES NOT EXIST</Subtitle>\n        <Button onClick={() => history.push('/a/home')} primary>\n          Go to home\n        </Button>\n      </Segment>\n    </Wrapper>\n  )\n}\n\nexport default NotFound\n","import * as yup from 'yup'\n\nexport default yup.object().shape({\n  token: yup.string().required(),\n  password: yup\n    .string()\n    .required('new password is a required field.')\n    .min(8, 'Password is too short - should be 8 chars minimum.')\n    .matches(/[a-zA-Z]/, 'Password can onlsy contain Latin letters.'),\n  confirmation: yup\n    .string()\n    .oneOf([yup.ref('password'), null], 'new passwords must match')\n    .required('confirm new password is a required field.')\n})\n","import React, { useState } from 'react'\nimport { Header, Button } from 'semantic-ui-react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { Formik, Form } from 'formik'\nimport schema from './schema'\nimport { api } from '@root/api'\nimport { useSetRecoilState } from 'recoil'\nimport { basicModalState } from '@root/components/modals/BasicModal'\nimport { Input } from '@root/components/suport/FormFields'\nimport MessageLink from '@root/components/suport/MessageLink'\nimport { parse } from 'qs'\nimport { PasswordResetForm } from '@root/types'\n\nconst ChangePasswordForm: React.FC = () => {\n  const history = useHistory()\n  const { search } = useLocation()\n  const { token } = parse(search, { ignoreQueryPrefix: true })\n  const setBasicModalState = useSetRecoilState(basicModalState)\n  const [errorMessage, setErrorMessage] = useState<string | undefined>(undefined)\n\n  const handleSubmit = async ({ password, confirmation, token }: PasswordResetForm) => {\n    try {\n      await api.passwordReset({ password, confirmation, token })\n      history.push('/u/signin')\n      setBasicModalState({\n        open: true,\n        title: 'Password changed',\n        content: <>Your password has been reseted.</>\n      })\n    } catch (error) {\n      if (error.response.data.code === '1003') {\n        setBasicModalState({\n          open: true,\n          title: 'Password change',\n          type: 'error',\n          content: <>This link to change the password has expired. Please try again!</>\n        })\n        history.push('/u/signin')\n      }\n\n      if (error.response.data.code === '1002') {\n        setBasicModalState({\n          open: true,\n          title: 'Password change',\n          type: 'error',\n          content: <>This link not exists.</>\n        })\n        history.push('/u/signin')\n      }\n      setErrorMessage('Something was wrong! please try again.')\n    }\n  }\n\n  return (\n    <>\n      <Header as=\"h2\" color=\"black\" textAlign=\"left\">\n        Change your password\n      </Header>\n      <div\n        style={{\n          padding: '16px 0px 32px'\n        }}\n      >\n        <Header as=\"h4\" color=\"black\" textAlign=\"left\">\n          For the most secure password create one with at least 8 numbers or letters:\n        </Header>\n      </div>\n      <Formik\n        initialValues={{ password: '', confirmation: '', token: token as string }}\n        validationSchema={schema}\n        onSubmit={handleSubmit}\n      >\n        {({ isSubmitting }) => (\n          <Form>\n            <Input name=\"password\" placeholder=\"Password\" type=\"password\" errorMessage={errorMessage} />\n            <Input name=\"confirmation\" placeholder=\"Confirm new password\" type=\"password\" errorMessage={errorMessage} />\n            <Button color=\"blue\" fluid size=\"large\" loading={isSubmitting} type=\"submit\">\n              Change\n            </Button>\n            <MessageLink to=\"/u/signin\">Back to login</MessageLink>\n          </Form>\n        )}\n      </Formik>\n    </>\n  )\n}\n\nexport default ChangePasswordForm\n","import React, { useEffect, useRef } from 'react'\nimport 'video.js/dist/video-js.css'\nimport videojs from 'video.js'\nimport { iPlayer } from '@root/types'\n\nimport 'webrtc-adapter'\nimport RecordRTC from 'recordrtc'\n\nimport '@root/videoJsPlugins/video-recorder/css/videojs.record.css'\nimport { register } from '@root/videoJsPlugins/video-recorder/videojs.record'\n\nregister(videojs)\n\nconst options = {\n  controls: true,\n  bigPlayButton: false,\n  fluid: true,\n  aspectRatio: '16:9',\n  plugins: {\n    record: {\n      audio: true,\n      video: {\n        width: { min: 854, ideal: 1280, max: 1920 },\n        height: { min: 480, ideal: 720, max: 1080 }\n      },\n      frameWidth: 1080,\n      frameHeight: 720,\n      maxLength: 10800,\n      videoMimeType: 'video/webm'\n    }\n  }\n}\n\ninterface iRecorder {\n  onReady: (player: iPlayer) => void\n  getDevices?: boolean\n}\n\nconst VideoRecorder: React.FC<iRecorder> = ({ onReady, getDevices = true }) => {\n  const videoRef = useRef(null)\n  const videoRecorderRef = useRef<any | null>(null)\n\n  useEffect(() => {\n    if (!videoRecorderRef.current) {\n      const videoElement = videoRef.current\n      if (!videoElement) return\n      const videoRecorderInstance = videojs(videoElement, options, () => {\n        const versionInfo = `Using video.js: ${videojs.VERSION} with videojs-record: ${videojs.getPluginVersion(\n          'record'\n        )} and recordrtc: ${RecordRTC.version}`\n        videojs.log(versionInfo)\n        if (videoRecorderInstance) {\n          onReady && onReady(videoRecorderInstance as iPlayer)\n        }\n      })\n      videoRecorderRef.current = videoRecorderInstance\n    }\n  }, [onReady, options])\n\n  useEffect(() => {\n    if (getDevices && videoRecorderRef.current) {\n      videoRecorderRef.current.record().getDevice()\n    }\n    return () => {\n      if (videoRecorderRef.current) {\n        videoRecorderRef.current.record().destroy()\n        videoRecorderRef.current = null\n      }\n    }\n  }, [getDevices])\n\n  return (\n    <div data-vjs-player>\n      <video id=\"myVideo\" ref={videoRef} className=\"video-js vjs-default-skin\" playsInline></video>\n    </div>\n  )\n}\n\nexport default VideoRecorder\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport React, { useEffect, useRef } from 'react'\nimport { iPlayer } from '@root/types'\n\nimport 'video.js/dist/video-js.css'\nimport '@root/videoJsPlugins/videojs-wavesurfer/css/videojs.wavesurfer.css'\nimport '@root/videoJsPlugins/video-recorder/css/videojs.record.css'\n\nimport videojs from 'video.js'\nimport WaveSurfer from 'wavesurfer.js'\n\nimport 'webrtc-adapter'\nimport RecordRTC from 'recordrtc'\nimport MicrophonePlugin from 'wavesurfer.js/dist/plugin/wavesurfer.microphone.js'\nimport { register as registerWavesufer } from '@root/videoJsPlugins/videojs-wavesurfer/videojs.wavesurfer'\nimport { register } from '@root/videoJsPlugins/video-recorder/videojs.record'\n\n// @ts-ignore\nWaveSurfer.microphone = MicrophonePlugin\nregisterWavesufer(videojs)\nregister(videojs)\n\nconst options = {\n  controls: true,\n  bigPlayButton: false,\n  fluid: true,\n  aspectRatio: '16:9',\n  plugins: {\n    wavesurfer: {\n      backend: 'WebAudio',\n      waveColor: '#36393b',\n      progressColor: 'black',\n      cursorWidth: 1.5,\n      msDisplayMax: 20,\n      hideScrollbar: true,\n      displayMilliseconds: true,\n      plugins: [\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        WaveSurfer.microphone.create({\n          bufferSize: 4096,\n          numberOfInputChannels: 1,\n          numberOfOutputChannels: 1,\n          constraints: {\n            video: false,\n            audio: true\n          }\n        })\n      ]\n    },\n    record: {\n      audio: true,\n      video: false,\n      maxLength: 10800,\n      audioMimeType: 'audio/webm'\n    }\n  }\n}\n\ninterface iRecorder {\n  onReady: (player: iPlayer) => void\n  getDevices?: boolean\n}\n\nconst AudioRecorder: React.FC<iRecorder> = ({ onReady, getDevices = true }) => {\n  const audioRef = useRef(null)\n  const playerRef = useRef<any | null>(null)\n\n  useEffect(() => {\n    if (!playerRef.current) {\n      const videoElement = audioRef.current\n      if (!videoElement) return\n      const videoRecorderInstance = videojs(videoElement, options, () => {\n        const versionInfo = `Using video.js: ${videojs.VERSION}\n          with videojs-record: ${videojs.getPluginVersion('record')}\n          ,videojs-wavesurfer: ${videojs.getPluginVersion('wavesurfer')}\n          and recordrtc: ${RecordRTC.version}`\n        videojs.log(versionInfo)\n        if (videoRecorderInstance) {\n          onReady && onReady(videoRecorderInstance as iPlayer)\n        }\n      })\n      playerRef.current = videoRecorderInstance\n    }\n  }, [onReady, options])\n\n  useEffect(() => {\n    if (!playerRef.current) return\n    return () => {\n      if (!playerRef.current) return\n      playerRef.current.dispose()\n      playerRef.current = null\n    }\n  }, [])\n\n  return <audio id=\"myAudio\" ref={audioRef} className=\"video-js vjs-default-skin\"></audio>\n}\n\nexport default AudioRecorder\n","import styled from 'styled-components'\n\nexport const Box = styled.div`\n  max-width: 1080px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  & > button {\n    position: absolute;\n    z-index: 2;\n  }\n  & > #myAudio {\n    background-color: #9fd6ba;\n  }\n`\n\nexport const Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: calc(100vh - 66px);\n`\n","import React, { useState, useRef } from 'react'\nimport { useParams } from 'react-router-dom'\nimport VideoRecorder from './VideoRecorder'\nimport AudioRecorder from './AudioRecorder'\nimport { iPlayer } from '@root/types'\nimport { useCreateStory } from '@root/hooks/useCreateStory'\nimport LoadingArea from '@root/components/suport/LoadingArea'\nimport { Button, Icon } from 'semantic-ui-react'\nimport { Box, Wrapper } from './style'\n\nconst Recorder: React.FC = () => {\n  const recorderRef = useRef<iPlayer>(null)\n  const { type } = useParams<{ type: 'audio' | 'video' }>()\n  const [isRecording, setIsRecording] = useState(false)\n  const [finished, setFinished] = useState(false)\n  const { createStory, progress, isUploading } = useCreateStory()\n\n  const handleVideoRecorderReady = (player: iPlayer) => {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    recorderRef.current = player\n\n    // User clicked the record button and started recording\n    player.on('startRecord', () => {\n      setIsRecording(true)\n    })\n\n    player.on('stopRecord', () => {\n      setIsRecording(false)\n    })\n\n    // User completed recording and stream is available\n    player.on('finishRecord', () => {\n      console.log('Finished recording: ', player.recordedData)\n      if (player.recordedData) {\n        setFinished(true)\n      }\n    })\n  }\n\n  const handleSend = async () => {\n    if (!recorderRef.current) return\n    const data = recorderRef.current.recordedData\n    await createStory(data)\n  }\n\n  return (\n    <Wrapper>\n      <Box>\n        {type === 'video' && <VideoRecorder onReady={handleVideoRecorderReady} />}\n        {type === 'audio' && <AudioRecorder onReady={handleVideoRecorderReady} />}\n        <LoadingArea isLoading={isUploading} progress={progress} message={'sending...'} />\n        {recorderRef && finished && (\n          <Button primary size=\"huge\" onClick={handleSend}>\n            <Icon name=\"upload\" />\n            {'Send'}\n          </Button>\n        )}\n      </Box>\n    </Wrapper>\n  )\n}\n\nexport default Recorder\n","import React from 'react'\nimport { BrowserRouter as Router, Switch, Route, Redirect, RouteProps } from 'react-router-dom'\nimport Modals from '@root/components/modals'\nimport AuthenticatedLayout from '@root/layout/AuthenticatedLayout'\nimport PublicLayout from '@root/layout/PublicLayout'\nimport SigninForm from '@root/components/forms/SigninForm'\nimport ForgotPasswordForm from '@root/components/forms/ForgotPasswordForm'\nimport SignupForm from '@root/components/forms/SignupForm'\nimport Home from '@root/components/contents/Home'\nimport Profile from '@root/components/contents/Profile'\nimport Signout from '@root/components/contents/Signout'\nimport ConfirmEmail from '@root/components/contents/ConfirmEmail'\nimport StoryNew from '@root/components/contents/StoryNew'\nimport StoryShow from '@root/components/contents/StoryShow'\nimport StoryDetails from '@root/components/contents/StoryDetails'\nimport Stories from '@root/components/contents/Stories'\nimport Collections from '@root/components/contents/Collections'\nimport People from '@root/components/contents/People'\nimport Places from '@root/components/contents/Places'\nimport Photos from '@root/components/contents/Photos'\nimport Files from '@root/components/contents/Files'\nimport Timelines from '@root/components/contents/Timelines'\nimport CollectionsDetails from '@root/components/contents/CollectionsDetails'\nimport Forbidden from '@root/components/contents/Error/Forbidden'\nimport NotFound from '@root/components/contents/Error/NotFound'\n\nimport { SemanticToastContainer } from 'react-semantic-toasts'\nimport ChangePasswordForm from '@root/components/forms/ChangePasswordForm'\nimport Recorder from '@root/components/contents/Recorder'\n\nconst AuthenticadeRoutes: React.FC<RouteProps> = () => {\n  const tokenItem = localStorage.getItem('token')\n  const token = tokenItem ? JSON.parse(tokenItem) : undefined\n  if (!token) return <Redirect to=\"/u/signin\" />\n  return (\n    <AuthenticatedLayout>\n      <Switch>\n        <Route exact path=\"/a/home\" component={Home} />\n        <Route exact path=\"/a/profile\" component={Profile} />\n        <Route exact path=\"/a/stories/new\" component={StoryNew} />\n        <Route exact path=\"/a/stories/record/:type\" component={Recorder} />\n        <Route exact path=\"/a/stories/:storyId/edit\" component={StoryDetails} />\n        <Route exact path=\"/a/stories/:storyId\" component={StoryShow} />\n        <Route exact path=\"/a/stories\" component={Stories} />\n        <Route exact path=\"/a/collections\" component={Collections} />\n        <Route exact path=\"/a/collections/:collectionId/edit\" component={CollectionsDetails} />\n        <Route exact path=\"/a/people\" component={People} />\n        <Route exact path=\"/a/places\" component={Places} />\n        <Route exact path=\"/a/photos\" component={Photos} />\n        <Route exact path=\"/a/files\" component={Files} />\n        <Route exact path=\"/a/timelines\" component={Timelines} />\n        <Route exact path=\"/a/signout\" component={Signout} />\n        <Route exact path=\"/a/404\" component={NotFound} />\n        <Route exact path=\"/a/403\" component={Forbidden} />\n        <Redirect to=\"/a/home\" />\n      </Switch>\n    </AuthenticatedLayout>\n  )\n}\n\nconst PublicRoutes: React.FC<RouteProps> = () => {\n  const tokenItem = localStorage.getItem('token')\n  const token = tokenItem ? JSON.parse(tokenItem) : undefined\n  if (token) return <Redirect to=\"/a/home\" />\n  return (\n    <PublicLayout>\n      <Switch>\n        <Route path=\"/u/signin\" component={SigninForm} />\n        <Route path=\"/u/signup\" component={SignupForm} />\n        <Route path=\"/u/forgot-password\" component={ForgotPasswordForm} />\n        <Route path=\"/u/password-reset\" component={ChangePasswordForm} />\n        <Route path=\"/u/confirmation-email\">\n          <ConfirmEmail>\n            <SigninForm />\n          </ConfirmEmail>\n        </Route>\n        <Redirect to=\"/u/signin\" />\n      </Switch>\n    </PublicLayout>\n  )\n}\n\nconst Routes: React.FC = () => {\n  return (\n    <Router>\n      <Modals />\n      <SemanticToastContainer position={'bottom-left'} />\n      <Switch>\n        <Route path=\"/u\">\n          <PublicRoutes />\n        </Route>\n        <Route path=\"/a\">\n          <AuthenticadeRoutes />\n        </Route>\n        <Redirect to=\"/a\" />\n      </Switch>\n    </Router>\n  )\n}\n\nexport default Routes\n","import React from 'react'\nimport { FallbackProps } from 'react-error-boundary'\nimport { Button, Header, Icon, Segment } from 'semantic-ui-react'\nimport { Subtitle, Wrapper } from '@root/components/contents/Error/style'\n\nconst Error: React.FC<FallbackProps> = ({ resetErrorBoundary }) => {\n  return (\n    <Wrapper>\n      <Segment placeholder>\n        <Header icon>\n          <Icon name=\"warning circle\" />\n          <div>Sorry!</div>\n        </Header>\n        <Subtitle>Something went wrong!</Subtitle>\n        <Button onClick={resetErrorBoundary} primary>\n          Try again\n        </Button>\n      </Segment>\n    </Wrapper>\n  )\n}\n\nexport default Error\n","import React, { useEffect } from 'react'\nimport { useSetRecoilState } from 'recoil'\nimport { mediaQueryState } from '@root/states/mediaQueryState'\nimport matchMedia from 'matchmediaquery'\n\nexport const ResizeObserver: React.FC = () => {\n  const set = useSetRecoilState(mediaQueryState)\n\n  useEffect(() => {\n    function handleResize() {\n      const isMobile = matchMedia('(max-width: 767px)').matches\n      const isTablet = matchMedia('(max-width: 1024px)').matches\n      set({ isMobile, isTablet })\n    }\n\n    window.addEventListener('resize', handleResize)\n    return () => {\n      window.removeEventListener('resize', handleResize)\n    }\n  }, [])\n\n  return null\n}\n\nexport default ResizeObserver\n","import React from 'react'\nimport { Router } from 'react-router-dom'\nimport Routes from '@root/Routes'\nimport { createBrowserHistory } from 'history'\nimport { ErrorBoundary } from 'react-error-boundary'\nimport Error from '@root/components/contents/Error/Error'\nimport ResizeObserver from './ResizeObserver'\n\nexport const history = createBrowserHistory()\n\nconst App: React.FC = () => {\n  return (\n    <ErrorBoundary FallbackComponent={Error} onReset={() => window.location.replace(window.location.href)}>\n      <ResizeObserver />\n      <Router history={history}>\n        <Routes />\n      </Router>\n    </ErrorBoundary>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport './themes/semantic.css'\nimport 'react-semantic-toasts/styles/react-semantic-alert.css'\nimport '@draft-js-plugins/mention/lib/plugin.css'\nimport './index.css'\nimport { RecoilRoot } from 'recoil'\n\nReactDOM.render(\n  <RecoilRoot>\n    <App />\n  </RecoilRoot>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}